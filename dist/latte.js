!function(){"use strict";function e(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}function y(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=document.createElement(t);return void 0!==e&&e(n),n}function n(a,r,t,o){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{passive:!0};-1<t.indexOf(" ")?t.split(" ").forEach(function(t){return n(a,r,t,o)}):a.addEventListener(t,function(t){var e=a.querySelectorAll(r);if(e){for(var n,i=t.target;i&&-1===(n=Array.prototype.indexOf.call(e,i));)i=i.parentElement;-1<n&&o(i,t)}},e)}function t(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,n=[];return e.querySelectorAll(t).forEach(function(t){return n.push(t)}),n}var i={closest:e,createElement:y,downloadFile:function(e,n){y("a",function(t){t.download=e,t.href=n,document.body.appendChild(t),t.click(),t.remove()})},live:n,printDocument:function(t){var e=window.open(t);e.addEventListener("load",function(){e.print(),e.addEventListener("focus",function(){return e.close()})})},querySelectorAll:t,toDOM:function(t){var e,n=document.createElement("div"),i=document.createDocumentFragment();for(n.innerHTML=t;e=n.firstChild;)i.appendChild(e);return i}};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t){for(var e=arguments,n=arguments.length,i=new Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=e[a];if(0===i.length)return t;var r=i.shift();if(!d(t)||!d(r))return l.apply(void 0,[t].concat(i));for(var o in r)r.hasOwnProperty(o)&&(d(r[o])?(t[o]||Object.assign(t,s({},o,r[o])),l(t[o],r[o])):Object.assign(t,s({},o,r[o])));return l.apply(void 0,[t].concat(i))}function c(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;Latte.messages.alert("Aw snap!","<pre>".concat(t.stack,"</pre>")),e&&e()}function d(t){return t&&"object"===a(t)&&!Array.isArray(t)}function o(t){return null!==t&&"function"==typeof t[Symbol.iterator]}function b(t,e){return window.setTimeout(e,t)}function r(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=n,a=t[n];for(var r in a.value&&(i+="=".concat(a.value)),a.vars)a.vars.hasOwnProperty(r)&&(i+="/".concat(r,":").concat(a.vars[r]));e.push(i)}var o=e.join("&");0<o.length?location.hash=o:history.replaceState({},document.title,location.pathname+location.search)}var u={deepMerge:l,handleError:c,interval:function(t,e){return e(),window.setInterval(e,t)},isObject:d,isIterable:o,randomPassword:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:9,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"luds",n=[];-1<e.indexOf("l")&&n.push("abcdefghjkmnpqrstuvwxyz"),-1<e.indexOf("u")&&n.push("ABCDEFGHJKMNPQRSTUVWXYZ"),-1<e.indexOf("d")&&n.push("123456789"),-1<e.indexOf("s")&&n.push("!@#$%&*?");var i="",a="";n.forEach(function(t){a+=t[Math.floor(Math.random()*t.length)],i+=t});for(var r=0;r<t-n.length;r++)a+=i[Math.floor(Math.random()*i.length)];return function(t){for(var e=t.split(""),n=e.length-1;0<n;n--){var i=Math.floor(Math.random()*(n+1)),a=e[n];e[n]=e[i],e[i]=a}return e.join("")}(a)},register:function(t){t(window.Latte)},timeout:b,updateURLHash:r},h={};function _(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0;void 0!==h[t]&&h[t].forEach(function(t){return t(e,n,i)})}function p(t,e){void 0===h[t]&&(h[t]=[]),h[t].push(e)}var f={dispatch:_,on:p};function m(){var t=new Uint32Array(3);return window.crypto.getRandomValues(t),"latte-"+t.join("-")}function v(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},{credentials:"include"},e);return fetch(t,n)}n(document.body,"[data-action]","click",function(t,e){return i=e,a=(n=t).dataset.action,r=n.dataset,void(void 0!==h[a]&&h[a].forEach(function(t){return t(r,n,i)}));var n,i,a,r},{passive:!0}),p("latte:hash-change",function(t){var e=t.action;delete t.action,r(t),null!=e&&_(e.value,e.vars)});var g={id:m,request:v};var C={copy:function(t){navigator.clipboard.writeText(t).then(function(){return console.debug("[Clipboard] Text copied to clipboard!")}).catch(function(t){return console.error(t)})},paste:function(){return navigator.clipboard.readText().catch(function(t){return console.error(t)})}};function x(t){t="".concat(t,"=");for(var e=decodeURIComponent(document.cookie).split(";"),n=0;n<e.length;n++){for(var i=e[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return JSON.parse(decodeURIComponent(i.substring(t.length)))}}function k(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:21,i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie="".concat(t,"=").concat(encodeURIComponent(JSON.stringify(e)),";expires=").concat(i.toUTCString(),";path=/")}var S={getCookie:x,setCookie:k},L=window.top!==window,R=null;function E(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"root";for(var n in t)t.hasOwnProperty(n)&&(t[n]=$(e,t[n]));return t}function D(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=0;n<e.length;n++)t=t.replace(new RegExp("@".concat(n),"g"),e[n]);return t}function $(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return null===R||void 0===R[t]||void 0===R[t][e]?D(e,n):D(R[t][e],n)}function P(t){void 0!==t&&(R=t.data),_("latte:i18n:translations-loaded",R)}P(L?void 0:{data:window.LatteI18n||{}});var I={forObject:E,replace:D,translate:$};var F={isJson:function(t){try{return JSON.parse(t),!0}catch(t){return!1}}};function M(t,e){return null===t||null===e||a(t)!==a(e)?null:"string"==typeof t?t.localeCompare(e):e<t?1:t<e?-1:0}var O={spaceship:M},N={OK:1,CANCEL:2,YES:4,NO:8,UPDATE:16,SAVE:32,REMOVE:64,CREATE:128,GO:256,PROCEED:512},A=[{id:N.OK,icon:"check-circle",label:"OK",classes:["btn-contained","btn-primary"],weight:1},{id:N.CANCEL,icon:null,label:"Cancel",classes:["btn-text","btn-dark"],weight:0},{id:N.YES,icon:"check-circle",label:"Yes",classes:["btn-contained","btn-primary"],weight:1},{id:N.NO,icon:null,label:"No",classes:["btn-text","btn-dark"],weight:0},{id:N.UPDATE,icon:"check-circle",label:"Update",classes:["btn-contained","btn-primary"],weight:1},{id:N.SAVE,icon:"check-circle",label:"Save",classes:["btn-contained","btn-primary"],weight:1},{id:N.REMOVE,icon:"alert-circle",label:"Remove",classes:"error",weight:1},{id:N.CREATE,icon:"check-circle",label:"Create",classes:["btn-contained","btn-primary"],weight:1},{id:N.GO,icon:"arrow-right-bold-circle",label:"Go",classes:["btn-contained","btn-primary"],weight:1},{id:N.PROCEED,icon:"arrow-right-bold-circle",label:"Proceed",classes:["btn-contained","btn-primary"],weight:1}];function q(f,m,v){var g=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return new Promise(function(e){var i,a=y("div",function(t){return t.classList.add("latte-overlay","is-visible")}),t=y("div",function(t){return t.classList.add("panel","panel-alert")}),n=y("div",function(t){return t.classList.add("panel-header")}),r=y("div",function(t){return t.classList.add("panel-body")}),o=y("div",function(t){return t.classList.add("panel-footer","justify-content-end")});if(a.style.setProperty("z-index","7000000"),a.setAttribute("role","dialog"),v=function(t){for(var e=[],n=0;n<A.length;n++){var i=A[n];(t&i.id)===i.id&&e.push(i)}return(e=e.sort(function(t,e){return M(t.weight,e.weight)})).forEach(function(t){return t.label=$("root",t.label)}),e}(v),n.appendChild(y("span",function(t){t.classList.add("panel-title"),t.innerHTML=f})),r.appendChild(y("p",function(t){return t.innerHTML=m})),g){var s=y("div",function(t){return t.classList.add("form-group","mb-0")});i=y("input",function(t){t.classList.add("form-control"),t.setAttribute("type","text"),s.appendChild(t)}),r.appendChild(s)}var l=!0,c=!1,d=void 0;try{for(var u,h=function(){var n=u.value,t=y("button",function(t){var e;return(e=t.classList).add.apply(e,["btn","btn-contained"].concat(w(n.classes)))});null!==n.icon&&t.appendChild(y("i",function(t){return t.classList.add("mdi","mdi-".concat(n.icon))})),t.appendChild(y("span",function(t){return t.innerHTML=n.label})),t.addEventListener("click",function(){b(0,function(){return a.classList.remove("is-open")}),b(270,function(){return a.classList.remove("is-visible")}),e({button:n.id,input:g?i.value:void 0})}),o.appendChild(t)},p=v[Symbol.iterator]();!(l=(u=p.next()).done);l=!0)h()}catch(t){c=!0,d=t}finally{try{l||null==p.return||p.return()}finally{if(c)throw d}}t.appendChild(n),t.appendChild(r),t.appendChild(o),a.appendChild(t),document.body.appendChild(a),b(0,function(){return a.classList.add("is-visible")}),b(20,function(){return a.classList.add("is-open")})})}function T(t,e){return q(t,e,N.OK|N.CANCEL)}var j={Buttons:N,ButtonsDescribed:A,createMessage:q,alert:function(t,e){return q(t,e,N.OK)},confirm:T,prompt:function(t,e){return q(t,e,N.OK|N.CANCEL,!0)}};function z(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=m(),a=document.createElement("div");if(a.classList.add("notice","notice-".concat(e),"with-button"),a.setAttribute("id",i),n){var r=document.createElement("button");r.classList.add("btn","btn-text","btn-icon","btn-dark","notice-dismiss");var o=document.createElement("i");o.classList.add("mdi","mdi-close"),r.appendChild(o),r.addEventListener("click",function(){return V(i)},{passive:!0}),a.appendChild(r)}var s=document.createElement("p");s.innerHTML=t,a.appendChild(s);var l=document.querySelector("main#app > div.content");return l.insertBefore(a,l.querySelector(":scope > *:first-child")),i}function H(t){return t["@type"]&&"Latte\\Framework\\Entity\\Notice"===t["@type"]}function V(t){var e=document.querySelector("div.notice#".concat(t));e.parentNode.removeChild(e)}var B={areEntitiesNotices:function(t){if(!o(t))return!1;var e=!0,n=!1,i=void 0;try{for(var a,r=t[Symbol.iterator]();!(e=(a=r.next()).done);e=!0)if(!H(a.value))return!1}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}return!0},create:z,isEntityNotice:H,remove:V},W=0,U={};function Y(t){if(void 0===U[t])throw new Error("Overlay ".concat(t," is not registred!"));return U[t]}function X(t){var e=Y(t);e.open(),setTimeout(function(){return e.$el.style.zIndex="".concat(2e6+W)},1),W++}function K(t,e){U[t]=e}function J(t){delete U[t]}var G={close:function(t){Y(t).close()},find:Y,open:X,register:K,remove:J};function Z(t){var e=t.querySelector("div.panel-header");if(null!==e){var n=0<e.querySelectorAll(".ml-auto").length,i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("panel-toggle","btn","btn-text","btn-icon","btn-dark"),n||i.classList.add("ml-auto"),i.innerHTML='<i class="mdi mdi-chevron-down"></i>',e.appendChild(i),t.classList.contains("is-open")?tt(t):Q(t),i.addEventListener("click",function(){t.classList.contains("is-open")?Q(t):tt(t)})}}function Q(t){var e=t;null!==e.querySelector(":scope > form")&&(e=e.querySelector(":scope > form"));for(var n=e.querySelectorAll(":scope > div:not(.panel-header)"),i=0;i<n.length;i++)n.item(i).classList.add("d-none");e.querySelector("div.panel-header > button.panel-toggle").querySelector("i.mdi").classList.remove("mdi-rotate-180"),t.classList.add("is-closed"),t.classList.remove("is-open")}function tt(t){var e=t;null!==e.querySelector(":scope > form")&&(e=e.querySelector(":scope > form"));for(var n=e.querySelectorAll(":scope > div:not(.panel-header)"),i=0;i<n.length;i++)n.item(i).classList.remove("d-none");e.querySelector("div.panel-header > button.panel-toggle").querySelector("i.mdi").classList.add("mdi-rotate-180"),t.classList.remove("is-closed"),t.classList.add("is-open")}var et={close:Q,initializePanel:Z,open:tt};function nt(){return document.body.dataset.theme=document.body.dataset.theme||x("$ui:theme")||"light",new Vue({el:"main#app",created:function(){var e=this;p("latte:switch-theme",function(t){return e.onSwitchTheme(t)}),window.addEventListener("hashchange",it,!1)},mounted:function(){!function(){if(!("LatteSW"in window))return;if(!("serviceWorker"in navigator))return;if(!window.isSecureContext)return;navigator.serviceWorker.getRegistration().then(function(t){if(void 0!==t)return t.update();navigator.serviceWorker.register("/service-worker.js").then(function(){return console.debug("Service Worker installed!")}).catch(function(t){return console.error("Service Worker not installed due to an error.",t)})})}(),it(),function(){var t=window.location.search.substr(1);if(""===t)return;"saved="===t.substr(0,6)&&history.replaceState(null,"",window.location.pathname||window.location.path)}()},methods:{onSwitchTheme:function(t){if("themeId"in t){var e=t.themeId;k("$ui:theme",document.body.dataset.theme=e)}}}})}function it(){var t=location.hash.substr(1);if(t&&0!==t.length){var e=t.split("&"),n={},i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var l=o.value.split("=",2),c=l[1]||null,d={};if(-1<c.indexOf("/")){var u=c.split("/");c=u.shift();var h=!0,p=!1,f=void 0;try{for(var m,v=u[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var g=m.value.split(":",2);d[g[0]]=g[1]}}catch(t){p=!0,f=t}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}}n[l[0]]={value:c,vars:d}}}catch(t){a=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}_("latte:hash-change",n)}}function at(){t('form[method="post"]').forEach(function(t){return(e=t).addEventListener("submit",rt.bind(window,e)),void e.addEventListener("keyup",function(t,e){!0===e.ctrlKey&&"Enter"===(e.code||e.key)&&(rt(t),t.submit())}.bind(window,e));var e})}function rt(t){t.querySelectorAll(".btn[type=submit]").forEach(function(t){if(!t.classList.contains("btn-icon")){var e=t.querySelector("i.mdi");null!==e&&(e.classList.add("spinner"),t.classList.contains("btn-light")?e.classList.add("spinner-primary"):e.classList.add("spinner-light"),t.classList.add("disabled"))}})}var ot=null;function st(){ot=y("div",function(t){t.setAttribute("class","tooltip is-hidden"),document.body.appendChild(t)}),n(document.body,"[data-tooltip]","pointerover",function(t,e){return function(t){var e=t.dataset.tooltip,n=t.dataset.tooltipClass||"tooltip-bottom";if(""===e.trim())return;if(t.classList.contains("tooltip-disabled"))return;ot.innerHTML=e,ot.setAttribute("class","tooltip ".concat(n)),ot.style.removeProperty("--tooltip-arrow-top"),ot.style.removeProperty("--tooltip-arrow-left");var i=t.getBoundingClientRect(),a=ot.getBoundingClientRect(),r=0,o=0;ot.classList.contains("tooltip-top")?(r=i.top-a.height-9,o=i.left+(i.width/2-a.width/2)):ot.classList.contains("tooltip-left")?(r=i.top+(i.height/2-a.height/2),o=i.left-a.width-9):ot.classList.contains("tooltip-right")?(r=i.top+(i.height/2-a.height/2),o=i.left+i.width+9):ot.classList.contains("tooltip-bottom")&&(r=i.top+i.height+9,o=i.left+(i.width/2-a.width/2));if(ot.classList.contains("tooltip-contain")){if(ot.classList.contains("tooltip-top")||ot.classList.contains("tooltip-bottom")){var s=0;o<12&&(o+=s=12-o),o+a.width+12>window.innerWidth&&(s=window.innerWidth-(o+a.width+12),o+=s),0!==s&&ot.style.setProperty("--tooltip-arrow-left","calc((50% - .45em) - ".concat(Math.floor(s),"px)"))}if(ot.classList.contains("tooltip-left")||ot.classList.contains("tooltip-right")){var l=0;r<12&&(r+=l=12-r),r+a.height+12>window.innerHeight&&(l=window.innerHeight-(r+a.height+12),r+=l),0!==l&&ot.style.setProperty("--tooltip-arrow-top","calc((50% - .45em) - ".concat(Math.floor(l),"px)"))}}ot.style.setProperty("transform","translate3d(".concat(Math.round(o),"px, ").concat(Math.round(r),"px, 0)"))}(t)}),n(document.body,"[data-tooltip]","pointerout",function(t,e){return lt()}),p("latte:tooltip:hide",function(){return lt()})}function lt(){ot.classList.add("is-hidden")}var ct=new Vue({data:function(){return{isCompact:!0===x("$ui:collapsed"),isNavOpen:!1}},methods:{toggleNav:function(){this.isCompact=!this.isCompact,this.isNavOpen=!this.isNavOpen}},watch:{isCompact:function(){k("$ui:collapsed",this.isCompact),this.isCompact?t("[data-ui-is-compact]").forEach(function(t){return t.classList.add("is-compact")}):t("[data-ui-is-compact]").forEach(function(t){return t.classList.remove("is-compact")})},isNavOpen:function(){this.isNavOpen?t("[data-ui-is-nav-open]").forEach(function(t){return t.classList.add("is-nav-open")}):t("[data-ui-is-nav-open]").forEach(function(t){return t.classList.remove("is-nav-open")})}}});Vue.mixin({beforeCreate:function(){this.$ui=ct}});var dt={name:"latte-autocomplete",props:{defaultValue:{default:void 0,required:!1},disabled:{default:!1,required:!1,type:Boolean},limit:{default:5,required:!1,type:Number},multiSelect:{default:!1,required:!1,type:Boolean},name:{default:m(),required:!1,type:String},offset:{default:0,required:!1,type:Number},placeholder:{default:"Search...",required:!1,type:String},url:{required:!0,type:String},value:{default:function(){return[]},required:!1,type:Array|Number}},data:function(){return{abortController:null,canEmit:!0,canOpen:!1,isLoading:!1,currentSuggestion:-1,searchTerm:"",suggestions:[],valueLast:[],values:[]}},mounted:function(){this.onValueChanged()},computed:{canSearch:function(){return this.multiSelect||0===this.values.length},shouldOpenSuggestions:function(){return this.canOpen&&0<this.suggestionsFiltered.length},suggestionsFiltered:function(){var t=this;return this.suggestions.filter(function(e){return 0===t.values.filter(function(t){return t.label===e.label&&t.value===e.value}).length})}},methods:{addValue:function(e,n){void 0!==e&&void 0!==n&&(0<this.values.filter(function(t){return t.value===n&&t.label===e}).length||this.values.push({label:e,value:n}))},removeValue:function(e){this.values=this.values.filter(function(t){return t.value!==e})},onBlur:function(){this.canOpen=!1},onFocus:function(){this.suggestions=[],this.canOpen=!0},onSelectSuggestion:function(){if(this.suggestionsFiltered[this.currentSuggestion]){var t=this.suggestionsFiltered[this.currentSuggestion],e=t.label,n=t.value;this.addValue(e,n),this.canOpen=!1,this.searchTerm=""}},onSelectFirstSuggestion:function(t){0!==this.suggestions.length&&this.shouldOpenSuggestions&&(-1<this.currentSuggestion||(this.onKeyPressDown(),this.onSelectSuggestion(),t.preventDefault(),t.stopPropagation()))},onKeyPressDelete:function(){""===this.searchTerm&&this.values.pop()},onKeyPressDown:function(){this.currentSuggestion+1>=this.suggestions.length?this.currentSuggestion=-1:this.currentSuggestion++},onKeyPressUp:function(){this.currentSuggestion-1<-1?this.currentSuggestion=this.suggestions.length-1:this.currentSuggestion--},onReceiveSuggestions:function(t){this.abortController=null,this.canOpen=!0,this.currentSuggestion=-1,this.suggestions=t.data},onReceiveValues:function(t){this.values=t.data,this.isLoading=!1},onSearchTermChanged:function(){var e=this;if(""===this.searchTerm.trim())return this.currentSuggestion=-1,void(this.canOpen=!1);null!==this.abortController&&(this.abortController.abort(),this.abortController=null),this.abortController=new AbortController,v("".concat(this.url,"?q=").concat(encodeURIComponent(this.searchTerm.toLowerCase())),{cache:"no-cache",signal:this.signal}).then(function(t){return t.json()}).then(function(t){return e.onReceiveSuggestions(t)}).catch(function(t){return console.error(t)})},onValueChanged:function(){var e=this,t=this.multiSelect?this.value:[this.value];if(0===(t=t.filter?t.filter(function(t){return 0<t}):t).length)return this.values=[],void(this.valueLast=[]);(function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0})(t,this.valueLast)||this.isLoading||(this.isLoading=!0,v("".concat(this.url,"?ids=").concat(t.join(","))).then(function(t){return t.json()}).then(function(t){return e.onReceiveValues(t)}).catch(function(t){return console.error(t)}),this.valueLast=t)}},watch:{shouldOpenSuggestions:function(){this.currentSuggestion=-1},searchTerm:function(){this.onSearchTermChanged()},value:function(){this.canEmit=!1,this.onValueChanged()},values:function(){if(!1===this.canEmit)return this.canEmit=!0;var t=this.values.map(function(t){return t.value});this.$emit("input",(this.multiSelect?t:t[0])||this.defaultValue)}}};var ut,ht,pt,ft,mt,vt=(pt=void 0,ft=!(ut={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{directives:[{name:"click-away",rawName:"v-click-away",value:n.onBlur,expression:"onBlur"}],staticClass:"latte-autocomplete"},[i("div",{staticClass:"form-control",attrs:{disabled:n.disabled}},[n._l(n.values,function(e){return i("span",{staticClass:"badge badge-primary"},[i("span",[n._v(n._s(e.label))]),i("button",{staticClass:"btn",on:{click:function(t){n.removeValue(e.value)}}},[i("i",{staticClass:"mdi mdi-window-close"})])])}),n._v(" "),n.canSearch?i("input",{directives:[{name:"model",rawName:"v-model",value:n.searchTerm,expression:"searchTerm"}],ref:"field",staticClass:"form-control",attrs:{type:"search",name:n.name,placeholder:n.placeholder,autocomplete:"false"},domProps:{value:n.searchTerm},on:{focus:n.onFocus,keydown:[function(t){return"button"in t||!n._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"])?n.onKeyPressDelete(t):null},function(t){return"button"in t||!n._k(t.keyCode,"enter",13,t.key,"Enter")?n.onSelectSuggestion(t):null},function(t){return"button"in t||!n._k(t.keyCode,"tab",9,t.key,"Tab")?n.onSelectFirstSuggestion(t):null},function(t){return"button"in t||!n._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?n.onKeyPressDown(t):null},function(t){return"button"in t||!n._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?n.onKeyPressUp(t):null}],input:function(t){t.target.composing||(n.searchTerm=t.target.value)}}}):n._e()],2),n._v(" "),i("div",{staticClass:"dropdown",class:{"is-open":n.shouldOpenSuggestions},attrs:{role:"combobox"}},[i("nav",{staticClass:"nav nav-list"},[n._l(n.suggestionsFiltered,function(t,e){return[i("a",{staticClass:"nav-link",class:{"is-hover":n.currentSuggestion===e},attrs:{role:"option"},on:{"&pointermove":function(t){n.currentSuggestion=e},click:n.onSelectSuggestion}},[i("span",[n._v(n._s(t.label)+" "),t.sub_label?i("span",{staticClass:"sub-label"},[n._v(n._s(t.sub_label))]):n._e()]),n._v(" "),i("i",{staticClass:"mdi mdi-chevron-right"})])]})],2)]),n._v(" "),n.isLoading?i("span",{staticClass:"spinner spinner-primary"}):n._e()])},staticRenderFns:[]}),(mt=("function"==typeof(ht=dt)?ht.options:ht)||{}).__file="Autocomplete.vue",mt.render||(mt.render=ut.render,mt.staticRenderFns=ut.staticRenderFns,mt._compiled=!0,ft&&(mt.functional=!0)),mt._scopeId=pt,mt),gt={name:"latte-button-dropdown",props:{appendToRoot:{default:!0,type:Boolean},ariaLabel:{default:"",type:String},autoClose:{default:!0,required:!1,type:Boolean},buttonClass:{default:"btn-text btn-icon btn-dark",required:!1,type:String},icon:{default:"",required:!1,type:String},iconAfter:{default:"",required:!1,type:String},iconBefore:{default:"",required:!1,type:String},isLoading:{default:!1,required:!1,type:Boolean},label:{default:"",required:!1,type:String},openAtStart:{default:!1,required:!1,type:Boolean},small:{default:!1,required:!1,type:Boolean},type:{default:"list",type:String,validator:function(t){return-1<["grid","list","custom"].indexOf(t)}}},beforeDestroy:function(){this.popup&&this.popup.remove()},data:function(){return{isClickAwayAvailable:!0,isOpen:this.openAtStart,popup:null,popupPosition:{x:0,y:0},x:0,y:0}},mounted:function(){var t=this,e=this.$el.getBoundingClientRect();this.x=e.left,this.y=e.top,p("latte:context-menu",function(){return t.close()}),p("latte:overlay",function(){return t.close()}),this.appendToRoot&&b(10,function(){t.popup=t.$el.querySelector(":scope > div.dropdown"),t.$el.removeChild(t.popup),document.body.appendChild(t.popup),window.addEventListener("resize",function(){return t.shouldUpdate()},{passive:!0}),window.addEventListener("scroll",function(){return t.shouldUpdate()},{passive:!0}),t.calculatePosition()})},computed:{avatarUrl:function(){return"avatar"===this.icon.substr(0,6)?this.icon.substr(7):null},buttonClasses:function(){var t=this.buttonClass.split(" ");return this.small&&t.push("btn-sm"),this.isOpen&&t.push("is-open","tooltip-disabled"),t},dropdownClasses:function(){var t=["dropdown"];this.appendToRoot&&t.push("dropdown-at-root");var e=this.y>window.innerHeight/2?"above":"under",n=this.x>window.innerWidth/2?"right":"left";return t.push("dropdown-".concat(n,"-").concat(e)),t.push("dropdown-".concat(this.type)),!0===this.isOpen&&t.push("is-open"),t},iconClasses:function(){return["mdi","mdi-".concat(this.icon)]},iconAfterClasses:function(){return["mdi","mdi-".concat(this.iconAfter)]},iconBeforeClasses:function(){return["mdi","mdi-".concat(this.iconBefore)]}},methods:{calculatePosition:function(){if(this.appendToRoot&&null!==this.popup){var t=this.buttonClasses.contains("btn-icon")?this.small?22:18:13,e=this.$el.getBoundingClientRect(),n=this.popup.getBoundingClientRect(),i=this.x>window.innerWidth/2?"right":"left",a=this.y>window.innerHeight/2?"above":"under",r=e.left-t,o=e.top+e.height;"right"===i&&(r=e.left+e.width-(n.width-t)),"above"===a&&(o=e.top-n.height),this.popupPosition.x=Math.round(r),this.popupPosition.y=Math.round(o+(this.isOpen?0:"above"===a?-24:24))}},shouldUpdate:function(){if(this.appendToRoot){var t=this.$el.getBoundingClientRect();this.x=t.left,this.y=t.top,this.calculatePosition()}},close:function(){this.isClickAwayAvailable=!1,this.isOpen=!1,this.$emit("close"),this.calculatePosition(),_("latte:tooltip:hide")},closeByClickAway:function(){!1!==this.isClickAwayAvailable&&!1!==this.autoClose&&this.close()},open:function(t){var e=this;this.isOpen=!0,this.$nextTick(function(){return e.isClickAwayAvailable=!0}),t&&(this.x=t.clientX,this.y=t.clientY),this.$emit("open"),this.calculatePosition(),_("latte:tooltip:hide")},toggle:function(t){this.isOpen?this.close():this.open(t)}},watch:{dropdownClasses:function(){var t,e;if(null!==this.popup){var n=[];this.popup.classList.forEach(function(t){return n.push(t)}),(t=this.popup.classList).remove.apply(t,n),(e=this.popup.classList).add.apply(e,w(this.dropdownClasses))}},popupPosition:{deep:!0,handler:function(){this.popup.style.transform="translate3d(".concat(this.popupPosition.x,"px, ").concat(this.popupPosition.y,"px, 0)")}}}};var yt,wt,bt,_t,Ct,xt=(bt=void 0,_t=!(yt={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{directives:[{name:"click-away",rawName:"v-click-away",value:e.closeByClickAway,expression:"closeByClickAway"}],staticClass:"btn",class:e.buttonClasses,attrs:{"data-tooltip":e.ariaLabel,"data-tooltip-class":"tooltip-bottom tooltip-contain","aria-label":e.ariaLabel},on:{"&pointerup":function(t){e.toggle(t)}}},[null!==e.avatarUrl?n("img",{staticClass:"avatar avatar-in-button",attrs:{src:e.avatarUrl,alt:e.ariaLabel}}):""!==e.icon?n("i",{class:e.iconClasses}):e._e(),e._v(" "),""!==e.iconBefore?n("i",{class:e.iconBeforeClasses}):e._e(),e._v(" "),""!==e.label?n("span",[e._v(e._s(e.label))]):e._e(),e._v(" "),""!==e.iconAfter?n("i",{class:e.iconAfterClasses}):e._e(),e._v(" "),n("div",{class:e.dropdownClasses},[n("div",{staticClass:"dropdown-content"},[e._t("default")],2)])])},staticRenderFns:[]}),(Ct=("function"==typeof(wt=gt)?wt.options:wt)||{}).__file="ButtonDropdown.vue",Ct.render||(Ct.render=yt.render,Ct.staticRenderFns=yt.staticRenderFns,Ct._compiled=!0,_t&&(Ct.functional=!0)),Ct._scopeId=bt,Ct),kt={name:"latte-chart",props:{options:{default:function(){return{}},required:!1,type:Object},title:{default:null,required:!1,type:null|String},url:{required:!0,type:String}},data:function(){return{instance:null,is_loading:!0,chartData:{},chartOptions:{}}},mounted:function(){this.loadChart()},computed:{titleTransformed:function(){var n=this;return null===this.title?null:this.title.replace(new RegExp("\\${([a-zA-Z0-9_.\\[\\]]+)}"),function(t,e){return new Function("\n\ttry{\n\treturn new Intl.NumberFormat(navigator.language).format(this.".concat(e,');\n}\n\tcatch(err)\n{\n\treturn "";\n}\n')).call(n)})}},methods:{loadChart:function(){var e=this;this.is_loading=!0,v(this.url).then(function(t){return t.json()}).then(function(t){return e.onReceivedChart(t)})},onReceivedChart:function(t){var a=this;if(!0===t.success){var e=this.$refs.chart,n=this.chartData=t.data,i={tooltips:{callbacks:{label:this.onTooltipLabel.bind(this)}}};this.$emit("change",n),null===this.instance?(this.chartOptions=n.options=l({},i,n.options,this.options),this.instance=new Chart(e,n)):(n.data.datasets.forEach(function(t,n){if(void 0!==a.instance.data.datasets[n]){for(var e=a.instance.data.datasets[n].data.length>t.data.length?a.instance.data.datasets[n].data.length-t.data.length:0,i=0;i<e;i++)a.instance.data.datasets[n].data.pop();t.data.forEach(function(t,e){return a.instance.data.datasets[n].data[e]=t})}else a.instance.data.datasets.push(t)}),this.instance.data.labels=n.data.labels,this.instance.update()),this.is_loading=!1}},onTooltipLabel:function(t,e){if(!this.chartData)return"";var n=e.datasets[t.datasetIndex],i=n.data[t.index],a=void 0!==Intl&&void 0!==Intl.NumberFormat?new Intl.NumberFormat(navigator.language).format(i):i;switch(this.chartOptions.tooltips.transform||"default"){case"percentage":return"".concat(n.label,": ").concat(i,"%");default:return"".concat(n.label,": ").concat(a)}}},watch:{url:function(){this.loadChart()}}};var St,Lt,Rt,Et,Dt,$t=(Rt=void 0,Et=!(St={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"latte-charts latte-charts-line",class:{"is-loading":t.is_loading}},[n("span",{staticClass:"spinner spinner-primary"}),t._v(" "),null!==t.title?n("div",{staticClass:"latte-charts-title"},[t._v(t._s(t.titleTransformed))]):t._e(),t._v(" "),n("div",{staticClass:"latte-charts-chart",staticStyle:{height:"calc(100% - 75px)"}},[n("canvas",{ref:"chart"})])])},staticRenderFns:[]}),(Dt=("function"==typeof(Lt=kt)?Lt.options:Lt)||{}).__file="Chart.vue",Dt.render||(Dt.render=St.render,Dt.staticRenderFns=St.staticRenderFns,Dt._compiled=!0,Et&&(Dt.functional=!0)),Dt._scopeId=Rt,Dt),Pt={name:"latte-chart-panel",props:{url:{required:!0,type:String}},data:function(){return{name:""}},methods:{onChange:function(t){this.name=t.name}}};var It,Ft,Mt,Ot,Nt,At=(Mt=void 0,Ot=!(It={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-header"},[n("span",{staticClass:"panel-title"},[e._v(e._s(e.name))]),e._v(" "),n("latte-button-dropdown",{staticClass:"ml-auto",attrs:{icon:"dots-vertical",type:"list"}},[n("nav",{staticClass:"nav nav-list"},[n("a",{staticClass:"nav-link",on:{click:function(t){e.$refs.chart.loadChart()}}},[n("i",{staticClass:"mdi mdi-refresh"}),e._v(" "),n("span",[e._v("Refresh chart")])])])])],1),e._v(" "),n("latte-chart",{ref:"chart",attrs:{url:e.url},on:{change:e.onChange}})],1)},staticRenderFns:[]}),(Nt=("function"==typeof(Ft=Pt)?Ft.options:Ft)||{}).__file="ChartPanel.vue",Nt.render||(Nt.render=It.render,Nt.staticRenderFns=It.staticRenderFns,Nt._compiled=!0,Ot&&(Nt.functional=!0)),Nt._scopeId=Mt,Nt);var qt=function(t,e,n,i,a,r,o,s){var l,c=("function"==typeof n?n.options:n)||{};if(c.__file="ComboBox.vue",c.render||(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),c._scopeId=i,e&&(l=function(t){e.call(this,o(t))}),void 0!==l)if(c.functional){var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return c}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-control combo-box",attrs:{tabindex:"0"},on:{blur:e.close,click:e.open,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?e.onKeyPressDown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onKeyPressEnter(t):null},function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.onKeyPressEscape(t):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?e.onKeyPressUp(t):null}]}},[null!==e.selectedOptionTemplate?n("a",{staticClass:"nav-link combo-box-selection",domProps:{innerHTML:e._s(e.selectedOptionTemplate)}}):n("div",{staticClass:"combo-box-empty"},[e._v("Select...")]),e._v(" "),n("button",{staticClass:"btn btn-text btn-icon btn-dark form-control-suffix",attrs:{type:"button"},on:{click:e.toggle}},[n("i",{staticClass:"mdi mdi-chevron-down"})]),e._v(" "),n("div",{staticClass:"dropdown",class:{"is-open":e.isDropdownOpened},attrs:{role:"combobox"}},[n("nav",{staticClass:"nav nav-list"},[e._t("default")],2)])])},staticRenderFns:[]},function(t){t&&t("data-v-211195ce_0",{source:"\ndiv.combo-box[data-v-211195ce]{align-items:center;padding:0 16px 0 0;z-index:unset}\na.combo-box-selection[data-v-211195ce]{flex:1 1 auto;pointer-events:none}\nbutton.form-control-suffix[data-v-211195ce]{color:rgba(var(--color-dark),.5);pointer-events:none}\ndiv.dropdown[data-v-211195ce]{position:absolute;top:100%;left:0;right:0;transition:all 180ms var(--ease-swift-out);will-change:opacity,transform;z-index:10}\ndiv.dropdown[data-v-211195ce]:not(.is-open){opacity:0;pointer-events:none;transform:translate3d(0,1rem,0)\n}",map:void 0,media:void 0})},{name:"latte-combo-box",props:{value:{default:null,required:!1}},data:function(){return{initialIndex:-1,isDropdownOpened:!1,options:[],selectedOptionIndex:-1}},computed:{selectedOption:function(){var t=this.options[this.selectedOptionIndex];return void 0!==t?t:null},selectedOptionTemplate:function(){var t=this.selectedOption;return null!==t?t.$el.innerHTML:null}},methods:{close:function(){this.initialIndex=-1,this.isDropdownOpened=!1},open:function(){this.initialIndex=this.selectedOptionIndex,this.isDropdownOpened=!0},toggle:function(){this.isDropdownOpened=!this.isDropdownOpened},checkValue:function(){var e=this;this.selectedOptionIndex=this.options.findIndex(function(t){return t.value===e.value})},registerOption:function(t){var e=this;this.options.push(t),this.checkValue(),t.$on("select",function(t){return e.onOptionSelect(t)})},unregisterOption:function(e){this.options.splice(this.options.findIndex(function(t){return t===e}),1),this.checkValue()},onKeyPressDown:function(){this.open(),this.selectedOptionIndex+1>=this.options.length?this.selectedOptionIndex=0:this.selectedOptionIndex++},onKeyPressEnter:function(){this.close()},onKeyPressEscape:function(t){-1!==this.initialIndex&&(this.selectedOptionIndex=Math.min(Math.max(0,this.initialIndex),this.options.length-1)),this.close(),t.preventDefault()},onKeyPressUp:function(){this.open(),this.selectedOptionIndex-1<0?this.selectedOptionIndex=this.options.length-1:this.selectedOptionIndex--},onOptionSelect:function(e){var t=this;this.$nextTick(function(){return t.close()}),this.selectedOptionIndex=this.options.findIndex(function(t){return t===e})}},watch:{selectedOptionIndex:function(){var e=this;this.options.forEach(function(t){return e.$set(t,"active",!1)}),null!==this.selectedOption?(this.$emit("input",this.selectedOption.value),this.$set(this.selectedOption,"active",!0)):this.$emit("input",null)},value:function(){this.checkValue()}}},"data-v-211195ce",!1,0,function t(){var c=document.head||document.getElementsByTagName("head")[0],d=t.styles||(t.styles={}),u="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,e){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var n=u?e.media||"default":t,i=d[n]||(d[n]={ids:[],parts:[],element:void 0});if(!i.ids.includes(t)){var a=e.source,r=i.ids.length;if(i.ids.push(t),e.map&&(a+="\n/*# sourceURL="+e.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),u&&(i.element=i.element||document.querySelector("style[data-group="+n+"]")),!i.element){var o=i.element=document.createElement("style");o.type="text/css",e.media&&o.setAttribute("media",e.media),u&&(o.setAttribute("data-group",n),o.setAttribute("data-next-index","0")),c.appendChild(o)}if(u&&(r=parseInt(i.element.getAttribute("data-next-index")),i.element.setAttribute("data-next-index",r+1)),i.element.styleSheet)i.parts.push(a),i.element.styleSheet.cssText=i.parts.filter(Boolean).join("\n");else{var s=document.createTextNode(a),l=i.element.childNodes;l[r]&&i.element.removeChild(l[r]),l.length?i.element.insertBefore(s,l[r]):i.element.appendChild(s)}}}}}),Tt={name:"latte-combo-box-item",props:{active:{default:!1,required:!1,type:Boolean},value:{required:!0}},beforeDestroy:function(){this.$parent.unregisterOption(this)},mounted:function(){this.$parent.registerOption(this)},methods:{click:function(){this.$emit("select",this)}}};var jt,zt,Ht,Vt,Bt,Wt=(Ht=void 0,Vt=!(jt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{staticClass:"nav-link",class:{"is-hover":t.active},attrs:{role:"option"},on:{click:t.click}},[t._t("default")],2)},staticRenderFns:[]}),(Bt=("function"==typeof(zt=Tt)?zt.options:zt)||{}).__file="ComboBoxItem.vue",Bt.render||(Bt.render=jt.render,Bt.staticRenderFns=jt.staticRenderFns,Bt._compiled=!0,Vt&&(Bt.functional=!0)),Bt._scopeId=Ht,Bt);function Ut(t){return null==t||t.replace(/\s/g,"").length<1}var Yt={name:"latte-data-table",props:{limit:{default:20,required:!1,type:Number},name:{default:function(){return m()},required:!1,type:String},selectMode:{default:"none",required:!1,type:String,validator:function(t){return-1<["none","single","multiple"].indexOf(t)}},showFooter:{default:!1,required:!1,type:Boolean},showHeader:{default:!0,required:!1,type:Boolean},showSearch:{default:!0,required:!1,type:Boolean},showSorting:{default:!0,required:!1,type:Boolean},url:{required:!0,type:String},value:{default:function(){return[]},required:!1,type:Array|Number}},data:function(){return{actions:[],columns:[],data:[],filters:[],page:1,pagination:[],params:{},panel:null,selection:this.value,sort:{by:"",order:"DESC"},show:{footer:this.showFooter,header:this.showHeader,search:this.showSearch,sorting:this.showSorting},uniqueId:m()}},mounted:function(){var t=this;this.panel=e(this.$el,"div.panel"),Latte.actions.on("data-tables:refresh",function(){return t.reload()}),this.loadSpinner(),this.loadSetup()},computed:{actionsWidth:function(){return 52},showSelections:function(){return"none"!==this.selectMode}},methods:{addFilter:function(t){var e=!0,n=!1,i=void 0;try{for(var a,r=this.filters[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var o=a.value;if(o.property===t.property&&o.value===t.value)return}}catch(t){n=!0,i=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}this.page=1,t.class=t.class||"badge-info",this.filters.push(t),this.loadFromUrl()},removeFilter:function(t,e){this.page=1,this.filters.splice(e,1),this.loadFromUrl(),t.preventDefault(),t.stopPropagation()},createAction:function(t,e,n){var i=this,a="row-action-".concat(t.icon,"-").concat(n);return this.$nextTick(function(){new(Vue.extend({template:t.template,data:function(){return{action:t,row:e}}}))({el:i.$el.querySelector("#".concat(a)),parent:i})}),a},createRowColumn:function(t,e,n,i){var a=this,r="row-".concat(e.field,"-").concat(n,"-").concat(i),o=this;return e.template=e.template.replace('<slot name="badges"></slot>','\t<template v-for="badge of (row.badges || [])">\n<a class="badge ml-2" :class="[\'badge-\' + badge.type]" @click="applyFilter($event, badge.filter, badge.type)" v-if="badge.filter !== null">{{ badge.message }}</a>\n<span class="badge ml-2" :class="[\'badge-\' + badge.type]" v-if="badge.filter === null">{{ badge.message }}</span>\n</template>'),this.$nextTick(function(){new(Vue.extend({template:e.template,data:function(){return{column:e,row:t,uniqueId:o.uniqueId}},methods:{addFilter:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"primary";n=n||e,o.addFilter({property:t,value:e,label:n,class:i})},applyFilter:function(t,e,n){e.class="badge-".concat(n),o.addFilter(e),t.preventDefault(),t.stopPropagation()},handle:function(t,e){o.handle(t,e)},moment:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return moment.apply(void 0,arguments)}),utc:function(){var t;return(t=moment).utc.apply(t,arguments)}}}))({el:a.$refs[r][0].children[0],parent:a})}),r},handle:function(t,e){this.$emit(t,e)},isLoading:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];null!==this.panel&&(t?this.panel.classList.add("is-loading"):this.panel.classList.remove("is-loading"))},loadFromUrl:function(){this.data=[],this.pagination=[],this.isLoading(!0);var t="".concat(this.url,"/data?offset=").concat((this.page-1)*this.limit,"&limit=").concat(this.limit);for(var e in""!==this.sort.by.trim()&&(t+="&sort=".concat(this.sort.order,"&by=").concat(this.sort.by)),this.params)this.params.hasOwnProperty(e)&&!Ut(this.params[e])&&(t+="&".concat(e,"=").concat(encodeURIComponent(this.params[e])));var n=!0,i=!1,a=void 0;try{for(var r,o=this.filters[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;Ut(s.value.toString())||(t+="&filter[".concat(s.property,"]=").concat(s.value))}}catch(t){i=!0,a=t}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}v(t).then(function(t){return t.json()}).then(this.onReceivedData).catch(function(t){return c(t)})},loadPage:function(t){this.page=t,this.loadFromUrl()},loadSetup:function(){v(this.url).then(function(t){return t.json()}).then(this.onReceivedSetupResponse).catch(function(t){return c(t)})},loadSpinner:function(){if(null!==this.panel&&!(0<this.panel.querySelectorAll("span.spinner").length)){var t=document.createElement("span");t.classList.add("spinner","spinner-primary"),this.panel.appendChild(t)}},onReceivedData:function(t){this.data=t.data.data,this.pagination=t.data.pagination,this.isLoading(!1)},onReceivedSetupResponse:function(t){this.actions=t.data.actions,this.columns=t.data.columns,void 0!==t.data.sorting&&(this.sort.by=t.data.sorting.by,this.sort.order=t.data.sorting.order),this.loadFromUrl()},reload:function(){this.loadFromUrl()},search:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.page=1,this.loadFromUrl()},sortBy:function(t){this.sort.by===t&&(this.sort.order="DESC"===this.sort.order?"ASC":"DESC"),this.sort.by=t,this.loadFromUrl()}},watch:{selection:function(){this.$emit("input",this.selection)},value:function(){this.selection=this.value}}};var Xt,Kt,Jt,Gt,Zt,Qt=(Jt=void 0,Gt=!(Xt={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("table",{staticClass:"table table-hover mb-0"},[i("thead",[s.show.header?i("tr",[s.showSelections?i("th",{staticStyle:{width:"42px"}}):s._e(),s._v(" "),s._l(s.columns,function(e){return i("th",{style:{"min-width":e.width&&null!==e.width?e.width+"px":"auto",width:e.width&&null!==e.width?e.width+"px":"auto"},attrs:{"data-field":e.field}},[i("div",{staticClass:"column-content flex-row align-items-center justify-content-start"},[i("span",[s._v(s._s(e.label))]),s._v(" "),s.show.sorting&&e.is_sortable?i("button",{staticClass:"btn btn-text btn-icon btn-dark btn-sm ml-1",on:{click:function(t){s.sortBy(e.field)}}},[s.sort.by!==e.field?i("i",{staticClass:"mdi latte-sorting none"}):"ASC"===s.sort.order?i("i",{staticClass:"mdi latte-sorting down"}):"DESC"===s.sort.order?i("i",{staticClass:"mdi latte-sorting up"}):s._e()]):s._e()])])}),s._v(" "),0<s.actions.length?i("th",{style:{width:s.actionsWidth+"px"}}):s._e()],2):s._e(),s._v(" "),s.show.search?i("tr",{staticClass:"search-row"},[s.showSelections?i("th",{staticStyle:{width:"42px"}}):s._e(),s._v(" "),s._l(s.columns,function(e){return i("th",{style:{width:e.width&&null!==e.width?e.width+"px":"auto"},attrs:{"data-field":e.field}},[e.is_searchable?i("input",{directives:[{name:"model",rawName:"v-model",value:s.params[e.field],expression:"params[column.field]"}],attrs:{type:"search",placeholder:"Zoeken"},domProps:{value:s.params[e.field]},on:{keydown:function(t){return"button"in t||!s._k(t.keyCode,"enter",13,t.key,"Enter")?s.search(t):null},input:function(t){t.target.composing||s.$set(s.params,e.field,t.target.value)}}}):s._e()])}),s._v(" "),i("th")],2):s._e(),s._v(" "),0<s.filters.length?i("tr",[i("td",{attrs:{colspan:s.columns.length+(0<s.actions.length?1:0)+(s.showSelections?1:0)}},[i("div",{staticClass:"column-content flex-row justify-content-start"},[s._l(s.filters,function(t,e){return[i("span",{staticClass:"badge mr-1",class:t.class},[i("span",[s._v(s._s(t.label))]),s._v(" "),i("button",{staticClass:"btn",on:{click:function(t){s.removeFilter(t,e)}}},[i("i",{staticClass:"mdi mdi-window-close"})])])]})],2)])]):s._e()]),s._v(" "),i("tbody",s._l(s.data,function(o,n){return i("tr",[s.showSelections?i("td",{staticStyle:{width:"42px","z-index":"1"}},[i("div",{staticClass:"column-content pr-0"},["single"===s.selectMode?i("input",{directives:[{name:"model",rawName:"v-model",value:s.selection,expression:"selection"}],staticClass:"radio-button radio-button-primary mr-0",attrs:{type:"radio",id:s.uniqueId+":"+o.id,name:s.name},domProps:{value:o.id,checked:s._q(s.selection,o.id)},on:{change:function(t){s.selection=o.id}}}):s._e(),s._v(" "),"multiple"===s.selectMode?i("input",{directives:[{name:"model",rawName:"v-model",value:s.selection,expression:"selection"}],staticClass:"checkbox checkbox-primary mr-0",attrs:{type:"checkbox",id:s.uniqueId+":"+o.id,name:s.name+"[]"},domProps:{value:o.id,checked:Array.isArray(s.selection)?-1<s._i(s.selection,o.id):s.selection},on:{change:function(t){var e=s.selection,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=o.id,r=s._i(e,a);n.checked?r<0&&(s.selection=e.concat([a])):-1<r&&(s.selection=e.slice(0,r).concat(e.slice(r+1)))}else s.selection=i}}}):s._e()])]):s._e(),s._v(" "),s._l(s.columns,function(t,e){return[i("td",{key:e,ref:s.createRowColumn(o,t,n,e),refInFor:!0,style:{width:t.width&&null!==t.width?t.width+"px":"auto"},attrs:{"data-field":t.field,"data-row":n,"data-column":e}},[i("div")])]}),s._v(" "),0<s.actions.length?i("td",{staticClass:"actions"},[i("div",{staticClass:"column-content flex-row align-items-center pl-0"},[i("latte-button-dropdown",{attrs:{icon:"dots-vertical",small:!0}},[i("nav",{staticClass:"nav nav-list"},s._l(s.actions,function(t,e){return i("div",{key:e,attrs:{id:s.createAction(t,o,n)}})}))])],1)]):s._e()],2)})),s._v(" "),i("tfoot",[s.show.footer?i("tr",[s.showSelections?i("th",{staticStyle:{width:"42px"}}):s._e(),s._v(" "),s._l(s.columns,function(t){return i("th",{attrs:{"data-field":t.field}},[i("div",{staticClass:"column-content"},[s._v(s._s(t.label))])])}),s._v(" "),i("th")],2):s._e(),s._v(" "),0<s.pagination.length?i("tr",[i("th",{attrs:{colspan:s.columns.length+(0<s.actions.length?1:0)+(s.showSelections?1:0)}},[i("div",{staticClass:"column-content"},[i("latte-pagination",{attrs:{pagination:s.pagination},on:{navigate:function(t){s.loadPage(t)}}})],1)])]):s._e()])])},staticRenderFns:[]}),(Zt=("function"==typeof(Kt=Yt)?Kt.options:Kt)||{}).__file="DataTable.vue",Zt.render||(Zt.render=Xt.render,Zt.staticRenderFns=Xt.staticRenderFns,Zt._compiled=!0,Gt&&(Zt.functional=!0)),Zt._scopeId=Jt,Zt),te={name:"latte-date-picker",props:{id:{type:String,required:!0},name:{type:String,required:!0},placeholder:{type:String,default:"Selecteer datum&hellip;"},value:{type:Date,required:!1,default:function(){return new Date}}},data:function(){return{current:this.value,currentDate:0,currentMonth:0,currentYear:0,currentView:"month",isClosable:!0,isPickerOpened:!1,days:["maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag","zondag"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],years:[]}},mounted:function(){this.currentDate=this.current.getDate(),this.currentMonth=this.current.getMonth()+1,this.currentYear=this.current.getFullYear(),this.years=[];for(var t=1970;t<=2100;t++)this.years.push(t)},updated:function(){if("year"===this.currentView){var t=this.$el.querySelector("div.picker-view-months").querySelector(".is-selected");void 0!==t.scrollIntoViewIfNeeded&&t.scrollIntoViewIfNeeded()}if("years"===this.currentView){var e=this.$el.querySelector("div.picker-view-years").querySelector(".is-selected");void 0!==e.scrollIntoViewIfNeeded&&e.scrollIntoViewIfNeeded()}},computed:{currentDateString:function(){return moment(this.current).format("YYYY-MM-DD")},currentMonthString:function(){return this.months[this.currentMonth-1]},currentYearString:function(){return this.currentYear},dates:function(){for(var t=new Date(this.currentYear,this.currentMonth-1,1),e=new Date(this.currentYear,this.currentMonth,0),n=this.getDayName(t.getDay()),i=this.getDayName(e.getDay()),a=[],r=e.getDate(),o=Math.max(this.days.indexOf(n),0),s=Math.max(this.days.length-this.days.indexOf(i)-1,0),l=o-1;0<=l;l--)a.push(new Date(Date.UTC(this.currentYear,this.currentMonth-1,0-l,0,0,0)));for(var c=1;c<=r;c++)a.push(new Date(Date.UTC(this.currentYear,this.currentMonth-1,c,0,0,0)));for(var d=1;d<=s;d++)a.push(new Date(Date.UTC(this.currentYear,this.currentMonth,d,0,0,0)));return a}},methods:{getDayName:function(t){return this.days[(0===t?7:t)-1%this.days.length]},isOtherMonth:function(t){return t.getMonth()+1!==this.currentMonth},isSame:function(t,e){return null!=t&&(null!=e&&(t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()))},isSelected:function(t){return this.isSame(t,this.current)},isToday:function(t){return this.isSame(t,new Date)},nextMonth:function(){this.currentMonth++,12<this.currentMonth&&(this.currentMonth=1,this.currentYear++)},previousMonth:function(){this.currentMonth--,this.currentMonth<1&&(this.currentMonth=12,this.currentYear--)},close:function(){if(!this.isClosable)return this.isClosable=!0;this.isPickerOpened=!1},open:function(){this.isClosable=!1,this.isPickerOpened=!0},select:function(t){this.current=t,this.currentDate=this.current.getDate(),this.currentMonth=this.current.getMonth()+1,this.currentYear=this.current.getFullYear(),this.$emit("input",this.current),this.close()},selectMonth:function(t){this.currentMonth=t,this.currentView="month"},selectYear:function(t){this.currentYear=t,this.currentView="month"},toggleYear:function(){this.currentView="year"===this.currentView?"month":"year"},toggleYears:function(){this.currentView="years"===this.currentView?"month":"years"}},watch:{value:function(){this.current=this.value,this.currentDate=this.current.getDate(),this.currentMonth=this.current.getMonth()+1,this.currentYear=this.current.getFullYear()}}};var ee,ne,ie,ae,re,oe=(ie=void 0,ae=!(ee={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"latte-datepicker-root",class:{"is-open":n.isPickerOpened}},[i("input",{staticClass:"form-control",attrs:{readonly:"",type:"date",name:n.name,id:n.id,placeholder:n.placeholder,title:n.placeholder},domProps:{value:n.currentDateString},on:{focus:function(t){n.open()},keydown:function(t){if(!("button"in t)&&n._k(t.keyCode,"esc",27,t.key,"Escape"))return null;n.close()}}}),n._v(" "),i("div",{directives:[{name:"click-away",rawName:"v-click-away",value:n.close,expression:"close"}],staticClass:"latte-datepicker-picker"},[i("div",{staticClass:"picker-top"},[i("button",{staticClass:"picker-top-nav picker-top-nav-previous",attrs:{type:"button"},on:{click:function(t){n.previousMonth()}}},[i("i",{staticClass:"mdi mdi-chevron-left"})]),n._v(" "),i("span",{staticClass:"month",on:{click:function(t){n.toggleYear()}}},[n._v(n._s(n.currentMonthString))]),n._v(" "),i("span",{staticClass:"year",on:{click:function(t){n.toggleYears()}}},[n._v(n._s(n.currentYearString))]),n._v(" "),i("button",{staticClass:"picker-top-nav picker-top-nav-next",attrs:{type:"button"},on:{click:function(t){n.nextMonth()}}},[i("i",{staticClass:"mdi mdi-chevron-right"})])]),n._v(" "),"month"===n.currentView?i("div",{staticClass:"picker-month-view"},[n._m(0),n._v(" "),i("div",{staticClass:"picker-view-dates"},[n._l(n.dates,function(e){return[i("div",{staticClass:"date",class:{"is-other-month":n.isOtherMonth(e),"is-selected":n.isSelected(e),"is-today":n.isToday(e)},on:{click:function(t){n.select(e)}}},[n._v(n._s(e.getDate()))])]})],2)]):n._e(),n._v(" "),"year"===n.currentView?i("div",{staticClass:"picker-year-view"},[i("div",{staticClass:"picker-view-months"},n._l(n.months,function(t,e){return i("div",{staticClass:"month",class:{"is-selected":e===n.currentMonth-1},on:{click:function(t){n.selectMonth(e+1)}}},[n._v(n._s(t))])}))]):n._e(),n._v(" "),"years"===n.currentView?i("div",{staticClass:"picker-years-view"},[i("div",{staticClass:"picker-view-years"},n._l(n.years,function(e){return i("div",{staticClass:"year",class:{"is-selected":e===n.currentYear},on:{click:function(t){n.selectYear(e)}}},[n._v(n._s(e))])}))]):n._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picker-view-days"},[n("div",{staticClass:"day"},[t._v("ma")]),t._v(" "),n("div",{staticClass:"day"},[t._v("di")]),t._v(" "),n("div",{staticClass:"day"},[t._v("wo")]),t._v(" "),n("div",{staticClass:"day"},[t._v("do")]),t._v(" "),n("div",{staticClass:"day"},[t._v("vr")]),t._v(" "),n("div",{staticClass:"day"},[t._v("za")]),t._v(" "),n("div",{staticClass:"day"},[t._v("zo")])])}]}),(re=("function"==typeof(ne=te)?ne.options:ne)||{}).__file="DatePicker.vue",re.render||(re.render=ee.render,re.staticRenderFns=ee.staticRenderFns,re._compiled=!0,ae&&(re.functional=!0)),re._scopeId=ie,re),se={name:"latte-draggable",props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},move:{type:Function,default:null}},beforeDestroy:function(){this._sortable.destroy()},data:function(){return{componentMode:!1,transitionMode:!1}},mounted:function(){var n=this;if(this.componentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.componentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var e={};le.forEach(function(t){return e["on"+t]=function(e){var n=this;return function(t){null!==n.realList&&n["onDrag"+e](t),ve.call(n,e,t)}}.call(n,t)}),ce.forEach(function(t){return e["on"+t]=ve.bind(n,t)});var t=he({},this.options,e,{onMove:function(t,e){return n.onDragMove(t,e)}});!("draggable"in t)&&(t.draggable=">*"),this._sortable=new Sortable(this.rootContainer,t),this.computeIndexes()},render:function(t){var e=this.$slots.default;if(e&&1===e.length){var n=e[0];n.componentOptions&&"transition-group"===n.componentOptions.tag&&(this.transitionMode=!0)}var i=e,a=this.$slots.footer;return a&&(i=e?[].concat(pe(e),pe(a)):[].concat(pe(a))),t(this.element,null,i)},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return this.options&&this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},methods:{getChildrenNodes:function(){if(this.componentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick(function(){return t.visibleIndexes=function(t,e,n){if(!t)return[];var i=t.map(function(t){return t.elm}),a=[].concat(pe(e)).map(function(t){return i.indexOf(t)});return n?a.filter(function(t){return-1!==t}):a}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode)})},getUnderlyingVm:function(t){var e,n,i=(e=this.getChildrenNodes()||[],n=t,e.map(function(t){return t.elm}).indexOf(n));return-1===i?null:{index:i,element:this.realList[i]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&"transition-group"===e.$options._componentTag?e.$parent:e},emitChanges:function(t){var e=this;this.$nextTick(function(){return e.$emit("change",t)})},alterList:function(t){if(this.list)t(this.list);else{var e=[].concat(pe(this.value));t(e),this.$emit("input",e)}},spliceList:function(){var e=arguments;this.alterList(function(t){return t.splice.apply(t,e)})},updatePosition:function(e,n){this.alterList(function(t){return t.splice(n,0,t.splice(e,1)[0])})},getRelatedContextFromMoveElement:function(t){var e=t.to,n=t.related,i=this.getUnderlyingPotencialDraggableComponent(t);if(!i)return{component:i};var a=i.realList,r={list:a,component:i};if(e!==n&&a&&i.getUnderlyingVm){var o=i.getUnderlyingVm(n);if(o)return he(o,r)}return r},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return n-1<t?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),ue=t.item,this.$el.classList.add("is-dragging")},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){fe(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes(),this.emitChanges({added:{element:e,newIndex:n}})}},onDragRemove:function(t){if(me(this.rootContainer,t.item,t.oldIndex),this.isCloning)fe(t.clone);else{var e=this.context.index;this.spliceList(e,1),this.resetTransitionData(e),this.emitChanges({removed:{element:this.context.element,oldIndex:e}})}},onDragUpdate:function(t){fe(t.item),me(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n),this.emitChanges({moved:{element:this.context.element,oldIndex:e,newIndex:n}})},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=[].concat(pe(e.to.children)).filter(function(t){return"none"!==t.style.display}),i=n.indexOf(e.related),a=t.component.getVmIndex(i);return-1!==n.indexOf(ue)||!e.willInsertAfter?a:a+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var i=this.getRelatedContextFromMoveElement(t),a=this.context,r=this.computeFutureIndex(i,t);return he(a,{futureIndex:r}),he(t,{relatedContext:i,draggedContext:a}),n(t,e)},onDragEnd:function(){this.computeIndexes(),ue=null,this.$el.classList.remove("is-dragging")}},watch:{options:{deep:!0,handler:function(t){for(var e in t)t.hasOwnProperty(e)&&-1===de.indexOf(e)&&this._sortable.option(e,t[e])}},realList:function(){this.computeIndexes()}}},le=["Start","Add","Remove","Update","End"],ce=["Choose","Sort","Filter","Clone"],de=["Move"].concat(le,ce).map(function(t){return"on"+t}),ue=null,he=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var i=e[n];for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t},pe=function(t){if(Array.isArray(t)){for(var e=Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return Array.from(t)};function fe(t){t.parentElement.removeChild(t)}function me(t,e,n){var i=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,i)}function ve(t,e){var n=this;this.$nextTick(function(){return n.$emit(t.toLowerCase(),e)})}Array.from=Array.from||function(t){return[].slice.call(t)};var ge,ye,we,be,_e,Ce=(ge={},be=we=void 0,(_e=("function"==typeof(ye=se)?ye.options:ye)||{}).__file="Draggable.vue",_e.render||(_e.render=ge.render,_e.staticRenderFns=ge.staticRenderFns,_e._compiled=!0,be&&(_e.functional=!0)),_e._scopeId=we,_e),xe=new Vue({});function ke(t,e){return t!==e&&(!(t.x+t.width<=e.x)&&(!(t.x>=e.x+e.width)&&(!(t.y+t.height<=e.y)&&!(t.y>=e.y+e.height))))}function Se(t,e){for(var n=t.filter(function(t){return t.static}),i=Fe(t),a=Array(t.length),r=0,o=i.length;r<o;r++){var s=i[r];s.static||(s=Le(n,s,e),n.push(s)),(a[t.indexOf(s)]=s).moved=!1}return a}function Le(t,e,n){if(n)for(;0<e.y&&!De(t,e);)e.y--;for(var i;i=De(t,e);)e.y=i.y+i.height;return e}function Re(t,e,n,i){var a;return!("number"==typeof(a=t)&&!isNaN(a))?{deltaX:0,deltaY:0,lastX:n,lastY:i,x:n,y:i}:{deltaX:n-t,deltaY:i-e,lastX:t,lastY:e,x:n,y:i}}function Ee(t){return n=(e=t).target.offsetParent||document.body,i=e.offsetParent===document.body?{left:0,top:0}:n.getBoundingClientRect(),a=e.clientX+n.scrollLeft-i.left,r=e.clientY+n.scrollTop-i.top,{x:a,y:r};var e,n,i,a,r}function De(t,e){for(var n=0,i=t.length;n<i;n++)if(ke(t[n],e))return t[n]}function $e(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].i===e)return t[n]}function Pe(t,e,n,i,a){if(e.static)return t;if(e.y===i&&e.x===n)return t;var r=i&&e.y>i;"number"==typeof n&&(e.x=n),"number"==typeof i&&(e.y=i),e.moved=!0;var o=Fe(t);r&&(o=o.reverse());for(var s,l=(s=e,o.filter(function(t){return ke(t,s)})),c=0,d=l.length;c<d;c++){var u=l[c];u.moved||(e.y>u.y&&e.y-u.y>u.height/4||(t=u.static?Ie(t,u,e,a):Ie(t,e,u,a)))}return t}function Ie(t,e,n,i){if(i){var a={x:n.x,y:n.y,width:n.width,height:n.height,id:"__fake__"};if(a.y=Math.max(e.y-n.height,0),!De(t,a))return Pe(t,n,void 0,a.y)}return Pe(t,n,void 0,n.y+1)}function Fe(t){return[].concat(t).sort(function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:-1})}var Me={name:"latte-grid",props:{autoSize:{default:!0,required:!1,type:Boolean},columns:{default:12,required:!1,type:Number},rowHeight:{default:100,required:!1,type:Number},maxRows:{default:1/0,required:!1,type:Number},margin:{default:function(){return[24,24]},required:!1,type:Array},isDraggable:{default:!0,required:!1,type:Boolean},isResizable:{default:!0,required:!1,type:Boolean},verticalCompact:{default:!0,required:!1,type:Boolean},layout:{required:!0,type:Array}},beforeDestroy:function(){xe.$off("dragEvent",this.dragEventHandler),xe.$off("resizeEvent",this.resizeEventHandler),window.removeEventListener("resize",this.onWindowResize)},created:function(){var o=this;this.dragEventHandler=function(t,e,n,i,a,r){o.dragEvent(t,e,n,i,a,r)},this.resizeEventHandler=function(t,e,n,i,a,r){o.resizeEvent(t,e,n,i,a,r)},xe.$on("dragEvent",this.dragEventHandler),xe.$on("resizeEvent",this.resizeEventHandler)},data:function(){return{width:null,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,height:0,width:0}}},mounted:function(){var e=this,n=this;this.$nextTick(function(){!function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","width","height"];if(!Array.isArray(t))throw new Error("".concat(e," must be an array!"));for(var i=0,a=t.length;i<a;i++){for(var r=t[i],o=0;o<n.length;o++)if("number"!=typeof r[n[o]])throw new Error("Latte Grid: ".concat(e,"[").concat(i,"].").concat(n[o]," must be a number!"));if(r.i&&"string"!=typeof r.i)throw new Error("Latte Grid: ".concat(e,"[").concat(i,"].i must be a string!"));if(void 0!==r.static&&"boolean"!=typeof r.static)throw new Error("Latte Grid: ".concat(e,"[").concat(i,"].static must be a boolean!"))}}(e.layout);var t=function(){null===e.width&&(e.onWindowResize(),window.addEventListener("resize",e.onWindowResize)),Se(e.layout,e.verticalCompact),e.updateHeight(),e.$nextTick(function(){elementResizeDetectorMaker({strategy:"scroll"}).listenTo(e.$refs.grid,function(){n.onWindowResize()})})};e.$nextTick(function(){return t()}),window.onload=t.bind(e)})},computed:{is_dragging:function(){return this.isDragging},styles:function(){return this.mergedStyle}},methods:{containerHeight:function(){if(this.autoSize)return"".concat(function(t){for(var e,n=0,i=0,a=t.length;i<a;i++)n<(e=t[i].y+t[i].height)&&(n=e);return n}(this.layout)*(this.rowHeight+this.margin[1])+this.margin[1],"px")},dragEvent:function(t,e,n,i,a,r){var o=this;"dragmove"===t||"dragstart"===t?(this.placeholder.x=n,this.placeholder.y=i,this.placeholder.height=a,this.placeholder.width=r,this.$nextTick(function(){return o.isDragging=!0}),xe.$emit("updateWidth",this.width)):this.$nextTick(function(){return o.isDragging=!1});var s=$e(this.layout,e);null==s&&(s={x:0,y:0}),s.x=n,s.y=i,this.layout=Pe(this.layout,s,n,i,!0),Se(this.layout,this.verticalCompact),xe.$emit("compact"),this.updateHeight(),"dragend"===t&&this.$emit("layout-updated",this.layout)},layoutUpdate:function(){void 0!==this.layout&&(this.layout.length!==this.lastLayoutLength&&(this.lastLayoutLength=this.layout.length),Se(this.layout,this.verticalCompact),xe.$emit("updateWidth",this.width),this.updateHeight())},onWindowResize:function(){void 0!==this.$refs.grid&&(this.width=this.$refs.grid.offsetWidth)},resizeEvent:function(t,e,n,i,a,r){var o=this;"resizestart"===t||"resizemove"===t?(this.placeholder.x=n,this.placeholder.y=i,this.placeholder.height=a,this.placeholder.width=r,this.$nextTick(function(){return o.isDragging=!0}),xe.$emit("updateWidth",this.width)):this.$nextTick(function(){return o.isDragging=!1});var s=$e(this.layout,e);null==s&&(s={height:0,width:0}),s.height=a,s.width=r,Se(this.layout,this.verticalCompact),xe.$emit("compact"),this.updateHeight(),"resizeend"===t&&this.$emit("layout-updated",this.layout)},updateHeight:function(){this.mergedStyle={height:this.containerHeight()}}},watch:{columns:function(){xe.$emit("setColumns",this.columns)},isDraggable:function(){xe.$emit("setDraggable",this.isDraggable)},isResizable:function(){xe.$emit("setResizable",this.isResizable)},layout:function(){this.layoutUpdate()},rowHeight:function(){xe.$emit("setRowHeight",this.rowHeight)},width:function(){var t=this;this.$nextTick(function(){xe.$emit("updateWidth",t.width),t.updateHeight()})}}};var Oe,Ne,Ae,qe,Te,je=(Ae=void 0,qe=!(Oe={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"grid",staticClass:"latte-grid",class:{"is-dragging":t.is_dragging},style:t.styles,attrs:{role:"grid"}},[t._t("default"),t._v(" "),n("latte-grid-item",{directives:[{name:"show",rawName:"v-show",value:t.isDragging,expression:"isDragging"}],staticClass:"latte-grid-placeholder",attrs:{x:t.placeholder.x,y:t.placeholder.y,height:t.placeholder.height,width:t.placeholder.width,id:"__placeholder__"}})],2)},staticRenderFns:[]}),(Te=("function"==typeof(Ne=Me)?Ne.options:Ne)||{}).__file="Grid.vue",Te.render||(Te.render=Oe.render,Te.staticRenderFns=Oe.staticRenderFns,Te._compiled=!0,qe&&(Te.functional=!0)),Te._scopeId=Ae,Te),ze={name:"latte-grid-item",props:{id:{required:!0},isDraggable:{default:!0,required:!1,type:Boolean},isResizable:{default:!0,required:!1,type:Boolean},maxHeight:{default:1/0,required:!1,type:Number},maxWidth:{default:1/0,required:!1,type:Number},minHeight:{default:1,required:!1,type:Number},minWidth:{default:1,required:!1,type:Number},x:{required:!0,type:Number},y:{required:!0,type:Number},height:{required:!0,type:Number},width:{required:!0,type:Number},dragIgnoreFrom:{default:null,required:!1,type:null|String},dragAllowFrom:{default:".grid-item-drag-handle",required:!1,type:null|String},resizeIgnoreFrom:{default:null,required:!1,type:null|String},resizeAllowFrom:{default:".grid-item-resize-handle",required:!1,type:null|String}},beforeDestroy:function(){xe.$off("updateWidth",this.updateWidthHandler),xe.$off("compact",this.compactHandler),xe.$off("setDraggable",this.setDraggableHandler),xe.$off("setResizable",this.setResizableHandler),xe.$off("setRowHeight",this.setRowHeightHandler),xe.$off("setColumns",this.setColumns)},created:function(){var e=this;this.updateWidthHandler=function(t){e.updateWidth(t)},this.compactHandler=function(t){e.compact(t)},this.setDraggableHandler=function(t){e.draggable=t},this.setResizableHandler=function(t){e.resizable=t},this.setRowHeightHandler=function(t){e.rowHeight=t},this.setColumns=function(t){e.columns=parseInt(t)},xe.$on("updateWidth",this.updateWidthHandler),xe.$on("compact",this.compactHandler),xe.$on("setDraggable",this.setDraggableHandler),xe.$on("setResizable",this.setResizableHandler),xe.$on("setRowHeight",this.setRowHeightHandler),xe.$on("setColumns",this.setColumns)},data:function(){return{columns:1,containerWidth:100,rowHeight:100,margin:[24,24],maxRows:1/0,draggable:null,resizable:null,dragging:null,resizing:null,lastX:NaN,lastY:NaN,lastHeight:NaN,lastWidth:NaN,isDragEventSet:!1,isResizeEventSet:!1,previousX:null,previousY:null,previousHeight:null,previousWidth:null,innerX:this.x,innerY:this.y,innerHeight:this.height,innerWidth:this.width,style:{}}},mounted:function(){this.columns=this.$parent.columns,this.rowHeight=this.$parent.rowHeight,this.containerWidth=null!==this.$parent.width?this.$parent.width:100,this.margin=void 0!==this.$parent.margin?this.$parent.margin:[24,24],this.maxRows=this.$parent.maxRows,null===this.isDraggable?this.draggable=this.$parent.isDraggable:this.draggable=this.isDraggable,null===this.isResizable?this.resizable=this.$parent.isResizable:this.resizable=this.isResizable,this.createStyle()},computed:{is_dragging:function(){return null!==this.dragging},is_resizing:function(){return null!==this.resizing},resize_handle_class:function(){return"grid-item-resize-handle"}},methods:{calculateColumnWidth:function(){return(this.containerWidth-this.margin[0]*(this.columns+1))/this.columns},calculatePosition:function(t,e,n,i){var a=this.calculateColumnWidth();return{top:Math.round(this.rowHeight*e+(e+1)*this.margin[1]),left:Math.round(a*t+(t+1)*this.margin[0]),height:i===1/0?i:Math.round(this.rowHeight*i+Math.max(0,i-1)*this.margin[1]),width:n===1/0?n:Math.round(a*n+Math.max(0,n-1)*this.margin[0])}},calculateWidthHeight:function(t,e){var n=this.calculateColumnWidth(),i=Math.round((e+this.margin[0])/(n+this.margin[0])),a=Math.round((t+this.margin[1])/(this.rowHeight+this.margin[1]));return{width:Math.max(Math.min(i,this.columns-this.innerX),0),height:Math.max(Math.min(a,this.maxRows-this.innerY),0)}},calculateXY:function(t,e){var n=this.calculateColumnWidth(),i=Math.round((e-this.margin[0])/(n+this.margin[0])),a=Math.round((t-this.margin[1])/(this.rowHeight+this.margin[1]));return{x:i=Math.max(Math.min(i,this.columns-this.innerWidth),0),y:a=Math.max(Math.min(a,this.maxRows-this.innerHeight),0)}},compact:function(){this.createStyle()},createStyle:function(){this.x+this.width>this.columns?(this.innerX=0,this.innerWidth=this.width>this.columns?this.columns:this.width):(this.innerX=this.x,this.innerWidth=this.width);var t,e,n,i,a,r=this.calculatePosition(this.innerX,this.innerY,this.innerWidth,this.innerHeight);this.is_dragging&&(r.top=this.dragging.top,r.left=this.dragging.left),this.is_resizing&&(r.height=this.resizing.height,r.width=this.resizing.width),this.style=(t=r.top,e=r.left,n=r.width,i=r.height,{transform:a="translate3d(".concat(e,"px,").concat(t,"px, 0)"),WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:n+"px",height:i+"px",position:"absolute"})},handleDrag:function(t){if(!this.is_resizing){var e,n,i=Ee(t),a=i.x,r=i.y,o={top:0,left:0};switch(t.type){case"dragstart":this.previousX=this.innerX,this.previousY=this.innerY,e=t.target.offsetParent.getBoundingClientRect(),n=t.target.getBoundingClientRect(),o.left=n.left-e.left,o.top=n.top-e.top,this.dragging=o;break;case"dragend":if(!this.is_dragging)return;e=t.target.offsetParent.getBoundingClientRect(),n=t.target.getBoundingClientRect(),o.left=n.left-e.left,o.top=n.top-e.top,this.dragging=null;break;case"dragmove":var s=Re(this.lastX,this.lastY,a,r);o.left=this.dragging.left+s.deltaX,o.top=this.dragging.top+s.deltaY,this.dragging=o}var l=this.calculateXY(o.top,o.left);this.lastX=a,this.lastY=r,this.innerX===l.x&&this.innerY===l.y||this.$emit("move",this.id,l.x,l.y),"dragend"!==t.type||this.previousX===this.innerX&&this.previousY===this.innerY||this.$emit("moved",this.id,l.x,l.y),xe.$emit("dragEvent",t.type,this.id,l.x,l.y,this.innerHeight,this.innerWidth)}},handleResize:function(t){var e=Ee(t),n=e.x,i=e.y,a={width:0,height:0};switch(t.type){case"resizestart":this.previousHeight=this.innerHeight,this.previousWidth=this.innerWidth;var r=this.calculatePosition(this.innerX,this.innerY,this.innerWidth,this.innerHeight);a.height=r.height,a.width=r.width,this.resizing=a;break;case"resizemove":var o=Re(this.lastWidth,this.lastHeight,n,i);a.height=this.resizing.height+o.deltaY,a.width=this.resizing.width+o.deltaX,this.resizing=a;break;case"resizeend":var s=this.calculatePosition(this.innerX,this.innerY,this.innerWidth,this.innerHeight);a.height=s.height,a.width=s.width,this.resizing=null}var l=this.calculateWidthHeight(a.height,a.width);l.width<this.minWidth&&(l.width=this.minWidth),l.width>this.maxWidth&&(l.width=this.maxWidth),l.height<this.minHeight&&(l.height=this.minHeight),l.height>this.maxHeight&&(l.height=this.maxHeight),l.height<1&&(l.height=1),l.width<1&&(l.width=1),this.lastHeight=i,this.lastWidth=n,this.innerWidth===l.width&&this.innerHeight===l.height||this.$emit("resize",this.id,l.height,l.width),"resizeend"!==event.type||this.previousWidth===this.innerWidth&&this.previousHeight===this.innerHeight||this.$emit("resized",this.id,a.height,a.width),xe.$emit("resizeEvent",event.type,this.id,this.innerX,this.innerY,l.height,l.width)},updateWidth:function(t,e){this.containerWidth=t,void 0!==e&&(this.column=e)}},watch:{columns:function(){this.createStyle()},containerWidth:function(){this.createStyle()},draggable:function(){var e=this;void 0!==this.interact&&null!==this.interact||(this.interact=interact(this.$refs.item)),this.draggable?(this.interact.draggable({allowFrom:this.dragAllowFrom,ignoreFrom:this.dragIgnoreFrom}),this.isDragEventSet||(this.isDragEventSet=!0,this.interact.on("dragstart dragmove dragend",function(t){return e.handleDrag(t)}))):this.interact.draggable({enabled:!1})},height:function(){this.innerHeight=this.height,this.createStyle()},isDraggable:function(){this.draggable=this.isDraggable},isResizable:function(){this.resizable=this.isResizable},resizable:function(){var e=this;void 0!==this.interact&&null!==this.interact||(this.interact=interact(this.$refs.item)),this.resizable?(this.interact.resizable({preserveAspectRatio:!1,edges:{top:!1,left:!1,right:".".concat(this.resize_handle_class),bottom:".".concat(this.resize_handle_class)},ignoreFrom:this.resizeIgnoreFrom}),this.isResizeEventSet||(this.isResizeEventSet=!0,this.interact.on("resizestart resizemove resizeend",function(t){return e.handleResize(t)}))):this.interact.resizable({enabled:!1})},rowHeight:function(){this.createStyle()},width:function(){this.innerWidth=this.width,this.createStyle()},x:function(){this.innerX=this.x,this.createStyle()},y:function(){this.innerY=this.y,this.createStyle()}}};var He,Ve,Be,We,Ue,Ye=(Be=void 0,We=!(He={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"item",staticClass:"latte-grid-item",class:{"is-draggable":t.isDraggable,"is-dragging":t.is_dragging,"is-resizable":t.isResizable,"is-resizing":t.is_resizing},style:t.style,attrs:{role:"gridcell"}},[t._t("default"),t._v(" "),t.resizable?n("div",{staticClass:"grid-item-resize-handle"}):t._e()],2)},staticRenderFns:[]}),(Ue=("function"==typeof(Ve=ze)?Ve.options:Ve)||{}).__file="GridItem.vue",Ue.render||(Ue.render=He.render,Ue.staticRenderFns=He.staticRenderFns,Ue._compiled=!0,We&&(Ue.functional=!0)),Ue._scopeId=Be,Ue);var Xe,Ke,Je,Ge,Ze,Qe=(Ge=!(Xe={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("latte-json-editor-view",{attrs:{parsedData:e.parsedData},model:{value:e.parsedData,callback:function(t){e.parsedData=t},expression:"parsedData"}})},staticRenderFns:[]}),(Ze=("function"==typeof(Ke={name:"latte-json-editor",props:{json:{required:!(Je=void 0)}},created:function(){this.parsedData=this.jsonParse(this.json)},data:function(){return{parsedData:[]}},methods:{getType:function(t){if(null===t)return"null";switch(Object.prototype.toString.call(t)){case"[object Array]":return"array";case"[object Object]":return"object";default:return a(t)}},jsonParse:function(t){var s=this,l=function a(r){var o=[];return Object.keys(r).forEach(function(t){var e=r[t],n=e;"object"===s.getType(e)?n=a(e):"array"===s.getType(e)&&(n=c(e));var i={name:t,type:s.getType(e)};"array"===i.type||"object"===i.type?(i.childParams=n,i.remark=null):(i.childParams=null,i.remark=n),o.push(i)}),o},c=function t(e){for(var n=[],i=0;i<e.length;++i){var a=e[i],r=a;"object"===s.getType(a)?r=l(a):"array"===s.getType(a)&&(r=t(a));var o={name:null,type:s.getType(a)};"array"===o.type||"object"===o.type?(o.childParams=r,o.remark=null):(o.childParams=null,o.remark=r),n.push(o)}return n};return l(t)},makeJson:function(t){var o=function t(e){for(var n={},i=0;i<e.length;++i){var a=e[i],r=a.name,o=void 0;o="array"===a.type?s(a.childParams):"object"===a.type?t(a.childParams):a.remark,n[r]=o}return n},s=function t(e){for(var n=[],i=0;i<e.length;++i){var a=e[i],r=void 0;r="array"===a.type?t(a.childParams):"object"===a.type?o(a.childParams):a.remark,n.push(r)}return n};return o(t)}},watch:{parsedData:{deep:!0,handler:function(){this.$emit("input",this.makeJson(this.parsedData))}}}})?Ke.options:Ke)||{}).__file="JsonEditor.vue",Ze.render||(Ze.render=Xe.render,Ze.staticRenderFns=Xe.staticRenderFns,Ze._compiled=!0,Ge&&(Ze.functional=!0)),Ze._scopeId=Je,Ze);var tn,en,nn,an,rn,on=(an=!(tn={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"json-editor json-editor-iaf"},[n.needName?i("input",{directives:[{name:"model",rawName:"v-model",value:n.keyName,expression:"keyName"}],staticClass:"form-control",attrs:{id:"iaf-key",type:"text",placeholder:"Key"},domProps:{value:n.keyName},on:{input:function(t){t.target.composing||(n.keyName=t.target.value)}}}):n._e(),n._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:n.formatSelected,expression:"formatSelected"}],staticClass:"custom-select ml-3",attrs:{id:"iaf-type"},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.formatSelected=t.target.multiple?e:e[0]}}},n._l(n.formats,function(t,e){return i("option",{key:e,domProps:{value:t}},[n._v(n._s(t))])})),n._v(" "),"array"!==n.formatSelected&&"object"!==n.formatSelected&&"null"!==n.formatSelected?["string"===n.formatSelected?i("input",{directives:[{name:"model",rawName:"v-model",value:n.valueName,expression:"valueName"}],staticClass:"form-control ml-3",attrs:{id:"iaf-value",type:"text",placeholder:"Value"},domProps:{value:n.valueName},on:{input:function(t){t.target.composing||(n.valueName=t.target.value)}}}):n._e(),n._v(" "),"number"===n.formatSelected?i("input",{directives:[{name:"model",rawName:"v-model",value:n.valueName,expression:"valueName"}],staticClass:"form-control ml-3",attrs:{id:"iaf-value",type:"number",placeholder:"Value"},domProps:{value:n.valueName},on:{change:n.dealNumber,input:function(t){t.target.composing||(n.valueName=t.target.value)}}}):n._e(),n._v(" "),"boolean"===n.formatSelected?i("select",{directives:[{name:"model",rawName:"v-model",value:n.valueName,expression:"valueName"}],staticClass:"custom-select ml-3",attrs:{id:"iaf-value"},on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});n.valueName=t.target.multiple?e:e[0]},n.dealBoolean]}},[i("option",{attrs:{value:"true",selected:""}},[n._v("TRUE")]),n._v(" "),i("option",{attrs:{value:"true"}},[n._v("FALSE")])]):n._e()]:n._e(),n._v(" "),i("button",{staticClass:"btn btn-primary ml-3",on:{click:n.confirm}},[i("i",{staticClass:"mdi mdi-check-circle"})]),n._v(" "),i("button",{staticClass:"btn btn-light ml-1",on:{click:n.cancel}},[i("i",{staticClass:"mdi mdi-close-circle"})])],2)},staticRenderFns:[]}),(rn=("function"==typeof(en={name:"latte-json-editor-iaf",props:{needName:{default:!(nn=void 0)}},data:function(){return{formats:["string","array","object","number","boolean","null"],formatSelected:"string",keyName:"",valueName:""}},methods:{confirm:function(){var t=null;t="array"===this.formatSelected?[]:"null"===this.formatSelected?null:"object"===this.formatSelected?[]:this.valueName;var e={key:this.needName?this.keyName:null,value:t,type:this.formatSelected};this.$emit("confirm",e),this.keyName="",this.valueName="",this.formatSelected="string"},cancel:function(){this.$emit("cancel")},dealBoolean:function(){this.valueName=Boolean(this.valueName)},dealNumber:function(){this.valueName=Number(this.valueName)}}})?en.options:en)||{}).__file="JsonEditorIaf.vue",rn.render||(rn.render=tn.render,rn.staticRenderFns=tn.staticRenderFns,rn._compiled=!0,an&&(rn.functional=!0)),rn._scopeId=nn,rn);var sn,ln,cn,dn,un,hn=(dn=!(sn={render:function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"json-editor json-editor-view"},[i._l(i.flowData,function(n,e){return a("div",{key:i.key(n),staticClass:"json-editor json-editor-block",class:[n.type,{"hide-block":i.hideMyBlock[e]}]},[a("div",{staticClass:"key"},["object"===n.type||"array"===n.type?a("button",{staticClass:"btn btn-light toggle",on:{click:function(t){i.toggleBlock(e)}}},[a("i",{class:["mdi",{"mdi-chevron-down":!i.hideMyBlock[e]},{"mdi-chevron-right":i.hideMyBlock[e]}]})]):i._e(),i._v(" "),"string"==typeof n.name?a("input",{directives:[{name:"model",rawName:"v-model",value:n.name,expression:"item.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:n.name},on:{blur:function(t){i.keyInputBlur(n,t)},input:function(t){t.target.composing||i.$set(n,"name",t.target.value)}}}):i._e(),i._v(" "),"array"===n.type?a("span",{staticClass:"json-editor json-editor-o"},[i._v(i._s("["+n.childParams.length+"]"))]):i._e(),i._v(" "),"object"===n.type?a("span",{staticClass:"json-editor json-editor-o"},[i._v(i._s("{"+(n.childParams.length||0)+"}"))]):i._e(),i._v(" "),"object"===n.type||"array"===n.type?a("button",{staticClass:"btn btn-light trash",on:{click:function(t){i.deleteItem(i.parsedData,n,e)}}},[a("i",{staticClass:"mdi mdi-delete"})]):i._e()]),i._v(" "),a("div",{staticClass:"value"},["object"===n.type?[a("latte-json-editor-view",{attrs:{parsedData:n.childParams},model:{value:n.childParams,callback:function(t){i.$set(n,"childParams",t)},expression:"item.childParams"}})]:"array"===n.type?[a("latte-json-editor-view-array",{attrs:{parsedData:n.childParams},model:{value:n.childParams,callback:function(t){i.$set(n,"childParams",t)},expression:"item.childParams"}})]:["string"===n.type?a("input",{directives:[{name:"model",rawName:"v-model",value:n.remark,expression:"item.remark"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:n.remark},on:{input:function(t){t.target.composing||i.$set(n,"remark",t.target.value)}}}):i._e(),i._v(" "),"number"===n.type?a("input",{directives:[{name:"model",rawName:"v-model.number",value:n.remark,expression:"item.remark",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:n.remark},on:{input:function(t){t.target.composing||i.$set(n,"remark",i._n(t.target.value))},blur:function(t){i.$forceUpdate()}}}):i._e(),i._v(" "),"boolean"===n.type?a("select",{directives:[{name:"model",rawName:"v-model",value:n.remark,expression:"item.remark"}],staticClass:"custom-select",attrs:{name:"value"},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});i.$set(n,"remark",t.target.multiple?e:e[0])}}},[a("option",{domProps:{value:!0}},[i._v("TRUE")]),i._v(" "),a("option",{domProps:{value:!1}},[i._v("FALSE")])]):i._e(),i._v(" "),a("button",{staticClass:"btn btn-light trash",on:{click:function(t){i.deleteItem(i.parsedData,n,e)}}},[a("i",{staticClass:"mdi mdi-delete"})])]],2)])}),i._v(" "),i.isAddingItem?a("latte-json-editor-iaf",{on:{confirm:i.newItem,cancel:i.cancelNewItem}}):i._e(),i._v(" "),i.isAddingItem?i._e():a("button",{staticClass:"btn btn-light",on:{click:i.addItem}},[a("i",{staticClass:"mdi mdi-plus-circle"})])],2)},staticRenderFns:[]}),(un=("function"==typeof(ln={name:"latte-json-editor-view",props:{parsedData:{required:!(cn=void 0)}},created:function(){this.flowData=this.parsedData},data:function(){return{flowData:[],hideMyBlock:{},isAddingItem:!1}},mounted:function(){for(var t in this.flowData)this.flowData.hasOwnProperty(t)&&this.$set(this.hideMyBlock,t,!0)},methods:{key:function(t){return JSON.stringify(t)},deleteItem:function(t,e,n){this.flowData.splice(n,1),this.$emit("input",this.flowData)},toggleBlock:function(t){this.$set(this.hideMyBlock,t,!this.hideMyBlock[t])},addItem:function(){this.isAddingItem||(this.isAddingItem=!0)},cancelNewItem:function(){this.isAddingItem&&(this.isAddingItem=!1)},newItem:function(t){var e={name:t.key,type:t.type};"array"===t.type||"object"===t.type?(e.childParams=t.value,e.remark=null):(e.childParams=null,e.remark=t.value),e.name?(this.flowData.push(e),this.$emit("input",this.flowData),this.cancelNewItem()):Latte.messages.alert(Latte.i18n.translate("root","Invalid key"),Latte.i18n.translate("root","Invalid key specified!"))},keyInputBlur:function(t,e){t.name.length<=0&&(Latte.messages.alert(Latte.i18n.translate("root","Invalid key"),Latte.i18n.translate("root","Invalid key specified!")),t.name="null",e.target.focus())}}})?ln.options:ln)||{}).__file="JsonEditorView.vue",un.render||(un.render=sn.render,un.staticRenderFns=sn.staticRenderFns,un._compiled=!0,dn&&(un.functional=!0)),un._scopeId=cn,un);var pn,fn,mn,vn,gn,yn=(vn=!(pn={render:function(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"json-editor json-editor-view array"},[i._l(i.flowData,function(n,e){return a("div",{key:e,staticClass:"json-editor json-editor-block",class:[n.type,{"hide-block":i.hideMyBlock[e]}]},[a("div",{staticClass:"key"},["object"===n.type||"array"===n.type?a("button",{staticClass:"btn btn-light toggle",on:{click:function(t){i.toggleBlock(e)}}},[a("i",{class:["mdi",{"mdi-chevron-down":!i.hideMyBlock[e]},{"mdi-chevron-right":i.hideMyBlock[e]}]})]):i._e(),i._v(" "),a("span",{staticClass:"key"},[i._v(i._s(e))]),i._v(" "),"array"===n.type?a("span",{staticClass:"json-editor json-editor-o"},[i._v(i._s("["+n.childParams.length+"]"))]):i._e(),i._v(" "),"object"===n.type?a("span",{staticClass:"json-editor json-editor-o"},[i._v(i._s("{"+(n.childParams.length||0)+"}"))]):i._e(),i._v(" "),"object"===n.type||"array"===n.type?a("button",{staticClass:"btn btn-light trash",on:{click:function(t){i.deleteItem(i.parsedData,n,e)}}},[a("i",{staticClass:"mdi mdi-delete"})]):i._e()]),i._v(" "),a("div",{staticClass:"value"},["object"===n.type?[a("latte-json-editor-view",{attrs:{parsedData:n.childParams},model:{value:n.childParams,callback:function(t){i.$set(n,"childParams",t)},expression:"item.childParams"}})]:"array"===n.type?[a("latte-json-editor-view-array",{attrs:{parsedData:n.childParams},model:{value:n.childParams,callback:function(t){i.$set(n,"childParams",t)},expression:"item.childParams"}})]:["string"===n.type?a("input",{directives:[{name:"model",rawName:"v-model",value:n.remark,expression:"item.remark"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:n.remark},on:{input:function(t){t.target.composing||i.$set(n,"remark",t.target.value)}}}):i._e(),i._v(" "),"number"===n.type?a("input",{directives:[{name:"model",rawName:"v-model.number",value:n.remark,expression:"item.remark",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:n.remark},on:{input:function(t){t.target.composing||i.$set(n,"remark",i._n(t.target.value))},blur:function(t){i.$forceUpdate()}}}):i._e(),i._v(" "),"boolean"===n.type?a("select",{directives:[{name:"model",rawName:"v-model",value:n.remark,expression:"item.remark"}],staticClass:"custom-select",attrs:{name:"value"},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});i.$set(n,"remark",t.target.multiple?e:e[0])}}},[a("option",{domProps:{value:!0}},[i._v("TRUE")]),i._v(" "),a("option",{domProps:{value:!1}},[i._v("FALSE")])]):i._e(),i._v(" "),a("button",{staticClass:"btn btn-light trash",on:{click:function(t){i.deleteItem(i.parsedData,n,e)}}},[a("i",{staticClass:"mdi mdi-delete"})])]],2)])}),i._v(" "),i.isAddingItem?a("latte-json-editor-iaf",{attrs:{needName:!1},on:{confirm:i.newItem,cancel:i.cancelNewItem}}):i._e(),i._v(" "),i.isAddingItem?i._e():a("button",{staticClass:"btn btn-light",on:{click:i.addItem}},[a("i",{staticClass:"mdi mdi-plus-circle"})])],2)},staticRenderFns:[]}),(gn=("function"==typeof(fn={name:"latte-json-editor-view-array",props:{parsedData:{required:!(mn=void 0)}},data:function(){return{hideMyBlock:{},flowData:this.parsedData,isAddingItem:!1}},mounted:function(){for(var t in this.flowData)this.flowData.hasOwnProperty(t)&&this.$set(this.hideMyBlock,t,!0)},methods:{deleteItem:function(t,e,n){this.flowData.splice(n,1),this.$emit("input",this.flowData)},addItem:function(){this.isAddingItem||(this.isAddingItem=!0)},cancelNewItem:function(){this.isAddingItem&&(this.isAddingItem=!1)},toggleBlock:function(t){this.$set(this.hideMyBlock,t,!this.hideMyBlock[t])},newItem:function(t){var e={name:t.key,type:t.type};"array"===t.type||"object"===t.type?(e.childParams=t.value,e.remark=null):(e.childParams=null,e.remark=t.value),this.flowData.push(e),this.$emit("input",this.flowData),this.cancelNewItem()}}})?fn.options:fn)||{}).__file="JsonEditorViewArray.vue",gn.render||(gn.render=pn.render,gn.staticRenderFns=pn.staticRenderFns,gn._compiled=!0,vn&&(gn.functional=!0)),gn._scopeId=mn,gn),wn={name:"latte-moment",props:{format:{default:"d MMMM YYYY",required:!1,type:String},unixTimestamp:{default:function(){return Date.now()},required:!1,type:Number}},computed:{formatted_moment:function(){return moment(this.unixTimestamp).format(this.format)}}};var bn,_n,Cn,xn,kn,Sn=(Cn=void 0,xn=!(bn={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{staticClass:"latte-moment"},[t._v(t._s(t.formatted_moment))])},staticRenderFns:[]}),(kn=("function"==typeof(_n=wn)?_n.options:_n)||{}).__file="Moment.vue",kn.render||(kn.render=bn.render,kn.staticRenderFns=bn.staticRenderFns,kn._compiled=!0,xn&&(kn.functional=!0)),kn._scopeId=Cn,kn);var Ln,Rn,En,Dn,$n,Pn=(En=void 0,Dn=!(Ln={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{attrs:{id:"notification-center"}},n._l(n.notifications,function(e){return i("div",{ref:"notification_"+e.id,refInFor:!0,staticClass:"notification",class:n.getNotificationClasses(e),style:{top:e.top+"px"}},[e.avatar?i("img",{staticClass:"avatar",attrs:{src:e.avatar}}):n._e(),n._v(" "),e.type?i("div",{staticClass:"notification-icon"},[i("i",{staticClass:"mdi"})]):n._e(),n._v(" "),i("div",{staticClass:"notification-content"},[i("div",{staticClass:"notification-body"},[e.title?i("span",{staticClass:"notification-title"},[n._v(n._s(e.title))]):n._e(),n._v(" "),e.message?i("span",{staticClass:"notification-text"},[n._v(n._s(e.message))]):n._e()]),n._v(" "),e.actions?i("div",{staticClass:"notification-actions"},n._l(e.actions,function(t){return i("button",n._b({staticClass:"btn btn-text",class:"btn-"+(t.type||"primary"),attrs:{"data-action":t.action},on:{click:function(t){n.remove(e.id)}}},"button",n.makeParams(t.params||{}),!1),[i("span",[n._v(n._s(t.label))])])})):n._e()])])}))},staticRenderFns:[]}),($n=("function"==typeof(Rn={name:"latte-notifications",data:function(){return{notifications:[]}},mounted:function(){var e=this;p("latte:notification",function(t){return e.createNotification(t)})},methods:{createNotification:function(t){var e=this;t.id=this.notifications.map(function(t){return t.id}).sort(function(t,e){return e-t})[0]+1,isNaN(t.id)&&(t.id=0),t.delay=t.delay||3e3,t.shown=!1,t.top=0,this.notifications.unshift(t),setTimeout(function(){return e.show(t.id)},50),-1<t.delay&&setTimeout(function(){return e.remove(t.id)},t.delay+50);var n=t.sound||"/resource/sound/notification/pipes.ogg";if(null!==n){var i=new Audio;i.setAttribute("src",n),i.setAttribute("preload","auto"),i.volume=1,i.currentTime=0,i.play().then()}},getNotificationClasses:function(t){var e=[];return t.shown||e.push("is-hidden"),t.type&&e.push("notification-".concat(t.type)),e},makeParams:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e["data-".concat(n)]=t[n]);return e},remove:function(e){var t=this,n=this.notifications.find(function(t){return t.id===e});n&&(n.shown=!1,setTimeout(function(){return t.notifications=t.notifications.filter(function(t){return t.id!==e})},360))},show:function(e){this.notifications.find(function(t){return t.id===e}).shown=!0,this.updatePositions()},updatePositions:function(){for(var t=this.notifications.filter(function(t){return t.shown}),e=84,n=t.length-1;0<=n;n--){var i=t[n];i.top=e,e+=this.$refs["notification_".concat(i.id)][0].getBoundingClientRect().height+24}}},watch:{notifications:function(){var t=this;this.$nextTick(function(){return t.updatePositions()})}}})?Rn.options:Rn)||{}).__file="Notifications.vue",$n.render||($n.render=Ln.render,$n.staticRenderFns=Ln.staticRenderFns,$n._compiled=!0,Dn&&($n.functional=!0)),$n._scopeId=En,$n),In={name:"latte-overlay",props:{name:{required:!0,type:String},opened:{default:!1,type:Boolean}},data:function(){return{isOpen:!1,isVisible:!1}},destroyed:function(){J(this.name)},mounted:function(){K(this.name,this),this.$el.parentNode.removeChild(this.$el),document.body.appendChild(this.$el),this.opened&&X(this.name)},methods:{close:function(){var t=this;this.isOpen=!1,b(270,function(){return t.isVisible=!1}),_("latte:overlay",{overlay:this,open:!1}),this.$emit("close",this)},open:function(){var t=this;this.isVisible||(this.isVisible=!0,b(20,function(){return t.isOpen=!0}),_("latte:overlay",{overlay:this,open:!0}),this.$emit("open",this))}}};var Fn,Mn,On,Nn,An,qn=(On=void 0,Nn=!(Fn={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isVisible?n("div",{staticClass:"latte-overlay",class:{"is-visible":t.isVisible,"is-open":t.isOpen},attrs:{role:"dialog"}},[t._t("default")],2):t._e()},staticRenderFns:[]}),(An=("function"==typeof(Mn=In)?Mn.options:Mn)||{}).__file="Overlay.vue",An.render||(An.render=Fn.render,An.staticRenderFns=Fn.staticRenderFns,An._compiled=!0,Nn&&(An.functional=!0)),An._scopeId=On,An),Tn={name:"latte-pagination",props:{pagination:{type:Array,required:!0}},methods:{navigate:function(t){this.$emit("navigate",t)}}};var jn,zn,Hn,Vn,Bn,Wn=(Hn=void 0,Vn=!(jn={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("nav",{staticClass:"pagination ml-auto",attrs:{role:"navigation"}},[n._l(n.pagination,function(e){return[i("a",{staticClass:"pagination-item",class:{"is-current":e.is_current,"is-disabled":e.is_disabled},attrs:{role:"menuitem"},on:{click:function(t){n.navigate(e.page)}}},[e.is_dots?[n._v("")]:"first"===e.label?[i("i",{staticClass:"mdi mdi-chevron-double-left"})]:"prev"===e.label?[i("i",{staticClass:"mdi mdi-chevron-left"})]:"next"===e.label?[i("i",{staticClass:"mdi mdi-chevron-right"})]:"last"===e.label?[i("i",{staticClass:"mdi mdi-chevron-double-right"})]:[n._v(n._s(e.label))]],2)]})],2)},staticRenderFns:[]}),(Bn=("function"==typeof(zn=Tn)?zn.options:zn)||{}).__file="Pagination.vue",Bn.render||(Bn.render=jn.render,Bn.staticRenderFns=jn.staticRenderFns,Bn._compiled=!0,Vn&&(Bn.functional=!0)),Bn._scopeId=Hn,Bn),Un={name:"latte-password",props:{autocomplete:{default:"",required:!1,type:String},id:{default:"",required:!1,type:String},name:{default:"",required:!1,type:String},placeholder:{default:"",required:!1,type:String},show:{default:!1,required:!1,type:Boolean},value:{default:"",required:!1,type:String}},data:function(){return{fieldType:this.show?"text":"password",password:this.value}},computed:{bindings:function(){var t={};return""!==this.id&&(t.id=this.id),""!==this.name&&(t.name=this.name),""!==this.placeholder&&(t.placeholder=this.placeholder),t},iconClass:function(){return"password"===this.fieldType?"mdi-eye":"mdi-eye-off"}},methods:{toggle:function(){this.show=!this.show}},watch:{password:function(){this.$emit("input",this.password)},show:function(){this.fieldType=this.show?"text":"password"}}};var Yn,Xn,Kn,Jn,Gn,Zn=(Kn=void 0,Jn=!(Yn={render:function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"form-control"},["checkbox"===r.fieldType?e("input",r._b({directives:[{name:"model",rawName:"v-model",value:r.password,expression:"password"}],staticClass:"form-control-plain",attrs:{autocomplete:r.autocomplete,type:"checkbox"},domProps:{checked:Array.isArray(r.password)?-1<r._i(r.password,null):r.password},on:{change:function(t){var e=r.password,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=r._i(e,null);n.checked?a<0&&(r.password=e.concat([null])):-1<a&&(r.password=e.slice(0,a).concat(e.slice(a+1)))}else r.password=i}}},"input",r.bindings,!1)):"radio"===r.fieldType?e("input",r._b({directives:[{name:"model",rawName:"v-model",value:r.password,expression:"password"}],staticClass:"form-control-plain",attrs:{autocomplete:r.autocomplete,type:"radio"},domProps:{checked:r._q(r.password,null)},on:{change:function(t){r.password=null}}},"input",r.bindings,!1)):e("input",r._b({directives:[{name:"model",rawName:"v-model",value:r.password,expression:"password"}],staticClass:"form-control-plain",attrs:{autocomplete:r.autocomplete,type:r.fieldType},domProps:{value:r.password},on:{input:function(t){t.target.composing||(r.password=t.target.value)}}},"input",r.bindings,!1)),r._v(" "),e("button",{staticClass:"btn btn-text btn-icon btn-dark form-control-suffix",attrs:{type:"button"},on:{click:r.toggle}},[e("i",{staticClass:"mdi",class:r.iconClass})])])},staticRenderFns:[]}),(Gn=("function"==typeof(Xn=Un)?Xn.options:Xn)||{}).__file="Password.vue",Gn.render||(Gn.render=Yn.render,Gn.staticRenderFns=Yn.staticRenderFns,Gn._compiled=!0,Jn&&(Gn.functional=!0)),Gn._scopeId=Kn,Gn),Qn={name:"latte-pdf-viewer",props:{source:{type:String,required:!0}},data:function(){return{i18n:{download:"Download",openInNewTab:"Open in new tab",print:"Print",reload:"Reload"},isLoading:!1,pages:0,pdf:null,rendered:0}},mounted:function(){this.load(),this.i18n=E(this.i18n)},computed:{hasSupport:function(){return void 0!==window.pdfjsLib}},methods:{load:function(){var e=this;this.hasSupport&&(this.isLoading=!0,this.rendered=0,window.pdfjsLib.getDocument(this.source).then(function(t){return e.onPDFLoaded(t)}))},download:function(){downloadFile("NULL.pdf",this.source)},print:function(){printDocument(this.source)},onPDFLoaded:function(t){var e=this;this.pdf=t,this.pages=this.pdf.numPages,this.$nextTick(function(){return e.onPDFLoadedSecondTask()})},onPDFLoadedSecondTask:function(){for(var t=1;t<=this.pages;t++){var e=this.$el.querySelector("div.page#page-".concat(t));if(void 0===e)throw new Error("Page Element not found!");var n=e.querySelector("canvas");this.pdf.getPage(t).then(this.onPDFPageReady.bind(this,e,n))}},onPDFPageReady:function(t,e,n){this.renderPage(t,e,n)},renderPage:function(t,e,n){var i=this,a=t.getBoundingClientRect().width,r=n.getViewport(1),o=a/r.width;r=n.getViewport(o);var s=e.getContext("2d");t.style.height=(e.height=Math.round(r.height))+"px",t.style.width=(e.width=Math.round(r.width))+"px";var l={canvasContext:s,viewport:r};n.render(l).then(function(){i.rendered++,i.isLoading=!(i.rendered===i.pages)})}},watch:{source:function(){this.load()}}};var ti,ei,ni,ii,ai,ri=(ni=void 0,ii=!(ti={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasSupport?n("div",{directives:[{name:"latte-context-menu",rawName:"v-latte-context-menu"}],staticClass:"panel pdf-viewer",class:{"is-loading":t.isLoading},staticStyle:{"min-height":"84px"},attrs:{role:"presentation"}},[t._l(t.pages,function(t){return n("div",{staticClass:"page",attrs:{id:"page-"+t}},[n("canvas")])}),t._v(" "),n("span",{staticClass:"spinner"}),t._v(" "),n("nav",{staticClass:"nav nav-list latte-context-menu"},[n("a",{staticClass:"nav-link",attrs:{href:t.source,target:"_blank"}},[n("i",{staticClass:"mdi mdi-open-in-new"}),t._v(" "),n("span",[t._v(t._s(t.i18n.openInNewTab))])]),t._v(" "),n("a",{staticClass:"nav-link",on:{click:t.download}},[n("i",{staticClass:"mdi mdi-download"}),t._v(" "),n("span",[t._v(t._s(t.i18n.download))])]),t._v(" "),n("a",{staticClass:"nav-link",on:{click:t.print}},[n("i",{staticClass:"mdi mdi-printer"}),t._v(" "),n("span",[t._v(t._s(t.i18n.print))])]),t._v(" "),n("div",{staticClass:"divider divider-horizontal"}),t._v(" "),n("a",{staticClass:"nav-link",on:{click:t.load}},[n("i",{staticClass:"mdi mdi-reload"}),t._v(" "),n("span",[t._v(t._s(t.i18n.reload))])]),t._v(" "),t._t("menu")],2)],2):n("div",{staticClass:"panel"},[n("div",{staticClass:"panel-body text-center"},[t._v("\n\tPlease include PDF.js in your project.\n")])])},staticRenderFns:[]}),(ai=("function"==typeof(ei=Qn)?ei.options:ei)||{}).__file="PdfViewer.vue",ai.render||(ai.render=ti.render,ai.staticRenderFns=ti.staticRenderFns,ai._compiled=!0,ii&&(ai.functional=!0)),ai._scopeId=ni,ai),oi={name:"latte-tree-view",props:{url:{required:!0,type:String}},data:function(){return{children:[]}},mounted:function(){this.load()},methods:{click:function(t){this.$emit("change",t)},load:function(){v(this.url).then(function(t){return t.json()}).then(this.onResponse)},onResponse:function(t){this.children=t.data}}};var si,li,ci,di,ui,hi=(ci=void 0,di=!(si={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"tree-view"},n._l(n.children,function(t,e){return i("latte-tree-view-item",{key:e,attrs:{id:t.id,parent_id:t.parent_id,icon:t.icon,name:t.name,children:t.children||[]},on:{change:function(t){n.click(t)}}})}))},staticRenderFns:[]}),(ui=("function"==typeof(li=oi)?li.options:li)||{}).__file="TreeView.vue",ui.render||(ui.render=si.render,ui.staticRenderFns=si.staticRenderFns,ui._compiled=!0,di&&(ui.functional=!0)),ui._scopeId=ci,ui),pi={name:"latte-tree-view-item",props:{id:{required:!0,type:Number},parent_id:{required:!0,type:void 0|Number},icon:{default:"folder",required:!1,type:String},name:{required:!0,type:String},children:{default:[],required:!1,type:Array}},data:function(){return{isExpanded:!1}},methods:{click:function(t){this.$emit("change",t)},toggle:function(t){t.preventDefault(),t.stopPropagation(),this.isExpanded=!this.isExpanded}}};var fi,mi,vi,gi,yi,wi=(vi=void 0,gi=!(fi={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"tree-view-item"},[i("div",{staticClass:"tree-view-item-label",class:{"is-expanded":n.isExpanded},on:{click:function(t){n.click(n.id)}}},[0<n.children.length?i("button",{staticClass:"btn btn-text btn-icon btn-dark btn-sm",on:{click:n.toggle}},[i("i",{staticClass:"mdi mdi-chevron-right"})]):n._e(),n._v(" "),i("i",{class:["tree-view-item-label-icon","mdi","mdi-"+n.icon]}),n._v(" "),i("span",{staticClass:"tree-view-item-label-label"},[n._v(n._s(n.name))])]),n._v(" "),0<n.children.length&&n.isExpanded?i("div",{staticClass:"tree-view-item-children"},n._l(n.children,function(t,e){return i("latte-tree-view-item",{key:e,attrs:{id:t.id,parent_id:t.parent_id,icon:t.icon,name:t.name,children:t.children||[]},on:{change:function(t){n.click(t)}}})})):n._e()])},staticRenderFns:[]}),(yi=("function"==typeof(mi=pi)?mi.options:mi)||{}).__file="TreeViewItem.vue",yi.render||(yi.render=fi.render,yi.staticRenderFns=fi.staticRenderFns,yi._compiled=!0,gi&&(yi.functional=!0)),yi._scopeId=vi,yi),bi={name:"latte-upload-user-photo",props:{id:{default:"photo_id",required:!1,type:String},name:{default:"photo",required:!1,type:String},noPicture:{default:"/resource/image/simple-avatar/bm?seed=12",required:!1,type:String},value:{default:0,required:!1,type:Number}},data:function(){return{i18n:{cancel:"Cancel",dropHere:"Place photo here to upload.",invalidFile:"Invalid file type. Input is cleared.",remove:"Remove",select:"Select"},currentFile:null,isDroppable:!1,isLoading:!0,previewUrl:null,uniqueId:m()}},mounted:function(){var e=this;window.addEventListener("dragleave",function(t){return e.onDragLeave(t)}),window.addEventListener("dragend",function(t){return e.onDragLeave(t)}),window.addEventListener("dragover",function(t){return e.onDragOver(t)}),this.i18n=E(this.i18n,"admin-file-manager"),this.loadFile()},computed:{fileId:function(){return null!==this.previewUrl?0:null!==this.currentFile?this.currentFile.id:0},imageSource:function(){return null!==this.previewUrl?this.previewUrl:null!==this.currentFile?void 0!==this.currentFile.variants&&void 0!==this.currentFile.variants[3]?this.currentFile.variants[3].path:this.currentFile.path:this.noPicture}},methods:{cancel:function(){window.URL.revokeObjectURL(this.previewUrl),this.$refs.file_input.value="",this.previewUrl=null},loadFile:function(){var e=this;this.value<=0?this.currentFile=null:v("/api/system/file-system/file/".concat(this.value)).then(function(t){return t.json()}).then(function(t){return e.onFileResponse(t)})},onDragLeave:function(t){this.isDroppable=!1,t.preventDefault(),t.stopPropagation()},onDragOver:function(t){this.isDroppable=!0,t.preventDefault(),t.stopPropagation()},onDrop:function(t){this.isDroppable=!1,1===t.dataTransfer.files.length&&null!==t.dataTransfer.files[0].type.match(/image.*/)&&(this.$refs.file_input.files=t.dataTransfer.files,t.preventDefault(),t.stopPropagation())},onFileResponse:function(t){t&&!0===t.success&&(this.currentFile=t.data)},onFileSelected:function(){if(1===this.$refs.file_input.files.length){if(null===this.$refs.file_input.files[0].type.match(/image.*/))return this.$refs.file_input.value="",void z(this.i18n.invalidFile,"error",!0);var t=window.URL.createObjectURL(this.$refs.file_input.files[0]);this.previewUrl!==t&&(null!==this.previewUrl&&window.URL.revokeObjectURL(this.previewUrl),this.isLoading=!0,this.previewUrl=t)}},onImageLoaded:function(){this.isLoading=!1},remove:function(){this.currentFile=null},selectFile:function(){this.$refs.file_input.click()}},watch:{value:function(){this.loadFile()}}};var _i,Ci,xi,ki,Si,Li=(xi=void 0,ki=!(_i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"latte-drop-container latte-upload-user-photo",attrs:{id:t.uniqueId},on:{drop:t.onDrop}},[n("div",{staticClass:"row no-gutters"},[n("div",{staticClass:"col align-self-center text-center",staticStyle:{"flex-grow":"0"}},[n("img",{staticClass:"avatar avatar-medium",attrs:{src:t.imageSource,alt:"Photo"},on:{load:t.onImageLoaded}}),t._v(" "),t.isLoading?n("span",{staticClass:"spinner spinner-primary above-parent"}):t._e()]),t._v(" "),n("div",{staticClass:"col d-flex align-self-center mt-3 mt-lg-0 ml-0 ml-lg-auto",staticStyle:{"flex-grow":"0"}},[n("button",{staticClass:"btn btn-contained btn-primary",attrs:{type:"button"},on:{click:t.selectFile}},[n("i",{staticClass:"mdi mdi-plus-circle"}),n("span",[t._v(t._s(t.i18n.select))])]),t._v(" "),null!==t.currentFile&&null===t.previewUrl?n("button",{staticClass:"btn btn-text btn-icon btn-dark",attrs:{type:"button"},on:{click:t.remove}},[n("i",{staticClass:"mdi mdi-delete"})]):t._e(),t._v(" "),null!==t.previewUrl?n("button",{staticClass:"btn btn-text btn-icon btn-dark",attrs:{type:"button"},on:{click:t.cancel}},[n("i",{staticClass:"mdi mdi-close"})]):t._e()])]),t._v(" "),n("div",{staticClass:"drop-here",class:{"is-droppable":t.isDroppable}},[t._v(t._s(t.i18n.dropHere))]),t._v(" "),n("input",{ref:"file_id",attrs:{type:"hidden",name:t.name+"_id"},domProps:{value:t.fileId}}),t._v(" "),n("input",{ref:"file_input",staticClass:"d-none",attrs:{type:"file",accept:"image/*",name:t.name+"_file",id:t.name},on:{change:t.onFileSelected}})])},staticRenderFns:[]}),(Si=("function"==typeof(Ci=bi)?Ci.options:Ci)||{}).__file="UploadUserPhoto.vue",Si.render||(Si.render=_i.render,Si.staticRenderFns=_i.staticRenderFns,Si._compiled=!0,ki&&(Si.functional=!0)),Si._scopeId=xi,Si);Vue.component("latte-autocomplete",vt),Vue.component("latte-button-dropdown",xt),Vue.component("latte-chart",$t),Vue.component("latte-chart-panel",At),Vue.component("latte-combo-box",qt),Vue.component("latte-combo-box-item",Wt),Vue.component("latte-data-table",Qt),Vue.component("latte-datepicker",oe),Vue.component("latte-draggable",Ce),Vue.component("latte-grid",je),Vue.component("latte-grid-item",Ye),Vue.component("latte-json-editor",Qe),Vue.component("latte-json-editor-iaf",on),Vue.component("latte-json-editor-view",hn),Vue.component("latte-json-editor-view-array",yn),Vue.component("latte-moment",Sn),Vue.component("latte-notifications",Pn),Vue.component("latte-overlay",qn),Vue.component("latte-pagination",Wn),Vue.component("latte-password",Zn),Vue.component("latte-pdf-viewer",ri),Vue.component("latte-tree-view",hi),Vue.component("latte-tree-view-item",wi),Vue.component("latte-upload-user-photo",Li);var Ri="latte:clickaway-handler";function Ei(e,t){Di(e);var n=t.value,i=!1;"function"==typeof n&&(b(0,function(){return i=!0}),e[Ri]=function(t){if(i&&!e.contains(t.target))return n(t)},document.documentElement.addEventListener("click",e[Ri],{passive:!0}))}function Di(t){document.documentElement.removeEventListener("click",t[Ri]),delete t[Ri]}var $i={bind:Ei,unbind:Di,update:function(t,e){e.value!==e.oldValue&&Ei(t,e)}},Pi={bind:function(t){var a=t.contextMenuInstance=t.querySelector(":scope > nav.latte-context-menu:not(.is-inline)");if(null!==a){t.removeChild(a),document.body.appendChild(a);var r=function t(e){e.cancelable&&(e.preventDefault(),e.stopPropagation()),a.classList.remove("is-open"),document.body.classList.remove("is-context-menu-open"),document.scrollingElement.removeEventListener("scroll",t),document.body.removeEventListener("mousedown",t)},e=t.contextMenuItemDownHandler=function(t){t.preventDefault(),t.stopPropagation()},n=t.contextMenuItemUpHandler=function(t){t.preventDefault(),t.stopPropagation(),r(t)},i=t.contextMenuHandler=function(t){t.preventDefault(),t.stopPropagation(),a.classList.add("is-open");var e=a.getBoundingClientRect(),n=t.pageX-document.scrollingElement.scrollLeft,i=t.pageY-document.scrollingElement.scrollTop;n+e.width+9>window.innerWidth&&(n-=e.width),i+e.height+9>window.innerHeight&&(i-=e.height),n+e.width+9>window.innerWidth&&(n=window.innerWidth-(e.width+9)),i+e.height+9>window.innerHeight&&(i=window.innerHeight-(e.height+9)),a.style.top="".concat(i,"px"),a.style.left="".concat(n,"px"),document.body.classList.add("is-context-menu-open"),document.body.addEventListener("mousedown",r),window.addEventListener("scroll",r,{passive:!0}),document.dispatchEvent(new CustomEvent("latte:context-menu",{detail:{menu:a,open:!0}}))};t.addEventListener("contextmenu",i),a.addEventListener("mousedown",e),a.addEventListener("mouseup",n)}},unbind:function(t){void 0!==t.contextMenuInstance&&null!==t.contextMenuInstance&&(t.contextMenuInstance.addEventListener("mousedown",event.contextMenuItemDownHandler),t.contextMenuInstance.addEventListener("mouseup",event.contextMenuItemUpHandler),document.body.removeChild(t.contextMenuInstance),t.appendChild(t.contextMenuInstance),t.removeEventListener("contextmenu",t.contextMenuHandler),document.dispatchEvent(new CustomEvent("latte:context-menu",{detail:{menu:t.contextMenuInstance,open:!1}})))}};Vue.directive("click-away",$i),Vue.directive("latte-context-menu",Pi);var Ii,Fi,Mi,Oi,Ni,Ai=(Ii={},Oi=Mi=void 0,(Ni=("function"==typeof(Fi={name:"latte-view-dashboard",data:function(){return{columns:12,isLoading:!0,widgets:[]}},mounted:function(){var e=this;v("/api/latte/widgets").then(function(t){return t.json()}).then(function(t){return e.onReceivedWidgets(t)}).catch(function(t){return c(t,function(){return e.isLoading=!1})}),window.addEventListener("resize",function(){return e.onResize()},{passive:!0})},methods:{insertWidget:function(t){var e=this;if(!this.isLoading){this.isLoading=!0;var n={dashboard:"private",type:t};v("/api/latte/widgets",{body:JSON.stringify(n),method:"POST"}).then(function(t){return t.json()}).then(function(t){return console.log(t)}).catch(function(t){return z(t.message,"error",!0)}).then(function(){return e.isLoading=!1})}},onReceivedWidgets:function(t){this.widgets=t.data,this.onResize(),this.isLoading=!1},onResize:function(){var t=12;window.innerWidth<1600&&(t=8),window.innerWidth<1400&&(t=6),window.innerWidth<1e3&&(t=4),window.innerWidth<600&&(t=2),window.innerWidth<400&&(t=1),this.columns=t},onWidgetMoved:function(t,e,n){for(var i in this.widgets)this.widgets.hasOwnProperty(i)&&this.widgets[i].id===t&&(this.widgets[i].x=e,this.widgets[i].y=n)},onWidgetResized:function(t,e,n){for(var i in this.widgets)this.widgets.hasOwnProperty(i)&&this.widgets[i].id===t&&(this.widgets[i].height=e,this.widgets[i].width=n)}}})?Fi.options:Fi)||{}).__file="Dashboard.vue",Ni.render||(Ni.render=Ii.render,Ni.staticRenderFns=Ii.staticRenderFns,Ni._compiled=!0,Oi&&(Ni.functional=!0)),Ni._scopeId=Mi,Ni),qi={name:"latte-view-login",props:{redirect:{default:"/admin",requireed:!1,typ:String}},data:function(){return{error:null,field:{email:"",password:""},isLoading:!1}},mounted:function(){var e=this;try{if(!("credentials"in navigator))return;navigator.credentials.get({mediation:"required",password:!0}).then(function(t){e.isLoading=!1,null!==t&&(e.field.email=t.id,e.field.password=t.password,e.submit())})}catch(t){console.error(t)}},methods:{onLoginError:function(t){console.error("ERROR",t),this.error={code:0,message:"Fatal system error, see devtools for more information.",type:"error"},this.isLoading=!1},onLoginResponse:function(t){var e=this;if(t.data&&t.data.login&&"ok"===t.data.login){if("credentials"in navigator){var n={id:this.field.email,password:this.field.password,name:t.data.user.name};return null!==t.data.user.photo&&(n.iconURL=t.data.user.photo.thumb_512),void navigator.credentials.create({password:n}).then(function(t){navigator.credentials.store(t).then(function(){return window.location=e.redirect}).catch(function(t){return console.error(t)})}).catch(function(t){console.error(t),window.location=e.redirect})}window.location=this.redirect}else this.error=t.error,this.isLoading=!1},submit:function(){var e=this;this.isLoading||(this.isLoading=!0,v("/api/latte/login",{body:JSON.stringify({email:this.field.email,password:this.field.password}),method:"POST"}).then(function(t){return t.json()}).then(function(t){return e.onLoginResponse(t)}).catch(function(t){return e.onLoginError(t)}))}}};var Ti,ji,zi,Hi,Vi,Bi=(Ti={},Hi=zi=void 0,(Vi=("function"==typeof(ji=qi)?ji.options:ji)||{}).__file="Login.vue",Vi.render||(Vi.render=Ti.render,Vi.staticRenderFns=Ti.staticRenderFns,Vi._compiled=!0,Hi&&(Vi.functional=!0)),Vi._scopeId=zi,Vi),Wi={};var Ui,Yi,Xi,Ki,Ji,Gi=(Xi=void 0,Ki=!(Ui={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-away",rawName:"v-click-away",value:t.closeByClickAway,expression:"closeByClickAway"}],ref:"dropdown",staticClass:"panel",class:t.dropdownClasses,style:t.dropdownStyle},[t.isLoading?n("div",{staticClass:"dropdown-content px-5 py-3"},[n("span",{staticClass:"spinner spinner-primary"})]):n("div",{staticClass:"dropdown-content profile-popover"},[n("div",{staticClass:"panel-header"},[n("img",{staticClass:"avatar mr-3",staticStyle:{"font-size":"36px"},attrs:{src:t.user.photo.thumb_128,alt:t.user.name}}),t._v(" "),n("span",{staticClass:"panel-title"},[t._v(t._s(t.user.name))])]),t._v(" "),n("nav",{staticClass:"nav nav-list"},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[n("i",{staticClass:"mdi mdi-phone"}),n("span",[t._v("Call "+t._s(t.user.firstname))])]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:"#"}},[n("i",{staticClass:"mdi mdi-email"}),n("span",[t._v("Email "+t._s(t.user.firstname))])]),t._v(" "),n("a",{staticClass:"nav-link",attrs:{href:t.profileUrl}},[n("i",{staticClass:"mdi mdi-account-card-details"}),n("span",[t._v("View profile")])])])])])},staticRenderFns:[]}),(Ji=("function"==typeof(Yi={name:"latte-profile-popover",data:function(){return{associatedElement:null,associatedElementPosition:{x:0,y:0},dropdownPosition:{x:0,y:0},isCloseByClickAwayAvailable:!1,isLoading:!0,isOpen:!1,user:null}},mounted:function(){var i=this;p("latte:profile:popover:open",function(t,e){var n=t.userId;return i.open(e,parseInt(n))})},computed:{dropdownClasses:function(){var t=this.associatedElementPosition.y>window.innerHeight/2?"above":"under",e=this.associatedElementPosition.x>window.innerWidth/2?"right":"left",n=["dropdown","dropdown-at-root","dropdown-".concat(e,"-").concat(t)];return!0===this.isOpen&&n.push("is-open"),n},dropdownStyle:function(){return{transform:"translate3d(".concat(this.dropdownPosition.x,"px, ").concat(this.dropdownPosition.y,"px, 0)"),width:"240px"}},dropdown:function(){return this.$refs.dropdown},profileUrl:function(){return null===this.user?"#":"/admin/user/".concat(this.user.id)}},methods:{calculatePosition:function(){var t=this.associatedElement.getBoundingClientRect(),e=this.dropdown.getBoundingClientRect(),n=this.associatedElementPosition.x>window.innerWidth/2?"right":"left",i=this.associatedElementPosition.y>window.innerHeight/2?"above":"under",a=t.left-t.width/2,r=t.top+t.height;"right"===n&&(a=t.left+t.width-(e.width-t.width/2)),"above"===i&&(r=t.top-e.height);var o=6,s=8+(this.isOpen?0:24);this.dropdownPosition.x=Math.round(a+("left"===n?-o:o)),this.dropdownPosition.y=Math.round(r+("under"===i?s:-s))},close:function(){this.isCloseByClickAwayAvailable=!1,this.isOpen=!1,this.calculatePosition()},closeByClickAway:function(){this.isCloseByClickAwayAvailable&&this.close()},open:function(t,e){var n=this,i=t.getBoundingClientRect(),a=i.x,r=i.y,o=i.width,s=i.height;this.associatedElement=t,this.associatedElementPosition={x:a+o/2,y:r+s/2},this.isCloseByClickAwayAvailable=!1,this.isLoading=!0,this.isOpen=!0,b(300,function(){return n.isCloseByClickAwayAvailable=!0}),this.calculatePosition(),e in Wi?this.onReceivedUser({data:Wi[e]}):v("/api/users/".concat(e)).then(function(t){return t.json()}).then(function(t){return n.onReceivedUser(t)}).catch(function(t){return handleError(t)})},onReceivedUser:function(t){var e=this;this.isLoading=!1,t.data&&t.data.id?(Wi[t.data.id]=this.user=t.data,this.$nextTick(function(){return e.calculatePosition()})):this.close()}}})?Yi.options:Yi)||{}).__file="ProfilePopover.vue",Ji.render||(Ji.render=Ui.render,Ji.staticRenderFns=Ui.staticRenderFns,Ji._compiled=!0,Ki&&(Ji.functional=!0)),Ji._scopeId=Xi,Ji);Vue.component("latte-view-dashboard",Ai),Vue.component("latte-view-login",Bi),Vue.component("latte-profile-popover",Gi);var Zi={name:"latte-widget",props:{customBody:{default:!1,required:!1,type:Boolean},widgetId:{type:Number,required:!0}},data:function(){return{i18n:{delete:"Delete",widgetDeleteConfirmationTitle:"Are you sure?",widgetDeleteConfirmationBody:"This widget will be deleted permanently!"}}},mounted:function(){this.i18n=E(this.i18n)},methods:{removeWidget:function(){var e=this;T(this.i18n.widgetDeleteConfirmationTitle,this.i18n.widgetDeleteConfirmationBody).then(function(t){t.button===N.OK&&e.$emit("remove",e.widgetId)})}}};var Qi,ta,ea,na,ia,aa=(ea=void 0,na=!(Qi={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"panel widget",class:{"is-custom-body":e.customBody},attrs:{tabindex:"0"}},[n("div",{staticClass:"panel-header"},[n("div",{staticClass:"widget-drag-handle grid-item-drag-handle"}),e._v(" "),e._t("custom_title"),e._v(" "),n("div",{staticClass:"ml-auto d-flex flex-row align-items-center"},[e._t("title"),e._v(" "),n("latte-button-dropdown",{attrs:{icon:"dots-vertical",small:!0,type:"list"}},[n("nav",{staticClass:"nav nav-list"},[e._t("widget_menu"),e._v(" "),n("a",{staticClass:"nav-link",on:{click:function(t){e.removeWidget()}}},[n("i",{staticClass:"mdi mdi-delete"}),e._v(" "),n("span",[e._v("Delete widget")])])],2)])],2)],2),e._v(" "),n("div",{staticClass:"panel-body"},[e._t("content")],2),e._v(" "),e._t("footer")],2)},staticRenderFns:[]}),(ia=("function"==typeof(ta=Zi)?ta.options:ta)||{}).__file="Widget.vue",ia.render||(ia.render=Qi.render,ia.staticRenderFns=Qi.staticRenderFns,ia._compiled=!0,na&&(ia.functional=!0)),ia._scopeId=ea,ia),ra={name:"latte-widget-today",props:{widgetId:{required:!0,type:Number}},data:function(){return{currentDate:"",currentDay:"",currentMonth:"",currentYear:"",currentTimeHours:"",currentTimeMinutes:"",currentTimeSeconds:"",currentWeekNumber:""}},mounted:function(){this.update()},methods:{onRemove:function(t){this.$emit("remove",t)},update:function(){var t=this,e=moment();this.currentDate=e.format("D"),this.currentDay=e.format("dddd"),this.currentMonth=e.format("MMMM"),this.currentYear=e.format("YYYY"),this.currentTimeHours=e.format("HH"),this.currentTimeMinutes=e.format("mm"),this.currentTimeSeconds=e.format("ss"),this.currentWeekNumber=e.week(),b(250,function(){return t.update()})}}};var oa,sa,la,ca,da,ua=(la=void 0,ca=!(oa={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("latte-widget",t._b({staticClass:"widget-today",attrs:{"custom-body":!0},on:{remove:t.onRemove}},"latte-widget",t.$props,!1),[n("div",{staticClass:"widget-today-datetime",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"date"},[n("span",{staticClass:"day text-capitalize"},[t._v(t._s(t.currentDay))]),t._v(" "),n("span",{staticClass:"date"},[t._v(t._s(t.currentDate))]),t._v(" "),n("span",{staticClass:"monthyear text-capitalize"},[t._v(t._s(t.currentMonth)+" "+t._s(t.currentYear)+"  Week "+t._s(t.currentWeekNumber))])]),t._v(" "),n("div",{staticClass:"time"},[n("span",{attrs:{id:"hours"}},[t._v(t._s(t.currentTimeHours))]),n("span",{staticClass:"dots"},[t._v(":")]),n("span",{attrs:{id:"minutes"}},[t._v(t._s(t.currentTimeMinutes))]),n("span",{attrs:{id:"seconds"}},[n("span",{staticClass:"dots"},[t._v(":")]),t._v(t._s(t.currentTimeSeconds))])])])])},staticRenderFns:[]}),(da=("function"==typeof(sa=ra)?sa.options:sa)||{}).__file="WidgetToday.vue",da.render||(da.render=oa.render,da.staticRenderFns=oa.staticRenderFns,da._compiled=!0,ca&&(da.functional=!0)),da._scopeId=la,da);Vue.component("latte-widget",aa),Vue.component("latte-widget-today",ua),moment.locale(window.LatteMomentLocale||"en"),Array.prototype.contains=function(t){return-1<this.indexOf(t)},window.Latte={actions:f,api:g,clipboard:C,cookie:S,core:u,dom:i,i18n:I,json:F,messages:j,notices:B,operators:O,overlays:G,panels:et,vue:Vue},window.addEventListener("DOMContentLoaded",function(){nt(),at(),t("div.notice").filter(function(t){return null!==t.querySelector("button.notice-dismiss")}).map(function(t){return t.querySelector("button.notice-dismiss")}).forEach(function(t){return t.addEventListener("click",function(){return t.parentNode.parentNode.removeChild(t.parentNode)})}),p("latte:notice",function(t){return z(decodeURIComponent(t.message),t.type||"info")}),t("div.panel > table").forEach(function(t){return e(t,"div.panel").classList.add("panel-table")}),t("div.panel.panel-toggleable").forEach(function(t){return Z(t)}),st()})}();
//# sourceMappingURL=latte.js.map
