{"version":3,"sources":["webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/_set-proto.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_collection-weak.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.regexp.match.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.map.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/core-js/object/create.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/core-js/object/set-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_collection.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_collection-strong.js","webpack:///./src/views/Tests.vue?c27f","webpack:///../block-editor/src/helper/array.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/setPrototypeOf.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/inherits.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classPrivateFieldSet.js","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/helpers/esm/classPrivateFieldGet.js","webpack:///../block-editor/src/helper/element.js","webpack:///../block-editor/src/block.js","webpack:///../block-editor/src/utils.js","webpack:///../block-editor/src/primitive/icon-button.js","webpack:///../block-editor/src/BEBlockActions.vue?4dbe","webpack:///../block-editor/src/lib/animejs.js","webpack:///../block-editor/src/helper/animation.js","webpack:///../block-editor/src/helper/selection.js","webpack:///../block-editor/src/helper/error.js","webpack:///../block-editor/src/create-element.js","webpack:///../block-editor/src/api.js","webpack:///../block-editor/src/BEBlockActions.vue","webpack:///../block-editor/src/BEBlockActions.vue?d6b6","webpack:///../block-editor/src/BEBlockActions.vue?126e","webpack:///../block-editor/src/BESettingsGroup.vue?d131","webpack:///../block-editor/src/BESettingsGroup.vue","webpack:///../block-editor/src/BESettingsGroup.vue?fa41","webpack:///../block-editor/src/BESettingsGroup.vue?dfc4","webpack:///../block-editor/src/primitive/settings.js","webpack:///../block-editor/src/primitive/element.js","webpack:///../block-editor/src/blocks/missing.js","webpack:///../block-editor/src/BEBlockMount.vue?2494","webpack:///../block-editor/src/BEBlocks.vue?319d","webpack:///../block-editor/src/BEInserterExpanded.vue?2618","webpack:///../block-editor/src/BEInserterPopup.vue?2ea7","webpack:///../block-editor/src/BEInserterPopup.vue","webpack:///../block-editor/src/BEInserterPopup.vue?3e39","webpack:///../block-editor/src/BEInserterPopup.vue?7123","webpack:///../block-editor/src/BEInserterExpanded.vue","webpack:///../block-editor/src/BEInserterExpanded.vue?205a","webpack:///../block-editor/src/BEInserterExpanded.vue?7995","webpack:///../block-editor/src/BEInserterMini.vue?cd80","webpack:///../block-editor/src/BEInserterMini.vue","webpack:///../block-editor/src/BEInserterMini.vue?24c9","webpack:///../block-editor/src/BEInserterMini.vue?a92a","webpack:///../block-editor/src/BEBlockMount.vue","webpack:///../block-editor/src/BEBlockMount.vue?aa84","webpack:///../block-editor/src/BEBlocks.vue","webpack:///../block-editor/src/BEBlocks.vue?e588","webpack:///../block-editor/src/blocks/root.js","webpack:///../block-editor/src/blocks/button.js","webpack:///../block-editor/src/blocks/columns.js","webpack:///../block-editor/src/helper/html-entities.js","webpack:///../block-editor/src/blocks/page-break.js","webpack:///../block-editor/src/blocks/wrapper.js","webpack:///../block-editor/src/primitive/text.js","webpack:///../block-editor/src/blocks/heading.js","webpack:///../block-editor/src/primitive/list.js","webpack:///../block-editor/src/blocks/ordered-list.js","webpack:///../block-editor/src/blocks/paragraph.js","webpack:///../block-editor/src/blocks/unordered-list.js","webpack:///../block-editor/src/blocks/youtube.js","webpack:///../block-editor/src/blocks/html.js","webpack:///../block-editor/src/registry.js","webpack:///../block-editor/src/BEEditor.vue?8804","webpack:///../block-editor/src/BEInserterList.vue?b0a6","webpack:///../block-editor/src/BEInserterList.vue","webpack:///../block-editor/src/BEInserterList.vue?d39a","webpack:///../block-editor/src/BEInserterList.vue?3d5e","webpack:///../block-editor/src/BESettingsPane.vue?e24e","webpack:///../block-editor/src/BESettingsPane.vue","webpack:///../block-editor/src/BESettingsPane.vue?3bda","webpack:///../block-editor/src/BESettingsPane.vue?b1e1","webpack:///../block-editor/src/BEToolbar.vue?2d72","webpack:///../block-editor/src/BEHierarchy.vue?3181","webpack:///../block-editor/src/BEHierarchyItem.vue?dba2","webpack:///../block-editor/src/BEHierarchyItem.vue","webpack:///../block-editor/src/BEHierarchyItem.vue?ab07","webpack:///../block-editor/src/BEHierarchyItem.vue?b4b7","webpack:///../block-editor/src/BEHierarchy.vue","webpack:///../block-editor/src/BEHierarchy.vue?dfa5","webpack:///../block-editor/src/BEHierarchy.vue?d843","webpack:///../block-editor/src/BEToolbar.vue","webpack:///../block-editor/src/BEToolbar.vue?7fe1","webpack:///../block-editor/src/BEToolbar.vue?680b","webpack:///../block-editor/src/BEEditor.vue","webpack:///../block-editor/src/BEEditor.vue?0e6b","webpack:///../block-editor/src/BEEditor.vue?a5e9","webpack:///../block-editor/src/index.js","webpack:///src/views/Tests.vue","webpack:///./src/views/Tests.vue?83e1","webpack:///./src/views/Tests.vue","webpack:///E:/Programming/latte-ui/node_modules/@babel/runtime-corejs2/core-js/object/get-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/es6.object.create.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.weak-map.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.array.fill.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/_validate-collection.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/fn/object/create.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/modules/es6.string.starts-with.js","webpack:///E:/Programming/latte-ui/node_modules/core-js/library/modules/es6.object.set-prototype-of.js"],"names":["isObject","__webpack_require__","anObject","check","O","proto","TypeError","module","exports","set","Object","setPrototypeOf","test","buggy","Function","call","f","prototype","Array","e","__proto__","undefined","redefineAll","getWeak","anInstance","forOf","createArrayMethod","$has","validate","arrayFind","arrayFindIndex","id","uncaughtFrozenStore","that","_l","UncaughtFrozenStore","this","a","findUncaughtFrozen","store","key","it","get","entry","has","value","push","delete","index","splice","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","_t","_i","data","def","ufstore","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","fn","RegExp","String","res","done","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","strong","MAP","arguments","length","getEntry","v","$export","redefine","meta","fails","$iterDetect","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","Base","fixMethod","KEY","b","forEach","entries","next","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","target","constructor","clear","NEED","G","W","F","setStrong","dP","create","ctx","$iterDefine","step","setSpecies","DESCRIPTORS","fastKey","SIZE","_f","k","r","p","i","prev","callbackfn","iterated","kind","_k","Testsvue_type_template_id_c5b569dc_render","_vm","_h","$createElement","_c","_self","testEditor","staticClass","staticStyle","height","scopedSlots","_u","ref","blockSettingsShown","_e","_v","attrs","title","padded","opened","model","callback","$$v","content","expression","_m","items","rows","item-height","item","style","_s","item-width","items-class","close-on-select","directives","name","rawName","staticRenderFns","first","arr","last","includes","haystack","needle","indexOf","entriesAreDifferent","base","other","range","from","to","fill","map","_","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","esm_typeof","getPrototypeOf_getPrototypeOf","o","set_prototype_of_default","get_prototype_of_default","_setPrototypeOf","_inherits","subClass","superClass","create_default","writable","configurable","_classPrivateFieldSet","receiver","privateMap","descriptor","_classPrivateFieldGet","getElementDimensions","elm","_elm$getBoundingClien","getBoundingClientRect","width","top","left","_window$getComputedSt","window","getComputedStyle","marginTop","marginLeft","marginRight","marginBottom","parseInt","offset","dimensions","margin","horizontal","vertical","right","bottom","outer","isInputOrTextarea","tagName","querySelector","parent","selector","querySelectorAll","defaultCategories","icon","defaultFocusOptions","placeAtEnd","select","selectAll","BlockBase","category","classCallCheck","_id","_category","_icon","createClass","_getElementDimensions","element","hgutters","vgutters","isInline","h","editorInstance","component","$parent","$options","getLatte","Latte","notNullOrUndefined","translate","text","_len","params","_key","i18n","L","IconButton","Vue","extend","props","disabled","default","type","Boolean","press","render","_this","class","domProps","on","click","evt","concat","IconToggleButton","can","pressed","beforeDestroy","tickSubscription","unsubscribe","created","_this2","action","canPress","isPressed","_this3","BEBlockActionsvue_type_template_id_5a023ae2_render","$event","stopPropagation","isFirst","rearrange","isLast","remove","BEBlockActionsvue_type_template_id_5a023ae2_staticRenderFns","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","applyArguments","func","args","apply","is","isArray","obj","toString","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","hex","rgb","hsl","col","parseEasingParameters","string","match","exec","split","parseFloat","spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","aA1","aA2","B","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","x","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","keys","easeIn","parseEasings","ease","selectString","nodes","document","filterArray","len","thisArg","flattenArray","reduce","toArray","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","g","hslToRgba","hslValue","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","total","getAttribute","el","prop","convertPxToUnit","unit","valueUnit","baseline","tempEl","createElement","parentEl","parentNode","body","appendChild","position","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","getTransformValue","defaultVal","list","getOriginalTargetValue","getRelativeValue","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","viewBoxAttr","viewBox","w","getPath","path","percent","property","getPathProgress","point","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","pos","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","setTargetsValue","animatables","animType","createAnimation","lastTween","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","raf","activeInstances","pausedInstances","engine","play","requestAnimationFrame","activeInstancesLength","activeInstance","paused","instanceIndex","tick","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","anime","running","startTime","lastTime","now","childrenLength","resolve","makePromise","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","reverse","restart","removeTargetsFromAnimations","removeTargets","c","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","add","instanceParams","tlIndex","insParams","tlDuration","addEventListener","version","convertPx","random","easeSwiftOut","swapBlocks","options","firstY","secondY","firstElement","scrollingContainer","secondElement","firstDim","secondDim","scrollingDim","targetScrollTop","scrollTop","translateY","then","removeProperty","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","atEdge","atEnd","onlyLines","selectionStart","selectionEnd","selection","getSelection","rangeCount","getRangeAt","cloneRange","isCollapsed","isForward","isForwardSelection","collapse","rangeRect","getRectFromRange","computedStyle","lineHeight","padding","buffer","elmRect","verticalEdge","isReverseDirection","testRange","hiddenCaretRangeFromPoint","side","testRect","caretPosition","currentNode","iterator","createNodeIterator","anchorOffset","focusOffset","_window$getSelection","anchorNode","focusNode","isBeyondStart","nextNode","caretRangeFromPoint","doc","caretPositionFromPoint","createRange","setStart","offsetNode","collapsed","_range","startContainer","nodeName","childNodes","setEnd","getClientRects","padNode","createTextNode","insertNode","zIndex","compareDocumentPosition","placeCaretAt","currentOffset","previousOffset","realOffset","removeAllRanges","addRange","placeCaretAtEdge","focus","isContentEditable","selectNodeContents","node","NodeFilter","SHOW_TEXT","acceptNode","FILTER_ACCEPT","handleComponentError","err","console","error","message","dir","tag","_el$classList","_el$classList2","classList","toConsumableArray","filter","trim","innerHTML","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","return","blockToFocus","blocksToUpdateChildren","blocksToUpdateEditor","isTransaction","BlockEntry","editor","_hash","_block","_editor","api_id","_depth","_index","_children","_options","_parent","_node","_isRemoving","_isSelected","_isSwapping","BlockRegistry","findById","canHaveGroups","depth","assign","defaultOptions","groupBlock","canHaveChildren","convertBlocks","$on","calculateHash","getRelative","context","isSelected","performance","d","$nextTick","util","shift","updateEditor","updateChildren","withElement","execCommand","Error","block","focusOptions","insertBlocks","spec","focusLast","blocks","setChildren","animate","nextTick","selfElement","closest","otherElement","focusSibbling","previousSibbling","nextSibbling","onEditorClick","updateIndices","renderEditor","onInput","$children","find","updateBlocks","dataUpdate","bubble","$forceUpdate","convertBlock","convertToBlocks","convertToData","root","renderChildren","BEBlockActionsvue_type_script_lang_js_","required","api_BlockEntry","src_BEBlockActionsvue_type_script_lang_js_","componentNormalizer","BEBlockActions","BESettingsGroupvue_type_template_id_142deeca_render","isOpen","mdi-chevron-down","hasBody","mdi-chevron-up","BESettingsGroupvue_type_template_id_142deeca_staticRenderFns","BESettingsGroupvue_type_script_lang_js_","filters","beTranslate","computed","$slots","watch","src_BESettingsGroupvue_type_script_lang_js_","BESettingsGroup_component","BESettingsGroup","blockActions","slot","optional","condition","defaultValue","rangeField","getValue","setValue","input","settingsGroup","settingsGroupWithDepth","textField","toggleButton","checked","commandIconToggleButton","executeAndFocus","command","queryCommandEnabled","queryCommandState","functionIconButton","onClick","functionIconToggleButton","button","classes","label","color","tooltip","divider","optionAdditionalClasses","setOptions","optionButtons","buttons","btn","objectSpread","optionTextColor","colorPalette","data-tooltip","optionTextSize","fontSize","!mouseup","dispatch","latte","_evt$target$getBoundi","BEBlockMount_render","BEBlockMount_staticRenderFns","BEBlocks_render","BEBlocks_staticRenderFns","MissingBlock","_BlockBase","BEInserterExpandedvue_type_template_id_28a92cd9_render","BEInserterExpandedvue_type_template_id_28a92cd9_staticRenderFns","BEInserterPopupvue_type_template_id_62cb1ee2_render","associate-with","assiciatedElement","margin-x","marginX","margin-y","marginY","close","onClose","open","onOpen","is-open","currentCategory","BEInserterPopupvue_type_template_id_62cb1ee2_staticRenderFns","BEInserterPopupvue_type_script_lang_js_","blocksCategorized","registry_CategoryRegistry","categories","registry_BlockRegistry","sort","localeCompare","associateWith","$refs","popup","src_BEInserterPopupvue_type_script_lang_js_","BEInserterPopup_component","BEInserterPopup","BEInserterExpandedvue_type_script_lang_js_","components","inserter","$el","$emit","src_BEInserterExpandedvue_type_script_lang_js_","BEInserterExpanded_component","BEInserterExpanded","BEInserterMinivue_type_template_id_59d7873e_render","BEInserterMinivue_type_template_id_59d7873e_staticRenderFns","BEInserterMinivue_type_script_lang_js_","src_BEInserterMinivue_type_script_lang_js_","BEInserterMini_component","BEInserterMini","BEBlockMountvue_type_script_lang_js_L","BEBlockMountvue_type_script_lang_js_","mounted","onUpdate","styles","renderInserter","renderOptions","renderOptionsSide","updated","--editor-rect-h","--editor-rect-w","_this$entry$block$cal","calculateSelectionBorder","shouldRender","mode","insertBlock","_this$entry","order","uniqueId","terminateEvent","element_icon","src_BEBlockMountvue_type_script_lang_js_","BEBlockMount_component","BEBlockMount","BEBlocksvue_type_script_lang_js_","renderBlocks","renderEmptyInserter","hash","src_BEBlocksvue_type_script_lang_js_","BEBlocks_component","BEBlocks","RootBlock","buttonSizes","buttonStyles","getButtonClasses","pillButton","size","join","ButtonBlock","rippleButton","url","href","as","contentEditable","blur","innerText","minWidth","presets","columns","preview","entryChildOrDefault","decoder","ColumnBlock","preset","ColumnsBlock","_BlockBase2","gutters","columnsLast","column","lastDimensions","flexGrow","PageBreakBlock","createComment","data-text","WrapperBlock","decodeEntities","implementation","createHTMLDocument","decoded","textContent","removeEmptyDivs","lastSelectionRange","allowAppend","defaultFormattingOptions","boldItalicUnderline","createLinks","textAlignment","textIdentation","canUpdate","ensureTextNode","Element","dummy","setBaseAndExtent","startOffset","endContainer","endOffset","saveLastSelection","current","getStyles","indent","textAlign","align","onBlur","inserterList","isRemoved","removeEmptyElements","startsWith","searchTerm","foundBlocks","keywords","keyword","blockId","onKeyDown","_entry$editor$selecti","handleKeyDown","shiftKey","kdHandleBackspaceWhenEmpty","kdHandleBackspaceWhenAtStart","kdHandleArrowDownAtEnd","kdHandleArrowUpAtStart","kdHandleEnterWhenNotShift","onPaste","textData","clipboardData","getData","preventDefault","contents","paragraph","paragrap","transaction","_ref","placeholder","data-placeholder","keydown","paste","renderTextFormatToolbar","formattingOptions","isRemoving","toolbar","beforePortalId","mousedown","br","sibbling","sibblingText","_caretPosition","offsetAdjustment","endsWith","combinedText","childElements","getElementsByTagName","newElement","html","headerTypes","HeadingBlock","firstItem","lastItem","textOnKeyDown","OrderedListBlock","ParagraphBlock","UnorderedListBlock","YouTubeEmbedBlock","videoId","src","HtmlBlock","code","toDOM","template","_classStaticPrivateFieldSpecGet","_blocks","defaultBlocks","DefaultBlocks","Block","register","_classStaticPrivateFieldSpecSet","showInInserter","CategoryRegistry","_categories","cat","BEEditorvue_type_template_id_7408aee1_render","spellcheck","!click","proxy","api","BEEditorvue_type_template_id_7408aee1_staticRenderFns","BEInserterListvue_type_template_id_33ad8ded_render","animate-transform","is-active","selectedIndex","max-width","BEInserterListvue_type_template_id_33ad8ded_staticRenderFns","BEInserterListvue_type_script_lang_js_","src_BEInserterListvue_type_script_lang_js_","BEInserterList_component","BEInserterList","BESettingsPanevue_type_template_id_1d934cfd_render","portalHasPassengers","multiple","BESettingsPanevue_type_template_id_1d934cfd_staticRenderFns","BESettingsPanevue_type_script_lang_js_","isInitialized","portal","passengers","src_BESettingsPanevue_type_script_lang_js_","BESettingsPane_component","BESettingsPane","BEToolbarvue_type_template_id_542dbdb4_render","onInserterClick","notImplemented","afterPortalId","BEToolbarvue_type_template_id_542dbdb4_staticRenderFns","BEHierarchyvue_type_template_id_86563558_render","deleteEverything","BEHierarchyvue_type_template_id_86563558_staticRenderFns","BEHierarchyItemvue_type_template_id_78c8913d_render","data-close","BEHierarchyItemvue_type_template_id_78c8913d_staticRenderFns","BEHierarchyItemvue_type_script_lang_js_","src_BEHierarchyItemvue_type_script_lang_js_","BEHierarchyItem_component","BEHierarchyItem","BEHierarchyvue_type_script_lang_js_","destroyed","$off","updateEntry","src_BEHierarchyvue_type_script_lang_js_","BEHierarchy_component","BEHierarchy","BEToolbarvue_type_script_lang_js_L","BEToolbarvue_type_script_lang_js_","ui","alert","src_BEToolbarvue_type_script_lang_js_","BEToolbar_component","BEToolbar","BEEditorvue_type_script_lang_js_L","defaultColorPalette","testBlocks","BEEditorvue_type_script_lang_js_","removeEventListener","onSelectionChanged","lastUpdate","Date","updateCount","passive","onValueChanged","anchorElement","src_BEEditorvue_type_script_lang_js_","BEEditor_component","BEEditor","registerDefaults","Testsvue_type_script_lang_js_","PageHeader","acTwo","acTree","setProperty","views_Testsvue_type_script_lang_js_","Tests_component","__webpack_exports__","InternalMap","each","weak","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","WEAK_MAP","isExtensible","$WeakMap","method","getPrototypeOf","toObject","$getPrototypeOf","P","init","byteOffset","TYPE","$Object","D","STARTS_WITH","$startsWith","searchString","search"],"mappings":"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","file":"assets/js/chunk-7b4ca909.b6c53cef.js","sourcesContent":["// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.testEditor)?_c('div',{staticClass:\"page mb-3\",attrs:{\"id\":\"tests\"}},[_c('PageHeader',[_c('h1',[_vm._v(\"Random tests\")]),_c('p',[_vm._v(\"These are some development tests.\")])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[(true)?_c('div',{staticClass:\"panel\"},[_vm._m(0),_c('latte-virtual-scroller',{staticStyle:{\"height\":\"390px\"},attrs:{\"items\":_vm.rows,\"item-height\":48},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar style = ref.style;\nreturn [_c('div',{staticClass:\"d-flex align-items-center justify-content-center bg-dark text-white border\",style:(style)},[_vm._v(\"Item \"+_vm._s(item.id))])]}}],null,false,3884868535)})],1):_vm._e(),(true)?_c('div',{staticClass:\"panel\"},[_vm._m(1),_c('latte-virtual-scroller',{staticStyle:{\"height\":\"390px\"},attrs:{\"items\":_vm.rows,\"item-height\":48,\"item-width\":222,\"items-class\":\"d-flex flex-row flex-wrap\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nvar style = ref.style;\nreturn [_c('div',{staticClass:\"d-flex align-items-center justify-content-center bg-dark text-white border\",style:(style)},[_vm._v(\"Item \"+_vm._s(item.id))])]}}],null,false,3884868535)})],1):_vm._e(),(true)?_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(\"Emoji stuff\")]),_c('div',{staticClass:\"ml-auto\"}),_c('latte-emoji-picker'),_c('latte-emoji-picker',{attrs:{\"close-on-select\":\"\"}})],1),_c('div',{staticClass:\"panel-body\"},[_c('p',{directives:[{name:\"emojify\",rawName:\"v-emojify\"}]},[_vm._v(_vm._s(\"Emoji's are now replaced in latte-ui \"))]),_c('p',{directives:[{name:\"emojify\",rawName:\"v-emojify\"}]},[_vm._v(_vm._s(\"\"))])])]):_vm._e()])])])],1):_c('div',{staticClass:\"panel radius-none\",staticStyle:{\"height\":\"calc(100vh - 60px)\"}},[_c('BEEditor',{scopedSlots:_vm._u([{key:\"settings-pane-after\",fn:function(ref){\nvar blockSettingsShown = ref.blockSettingsShown;\nreturn [(!blockSettingsShown)?[_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(\"Page settings\")])]),_c('BESettingsGroup',{attrs:{\"title\":\"General\",\"padded\":true}},[_vm._v(\"\\n\\t\\t\\t\\t\\tThis panel was added with a slot.\\n\\t\\t\\t\\t\")]),_c('BESettingsGroup',{attrs:{\"title\":\"View\",\"opened\":false,\"padded\":true}},[_vm._v(\"\\n\\t\\t\\t\\t\\tThis panel was also added with a slot.\\n\\t\\t\\t\\t\")])]:_vm._e()]}}]),model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(\"Virtual scroller\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(\"Virtual scroller (grid)\")])])}]\n\nexport { render, staticRenderFns }","export function first(arr)\r\n{\r\n\treturn arr[0];\r\n}\r\n\r\nexport function last(arr)\r\n{\r\n\treturn arr[arr.length - 1];\r\n}\r\n\r\nexport function includes(haystack, needle)\r\n{\r\n\treturn haystack.indexOf(needle) > -1;\r\n}\r\n\r\nexport function entriesAreDifferent(base, other)\r\n{\r\n\tfor (let k in other)\r\n\t\tif (other[k] !== base[k])\r\n\t\t\treturn true;\r\n\r\n\treturn false;\r\n}\r\n\r\nexport function range(from, to, fn = undefined)\r\n{\r\n\treturn Array(to - from)\r\n\t\t.fill(undefined)\r\n\t\t.map((_, index) => index + from)\r\n\t\t.map(fn);\r\n}\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _Object$getPrototypeOf from \"../../core-js/object/get-prototype-of\";\nimport _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _getPrototypeOf(o) {\n  _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _Object$create from \"../../core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  var descriptor = privateMap.get(receiver);\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}","export default function _classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  var descriptor = privateMap.get(receiver);\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}","import { includes } from \"./array\";\r\n\r\nexport function oneOrAnother(condition, fn1, fn2)\r\n{\r\n\treturn condition ? fn1() : fn2();\r\n}\r\n\r\nexport function getElementDimensions(elm)\r\n{\r\n\tconst {height, width, top, left} = elm.getBoundingClientRect();\r\n\tlet {marginTop, marginLeft, marginRight, marginBottom} = window.getComputedStyle(elm);\r\n\r\n\tmarginTop = parseInt(marginTop);\r\n\tmarginLeft = parseInt(marginLeft);\r\n\tmarginRight = parseInt(marginRight);\r\n\tmarginBottom = parseInt(marginBottom);\r\n\r\n\treturn {\r\n\t\toffset: {top, left},\r\n\t\tdimensions: {height, width},\r\n\t\tmargin: {\r\n\t\t\thorizontal: marginLeft + marginRight,\r\n\t\t\tvertical: marginTop + marginBottom,\r\n\t\t\ttop: marginTop,\r\n\t\t\tleft: marginLeft,\r\n\t\t\tright: marginRight,\r\n\t\t\tbottom: marginBottom\r\n\t\t},\r\n\t\touter: {\r\n\t\t\theight: height + marginTop + marginBottom,\r\n\t\t\twidth: width + marginLeft + marginRight\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function isInputOrTextarea(elm)\r\n{\r\n\treturn includes([\"INPUT\", \"TEXTAREA\"], elm.tagName)\r\n}\r\n\r\nexport function querySelector(parent, selector)\r\n{\r\n\treturn parent.querySelector(selector);\r\n}\r\n\r\nexport function querySelectorAll(parent, selector)\r\n{\r\n\treturn Array.from(parent.querySelectorAll(selector));\r\n}\r\n","import { getElementDimensions } from \"./helper/element\";\r\n\r\nexport const defaultCategories = [\r\n\t{id: \"layout\", icon: \"layers\", name: \"Layout\"},\r\n\t{id: \"text\", icon: \"format-text\", name: \"Text\"},\r\n\t{id: \"embeds\", icon: \"code-tags\", name: \"Embeds\"},\r\n\t{id: \"other\", icon: \"package-variant\", name: \"Other\"}\r\n];\r\n\r\nexport const defaultFocusOptions = {\r\n\tplaceAtEnd: true,\r\n\tselect: true,\r\n\tselectAll: false\r\n};\r\n\r\nexport class BlockBase\r\n{\r\n\r\n\t#id;\r\n\t#category;\r\n\t#icon;\r\n\r\n\tget id()\r\n\t{\r\n\t\treturn this.#id;\r\n\t}\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget canHaveGroups()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget category()\r\n\t{\r\n\t\treturn this.#category;\r\n\t}\r\n\r\n\tget icon()\r\n\t{\r\n\t\treturn this.#icon;\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [this.id];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn this.#id;\r\n\t}\r\n\r\n\tconstructor(id, category, icon)\r\n\t{\r\n\t\tthis.#id = id;\r\n\t\tthis.#category = category;\r\n\t\tthis.#icon = icon;\r\n\t}\r\n\r\n\tcalculateSelectionBorder(entry)\r\n\t{\r\n\t\tconst {dimensions, margin} = getElementDimensions(entry.element);\r\n\r\n\t\tlet hgutters = margin.horizontal;\r\n\t\tlet vgutters = this.isInline ? 0 : margin.vertical;\r\n\r\n\t\treturn {\r\n\t\t\theight: dimensions.height + vgutters,\r\n\t\t\twidth: dimensions.width + hgutters\r\n\t\t};\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn undefined;\r\n\t}\r\n\r\n}\r\n","import { Latte } from \"@bybas/latte-ui\";\r\n\r\nexport function editorInstance(component)\r\n{\r\n\twhile ((component = component.$parent) !== undefined)\r\n\t\tif (component.$options.name === \"BEEditor\")\r\n\t\t\treturn component;\r\n\r\n\treturn undefined;\r\n}\r\n\r\nexport function getLatte()\r\n{\r\n\treturn Latte;\r\n}\r\n\r\nexport function notNullOrUndefined(p)\r\n{\r\n\treturn p !== undefined && p !== null;\r\n}\r\n\r\nexport function replaceIndex(arr, index, obj)\r\n{\r\n\tarr.splice(index, 1, obj);\r\n\r\n\treturn arr;\r\n}\r\n\r\nexport function translate(text, ...params)\r\n{\r\n\treturn Latte.i18n.translate(\"block-editor\", text, params);\r\n}\r\n","import Vue from \"vue\";\r\nimport { getLatte } from \"../utils\";\r\n\r\nconst L = getLatte();\r\n\r\nexport const IconButton = Vue.extend({\r\n\r\n\tname: \"IconToggleButton\",\r\n\r\n\tprops: {\r\n\t\tdisabled: {default: false, type: Boolean},\r\n\t\ticon: {type: String},\r\n\t\tpress: {type: Function}\r\n\t},\r\n\r\n\trender(h)\r\n\t{\r\n\t\treturn h(\r\n\t\t\t\"button\",\r\n\t\t\t{\r\n\t\t\t\tclass: `btn btn-icon btn-text btn-dark`,\r\n\t\t\t\tdomProps: {disabled: this.disabled},\r\n\t\t\t\ton: {click: evt => this.press(evt)}\r\n\t\t\t},\r\n\t\t\t[\r\n\t\t\t\th(\"i\", {class: `mdi mdi-${this.icon}`})\r\n\t\t\t]\r\n\t\t);\r\n\t}\r\n\r\n});\r\n\r\nexport const IconToggleButton = Vue.extend({\r\n\r\n\tname: \"IconToggleButton\",\r\n\r\n\tprops: {\r\n\t\ticon: {type: String},\r\n\t\tcan: {type: Function},\r\n\t\tpress: {type: Function},\r\n\t\tpressed: {type: Function}\r\n\t},\r\n\r\n\tbeforeDestroy()\r\n\t{\r\n\t\tthis.tickSubscription.unsubscribe();\r\n\t},\r\n\r\n\tcreated()\r\n\t{\r\n\t\tthis.tickSubscription = L.action.on(\"latte:tick\", () =>\r\n\t\t{\r\n\t\t\tthis.canPress = this.can();\r\n\t\t\tthis.isPressed = this.pressed();\r\n\t\t});\r\n\t},\r\n\r\n\tdata()\r\n\t{\r\n\t\treturn {\r\n\t\t\tcanPress: this.can(),\r\n\t\t\tisPressed: this.pressed(),\r\n\t\t\ttickSubscription: undefined\r\n\t\t};\r\n\t},\r\n\r\n\trender(h)\r\n\t{\r\n\t\treturn h(\r\n\t\t\t\"button\",\r\n\t\t\t{\r\n\t\t\t\tclass: `btn btn-icon ${this.isPressed ? \"btn-soft btn-primary\" : \"btn-text btn-dark\"}`,\r\n\t\t\t\tdomProps: {disabled: !this.canPress},\r\n\t\t\t\ton: {click: evt => this.press(evt)}\r\n\t\t\t},\r\n\t\t\t[\r\n\t\t\t\th(\"i\", {class: `mdi mdi-${this.icon}`})\r\n\t\t\t]\r\n\t\t);\r\n\t}\r\n\r\n});\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-block-actions\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isFirst},on:{\"click\":function($event){return _vm.entry.rearrange(-1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-up\"})]),_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isLast},on:{\"click\":function($event){return _vm.entry.rearrange(1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-down\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",on:{\"click\":function($event){return _vm.entry.remove()}}},[_c('i',{staticClass:\"mdi mdi-delete\"})]),_c('div',{staticClass:\"divider divider-vertical\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n * anime.js v3.1.0\r\n * (c) 2019 Julian Garnier\r\n * Released under the MIT license\r\n * animejs.com\r\n */\r\n\r\n// Defaults\r\n\r\nvar defaultInstanceSettings = {\r\n\tupdate: null,\r\n\tbegin: null,\r\n\tloopBegin: null,\r\n\tchangeBegin: null,\r\n\tchange: null,\r\n\tchangeComplete: null,\r\n\tloopComplete: null,\r\n\tcomplete: null,\r\n\tloop: 1,\r\n\tdirection: 'normal',\r\n\tautoplay: true,\r\n\ttimelineOffset: 0\r\n};\r\n\r\nvar defaultTweenSettings = {\r\n\tduration: 1000,\r\n\tdelay: 0,\r\n\tendDelay: 0,\r\n\teasing: 'easeOutElastic(1, .5)',\r\n\tround: 0\r\n};\r\n\r\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\r\n\r\n// Caching\r\n\r\nvar cache = {\r\n\tCSS: {},\r\n\tsprings: {}\r\n};\r\n\r\n// Utils\r\n\r\nfunction minMax(val, min, max)\r\n{\r\n\treturn Math.min(Math.max(val, min), max);\r\n}\r\n\r\nfunction stringContains(str, text)\r\n{\r\n\treturn str.indexOf(text) > -1;\r\n}\r\n\r\nfunction applyArguments(func, args)\r\n{\r\n\treturn func.apply(null, args);\r\n}\r\n\r\nvar is = {\r\n\tarr: function (a)\r\n\t{\r\n\t\treturn Array.isArray(a);\r\n\t},\r\n\tobj: function (a)\r\n\t{\r\n\t\treturn stringContains(Object.prototype.toString.call(a), 'Object');\r\n\t},\r\n\tpth: function (a)\r\n\t{\r\n\t\treturn is.obj(a) && a.hasOwnProperty('totalLength');\r\n\t},\r\n\tsvg: function (a)\r\n\t{\r\n\t\treturn a instanceof SVGElement;\r\n\t},\r\n\tinp: function (a)\r\n\t{\r\n\t\treturn a instanceof HTMLInputElement;\r\n\t},\r\n\tdom: function (a)\r\n\t{\r\n\t\treturn a.nodeType || is.svg(a);\r\n\t},\r\n\tstr: function (a)\r\n\t{\r\n\t\treturn typeof a === 'string';\r\n\t},\r\n\tfnc: function (a)\r\n\t{\r\n\t\treturn typeof a === 'function';\r\n\t},\r\n\tund: function (a)\r\n\t{\r\n\t\treturn typeof a === 'undefined';\r\n\t},\r\n\thex: function (a)\r\n\t{\r\n\t\treturn /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);\r\n\t},\r\n\trgb: function (a)\r\n\t{\r\n\t\treturn /^rgb/.test(a);\r\n\t},\r\n\thsl: function (a)\r\n\t{\r\n\t\treturn /^hsl/.test(a);\r\n\t},\r\n\tcol: function (a)\r\n\t{\r\n\t\treturn (is.hex(a) || is.rgb(a) || is.hsl(a));\r\n\t},\r\n\tkey: function (a)\r\n\t{\r\n\t\treturn !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes';\r\n\t}\r\n};\r\n\r\n// Easings\r\n\r\nfunction parseEasingParameters(string)\r\n{\r\n\tvar match = /\\(([^)]+)\\)/.exec(string);\r\n\treturn match ? match[1].split(',').map(function (p)\r\n\t{\r\n\t\treturn parseFloat(p);\r\n\t}) : [];\r\n}\r\n\r\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\r\n\r\nfunction spring(string, duration)\r\n{\r\n\r\n\tvar params = parseEasingParameters(string);\r\n\tvar mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\r\n\tvar stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\r\n\tvar damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\r\n\tvar velocity = minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\r\n\tvar w0 = Math.sqrt(stiffness / mass);\r\n\tvar zeta = damping / (2 * Math.sqrt(stiffness * mass));\r\n\tvar wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\r\n\tvar a = 1;\r\n\tvar b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\r\n\r\n\tfunction solver(t)\r\n\t{\r\n\t\tvar progress = duration ? (duration * t) / 1000 : t;\r\n\t\tif (zeta < 1)\r\n\t\t{\r\n\t\t\tprogress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tprogress = (a + b * progress) * Math.exp(-progress * w0);\r\n\t\t}\r\n\t\tif (t === 0 || t === 1)\r\n\t\t{\r\n\t\t\treturn t;\r\n\t\t}\r\n\t\treturn 1 - progress;\r\n\t}\r\n\r\n\tfunction getDuration()\r\n\t{\r\n\t\tvar cached = cache.springs[string];\r\n\t\tif (cached)\r\n\t\t{\r\n\t\t\treturn cached;\r\n\t\t}\r\n\t\tvar frame = 1 / 6;\r\n\t\tvar elapsed = 0;\r\n\t\tvar rest = 0;\r\n\t\twhile (true)\r\n\t\t{\r\n\t\t\telapsed += frame;\r\n\t\t\tif (solver(elapsed) === 1)\r\n\t\t\t{\r\n\t\t\t\trest++;\r\n\t\t\t\tif (rest >= 16)\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\trest = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar duration = elapsed * frame * 1000;\r\n\t\tcache.springs[string] = duration;\r\n\t\treturn duration;\r\n\t}\r\n\r\n\treturn duration ? solver : getDuration;\r\n\r\n}\r\n\r\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\r\n\r\nfunction steps(steps)\r\n{\r\n\tif (steps === void 0) steps = 10;\r\n\r\n\treturn function (t)\r\n\t{\r\n\t\treturn Math.round(t * steps) * (1 / steps);\r\n\t};\r\n}\r\n\r\n// BezierEasing https://github.com/gre/bezier-easing\r\n\r\nvar bezier = (function ()\r\n{\r\n\r\n\tvar kSplineTableSize = 11;\r\n\tvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n\tfunction A(aA1, aA2)\r\n\t{\r\n\t\treturn 1.0 - 3.0 * aA2 + 3.0 * aA1\r\n\t}\r\n\r\n\tfunction B(aA1, aA2)\r\n\t{\r\n\t\treturn 3.0 * aA2 - 6.0 * aA1\r\n\t}\r\n\r\n\tfunction C(aA1)\r\n\t{\r\n\t\treturn 3.0 * aA1\r\n\t}\r\n\r\n\tfunction calcBezier(aT, aA1, aA2)\r\n\t{\r\n\t\treturn ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT\r\n\t}\r\n\r\n\tfunction getSlope(aT, aA1, aA2)\r\n\t{\r\n\t\treturn 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1)\r\n\t}\r\n\r\n\tfunction binarySubdivide(aX, aA, aB, mX1, mX2)\r\n\t{\r\n\t\tvar currentX, currentT, i = 0;\r\n\t\tdo\r\n\t\t{\r\n\t\t\tcurrentT = aA + (aB - aA) / 2.0;\r\n\t\t\tcurrentX = calcBezier(currentT, mX1, mX2) - aX;\r\n\t\t\tif (currentX > 0.0)\r\n\t\t\t{\r\n\t\t\t\taB = currentT;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\taA = currentT;\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile (Math.abs(currentX) > 0.0000001 && ++i < 10);\r\n\t\treturn currentT;\r\n\t}\r\n\r\n\tfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2)\r\n\t{\r\n\t\tfor (var i = 0; i < 4; ++i)\r\n\t\t{\r\n\t\t\tvar currentSlope = getSlope(aGuessT, mX1, mX2);\r\n\t\t\tif (currentSlope === 0.0)\r\n\t\t\t{\r\n\t\t\t\treturn aGuessT;\r\n\t\t\t}\r\n\t\t\tvar currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n\t\t\taGuessT -= currentX / currentSlope;\r\n\t\t}\r\n\t\treturn aGuessT;\r\n\t}\r\n\r\n\tfunction bezier(mX1, mY1, mX2, mY2)\r\n\t{\r\n\r\n\t\tif (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1))\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar sampleValues = new Float32Array(kSplineTableSize);\r\n\r\n\t\tif (mX1 !== mY1 || mX2 !== mY2)\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < kSplineTableSize; ++i)\r\n\t\t\t{\r\n\t\t\t\tsampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction getTForX(aX)\r\n\t\t{\r\n\r\n\t\t\tvar intervalStart = 0;\r\n\t\t\tvar currentSample = 1;\r\n\t\t\tvar lastSample = kSplineTableSize - 1;\r\n\r\n\t\t\tfor (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample)\r\n\t\t\t{\r\n\t\t\t\tintervalStart += kSampleStepSize;\r\n\t\t\t}\r\n\r\n\t\t\t--currentSample;\r\n\r\n\t\t\tvar dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\r\n\t\t\tvar guessForT = intervalStart + dist * kSampleStepSize;\r\n\t\t\tvar initialSlope = getSlope(guessForT, mX1, mX2);\r\n\r\n\t\t\tif (initialSlope >= 0.001)\r\n\t\t\t{\r\n\t\t\t\treturn newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n\t\t\t}\r\n\t\t\telse if (initialSlope === 0.0)\r\n\t\t\t{\r\n\t\t\t\treturn guessForT;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn function (x)\r\n\t\t{\r\n\t\t\tif (mX1 === mY1 && mX2 === mY2)\r\n\t\t\t{\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\tif (x === 0 || x === 1)\r\n\t\t\t{\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\treturn calcBezier(getTForX(x), mY1, mY2);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn bezier;\r\n\r\n})();\r\n\r\nvar penner = (function ()\r\n{\r\n\r\n\t// Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\r\n\r\n\tvar eases = {\r\n\t\tlinear: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn t;\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tvar functionEasings = {\r\n\t\tSine: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn 1 - Math.cos(t * Math.PI / 2);\r\n\t\t\t};\r\n\t\t},\r\n\t\tCirc: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn 1 - Math.sqrt(1 - t * t);\r\n\t\t\t};\r\n\t\t},\r\n\t\tBack: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn t * t * (3 * t - 2);\r\n\t\t\t};\r\n\t\t},\r\n\t\tBounce: function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\tvar pow2, b = 4;\r\n\t\t\t\twhile (t < ((pow2 = Math.pow(2, --b)) - 1) / 11)\r\n\t\t\t\t{\r\n\t\t\t\t}\r\n\t\t\t\treturn 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - t, 2)\r\n\t\t\t};\r\n\t\t},\r\n\t\tElastic: function (amplitude, period)\r\n\t\t{\r\n\t\t\tif (amplitude === void 0) amplitude = 1;\r\n\t\t\tif (period === void 0) period = .5;\r\n\r\n\t\t\tvar a = minMax(amplitude, 1, 10);\r\n\t\t\tvar p = minMax(period, .1, 2);\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn (t === 0 || t === 1) ? t :\r\n\t\t\t\t\t-a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\r\n\r\n\tbaseEasings.forEach(function (name, i)\r\n\t{\r\n\t\tfunctionEasings[name] = function ()\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn Math.pow(t, i + 2);\r\n\t\t\t};\r\n\t\t};\r\n\t});\r\n\r\n\tObject.keys(functionEasings).forEach(function (name)\r\n\t{\r\n\t\tvar easeIn = functionEasings[name];\r\n\t\teases['easeIn' + name] = easeIn;\r\n\t\teases['easeOut' + name] = function (a, b)\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn 1 - easeIn(a, b)(1 - t);\r\n\t\t\t};\r\n\t\t};\r\n\t\teases['easeInOut' + name] = function (a, b)\r\n\t\t{\r\n\t\t\treturn function (t)\r\n\t\t\t{\r\n\t\t\t\treturn t < 0.5 ? easeIn(a, b)(t * 2) / 2 :\r\n\t\t\t\t\t1 - easeIn(a, b)(t * -2 + 2) / 2;\r\n\t\t\t};\r\n\t\t};\r\n\t});\r\n\r\n\treturn eases;\r\n\r\n})();\r\n\r\nfunction parseEasings(easing, duration)\r\n{\r\n\tif (is.fnc(easing))\r\n\t{\r\n\t\treturn easing;\r\n\t}\r\n\tvar name = easing.split('(')[0];\r\n\tvar ease = penner[name];\r\n\tvar args = parseEasingParameters(easing);\r\n\tswitch (name)\r\n\t{\r\n\t\tcase 'spring' :\r\n\t\t\treturn spring(easing, duration);\r\n\t\tcase 'cubicBezier' :\r\n\t\t\treturn applyArguments(bezier, args);\r\n\t\tcase 'steps' :\r\n\t\t\treturn applyArguments(steps, args);\r\n\t\tdefault :\r\n\t\t\treturn applyArguments(ease, args);\r\n\t}\r\n}\r\n\r\n// Strings\r\n\r\nfunction selectString(str)\r\n{\r\n\ttry\r\n\t{\r\n\t\tvar nodes = document.querySelectorAll(str);\r\n\t\treturn nodes;\r\n\t}\r\n\tcatch (e)\r\n\t{\r\n\t\treturn;\r\n\t}\r\n}\r\n\r\n// Arrays\r\n\r\nfunction filterArray(arr, callback)\r\n{\r\n\tvar len = arr.length;\r\n\tvar thisArg = arguments.length >= 2 ? arguments[1] : void 0;\r\n\tvar result = [];\r\n\tfor (var i = 0; i < len; i++)\r\n\t{\r\n\t\tif (i in arr)\r\n\t\t{\r\n\t\t\tvar val = arr[i];\r\n\t\t\tif (callback.call(thisArg, val, i, arr))\r\n\t\t\t{\r\n\t\t\t\tresult.push(val);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nfunction flattenArray(arr)\r\n{\r\n\treturn arr.reduce(function (a, b)\r\n\t{\r\n\t\treturn a.concat(is.arr(b) ? flattenArray(b) : b);\r\n\t}, []);\r\n}\r\n\r\nfunction toArray(o)\r\n{\r\n\tif (is.arr(o))\r\n\t{\r\n\t\treturn o;\r\n\t}\r\n\tif (is.str(o))\r\n\t{\r\n\t\to = selectString(o) || o;\r\n\t}\r\n\tif (o instanceof NodeList || o instanceof HTMLCollection)\r\n\t{\r\n\t\treturn [].slice.call(o);\r\n\t}\r\n\treturn [o];\r\n}\r\n\r\nfunction arrayContains(arr, val)\r\n{\r\n\treturn arr.some(function (a)\r\n\t{\r\n\t\treturn a === val;\r\n\t});\r\n}\r\n\r\n// Objects\r\n\r\nfunction cloneObject(o)\r\n{\r\n\tvar clone = {};\r\n\tfor (var p in o)\r\n\t{\r\n\t\tclone[p] = o[p];\r\n\t}\r\n\treturn clone;\r\n}\r\n\r\nfunction replaceObjectProps(o1, o2)\r\n{\r\n\tvar o = cloneObject(o1);\r\n\tfor (var p in o1)\r\n\t{\r\n\t\to[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p];\r\n\t}\r\n\treturn o;\r\n}\r\n\r\nfunction mergeObjects(o1, o2)\r\n{\r\n\tvar o = cloneObject(o1);\r\n\tfor (var p in o2)\r\n\t{\r\n\t\to[p] = is.und(o1[p]) ? o2[p] : o1[p];\r\n\t}\r\n\treturn o;\r\n}\r\n\r\n// Colors\r\n\r\nfunction rgbToRgba(rgbValue)\r\n{\r\n\tvar rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\r\n\treturn rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\r\n}\r\n\r\nfunction hexToRgba(hexValue)\r\n{\r\n\tvar rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n\tvar hex = hexValue.replace(rgx, function (m, r, g, b)\r\n\t{\r\n\t\treturn r + r + g + g + b + b;\r\n\t});\r\n\tvar rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\tvar r = parseInt(rgb[1], 16);\r\n\tvar g = parseInt(rgb[2], 16);\r\n\tvar b = parseInt(rgb[3], 16);\r\n\treturn (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\r\n}\r\n\r\nfunction hslToRgba(hslValue)\r\n{\r\n\tvar hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\r\n\tvar h = parseInt(hsl[1], 10) / 360;\r\n\tvar s = parseInt(hsl[2], 10) / 100;\r\n\tvar l = parseInt(hsl[3], 10) / 100;\r\n\tvar a = hsl[4] || 1;\r\n\r\n\tfunction hue2rgb(p, q, t)\r\n\t{\r\n\t\tif (t < 0)\r\n\t\t{\r\n\t\t\tt += 1;\r\n\t\t}\r\n\t\tif (t > 1)\r\n\t\t{\r\n\t\t\tt -= 1;\r\n\t\t}\r\n\t\tif (t < 1 / 6)\r\n\t\t{\r\n\t\t\treturn p + (q - p) * 6 * t;\r\n\t\t}\r\n\t\tif (t < 1 / 2)\r\n\t\t{\r\n\t\t\treturn q;\r\n\t\t}\r\n\t\tif (t < 2 / 3)\r\n\t\t{\r\n\t\t\treturn p + (q - p) * (2 / 3 - t) * 6;\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n\r\n\tvar r, g, b;\r\n\tif (s == 0)\r\n\t{\r\n\t\tr = g = b = l;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n\t\tvar p = 2 * l - q;\r\n\t\tr = hue2rgb(p, q, h + 1 / 3);\r\n\t\tg = hue2rgb(p, q, h);\r\n\t\tb = hue2rgb(p, q, h - 1 / 3);\r\n\t}\r\n\treturn (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\r\n}\r\n\r\nfunction colorToRgb(val)\r\n{\r\n\tif (is.rgb(val))\r\n\t{\r\n\t\treturn rgbToRgba(val);\r\n\t}\r\n\tif (is.hex(val))\r\n\t{\r\n\t\treturn hexToRgba(val);\r\n\t}\r\n\tif (is.hsl(val))\r\n\t{\r\n\t\treturn hslToRgba(val);\r\n\t}\r\n}\r\n\r\n// Units\r\n\r\nfunction getUnit(val)\r\n{\r\n\tvar split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\r\n\tif (split)\r\n\t{\r\n\t\treturn split[1];\r\n\t}\r\n}\r\n\r\nfunction getTransformUnit(propName)\r\n{\r\n\tif (stringContains(propName, 'translate') || propName === 'perspective')\r\n\t{\r\n\t\treturn 'px';\r\n\t}\r\n\tif (stringContains(propName, 'rotate') || stringContains(propName, 'skew'))\r\n\t{\r\n\t\treturn 'deg';\r\n\t}\r\n}\r\n\r\n// Values\r\n\r\nfunction getFunctionValue(val, animatable)\r\n{\r\n\tif (!is.fnc(val))\r\n\t{\r\n\t\treturn val;\r\n\t}\r\n\treturn val(animatable.target, animatable.id, animatable.total);\r\n}\r\n\r\nfunction getAttribute(el, prop)\r\n{\r\n\treturn el.getAttribute(prop);\r\n}\r\n\r\nfunction convertPxToUnit(el, value, unit)\r\n{\r\n\tvar valueUnit = getUnit(value);\r\n\tif (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit))\r\n\t{\r\n\t\treturn value;\r\n\t}\r\n\tvar cached = cache.CSS[value + unit];\r\n\tif (!is.und(cached))\r\n\t{\r\n\t\treturn cached;\r\n\t}\r\n\tvar baseline = 100;\r\n\tvar tempEl = document.createElement(el.tagName);\r\n\tvar parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\r\n\tparentEl.appendChild(tempEl);\r\n\ttempEl.style.position = 'absolute';\r\n\ttempEl.style.width = baseline + unit;\r\n\tvar factor = baseline / tempEl.offsetWidth;\r\n\tparentEl.removeChild(tempEl);\r\n\tvar convertedUnit = factor * parseFloat(value);\r\n\tcache.CSS[value + unit] = convertedUnit;\r\n\treturn convertedUnit;\r\n}\r\n\r\nfunction getCSSValue(el, prop, unit)\r\n{\r\n\tif (prop in el.style)\r\n\t{\r\n\t\tvar uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n\t\tvar value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\r\n\t\treturn unit ? convertPxToUnit(el, value, unit) : value;\r\n\t}\r\n}\r\n\r\nfunction getAnimationType(el, prop)\r\n{\r\n\tif (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop])))\r\n\t{\r\n\t\treturn 'attribute';\r\n\t}\r\n\tif (is.dom(el) && arrayContains(validTransforms, prop))\r\n\t{\r\n\t\treturn 'transform';\r\n\t}\r\n\tif (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop)))\r\n\t{\r\n\t\treturn 'css';\r\n\t}\r\n\tif (el[prop] != null)\r\n\t{\r\n\t\treturn 'object';\r\n\t}\r\n}\r\n\r\nfunction getElementTransforms(el)\r\n{\r\n\tif (!is.dom(el))\r\n\t{\r\n\t\treturn;\r\n\t}\r\n\tvar str = el.style.transform || '';\r\n\tvar reg = /(\\w+)\\(([^)]*)\\)/g;\r\n\tvar transforms = new Map();\r\n\tvar m;\r\n\twhile (m = reg.exec(str))\r\n\t{\r\n\t\ttransforms.set(m[1], m[2]);\r\n\t}\r\n\treturn transforms;\r\n}\r\n\r\nfunction getTransformValue(el, propName, animatable, unit)\r\n{\r\n\tvar defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\r\n\tvar value = getElementTransforms(el).get(propName) || defaultVal;\r\n\tif (animatable)\r\n\t{\r\n\t\tanimatable.transforms.list.set(propName, value);\r\n\t\tanimatable.transforms['last'] = propName;\r\n\t}\r\n\treturn unit ? convertPxToUnit(el, value, unit) : value;\r\n}\r\n\r\nfunction getOriginalTargetValue(target, propName, unit, animatable)\r\n{\r\n\tswitch (getAnimationType(target, propName))\r\n\t{\r\n\t\tcase 'transform':\r\n\t\t\treturn getTransformValue(target, propName, animatable, unit);\r\n\t\tcase 'css':\r\n\t\t\treturn getCSSValue(target, propName, unit);\r\n\t\tcase 'attribute':\r\n\t\t\treturn getAttribute(target, propName);\r\n\t\tdefault:\r\n\t\t\treturn target[propName] || 0;\r\n\t}\r\n}\r\n\r\nfunction getRelativeValue(to, from)\r\n{\r\n\tvar operator = /^(\\*=|\\+=|-=)/.exec(to);\r\n\tif (!operator)\r\n\t{\r\n\t\treturn to;\r\n\t}\r\n\tvar u = getUnit(to) || 0;\r\n\tvar x = parseFloat(from);\r\n\tvar y = parseFloat(to.replace(operator[0], ''));\r\n\tswitch (operator[0][0])\r\n\t{\r\n\t\tcase '+':\r\n\t\t\treturn x + y + u;\r\n\t\tcase '-':\r\n\t\t\treturn x - y + u;\r\n\t\tcase '*':\r\n\t\t\treturn x * y + u;\r\n\t}\r\n}\r\n\r\nfunction validateValue(val, unit)\r\n{\r\n\tif (is.col(val))\r\n\t{\r\n\t\treturn colorToRgb(val);\r\n\t}\r\n\tif (/\\s/g.test(val))\r\n\t{\r\n\t\treturn val;\r\n\t}\r\n\tvar originalUnit = getUnit(val);\r\n\tvar unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\r\n\tif (unit)\r\n\t{\r\n\t\treturn unitLess + unit;\r\n\t}\r\n\treturn unitLess;\r\n}\r\n\r\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\r\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\r\n\r\nfunction getDistance(p1, p2)\r\n{\r\n\treturn Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\r\n}\r\n\r\nfunction getCircleLength(el)\r\n{\r\n\treturn Math.PI * 2 * getAttribute(el, 'r');\r\n}\r\n\r\nfunction getRectLength(el)\r\n{\r\n\treturn (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\r\n}\r\n\r\nfunction getLineLength(el)\r\n{\r\n\treturn getDistance(\r\n\t\t{x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')},\r\n\t\t{x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\r\n\t);\r\n}\r\n\r\nfunction getPolylineLength(el)\r\n{\r\n\tvar points = el.points;\r\n\tvar totalLength = 0;\r\n\tvar previousPos;\r\n\tfor (var i = 0; i < points.numberOfItems; i++)\r\n\t{\r\n\t\tvar currentPos = points.getItem(i);\r\n\t\tif (i > 0)\r\n\t\t{\r\n\t\t\ttotalLength += getDistance(previousPos, currentPos);\r\n\t\t}\r\n\t\tpreviousPos = currentPos;\r\n\t}\r\n\treturn totalLength;\r\n}\r\n\r\nfunction getPolygonLength(el)\r\n{\r\n\tvar points = el.points;\r\n\treturn getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\r\n}\r\n\r\n// Path animation\r\n\r\nfunction getTotalLength(el)\r\n{\r\n\tif (el.getTotalLength)\r\n\t{\r\n\t\treturn el.getTotalLength();\r\n\t}\r\n\tswitch (el.tagName.toLowerCase())\r\n\t{\r\n\t\tcase 'circle':\r\n\t\t\treturn getCircleLength(el);\r\n\t\tcase 'rect':\r\n\t\t\treturn getRectLength(el);\r\n\t\tcase 'line':\r\n\t\t\treturn getLineLength(el);\r\n\t\tcase 'polyline':\r\n\t\t\treturn getPolylineLength(el);\r\n\t\tcase 'polygon':\r\n\t\t\treturn getPolygonLength(el);\r\n\t}\r\n}\r\n\r\nfunction setDashoffset(el)\r\n{\r\n\tvar pathLength = getTotalLength(el);\r\n\tel.setAttribute('stroke-dasharray', pathLength);\r\n\treturn pathLength;\r\n}\r\n\r\n// Motion path\r\n\r\nfunction getParentSvgEl(el)\r\n{\r\n\tvar parentEl = el.parentNode;\r\n\twhile (is.svg(parentEl))\r\n\t{\r\n\t\tif (!is.svg(parentEl.parentNode))\r\n\t\t{\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tparentEl = parentEl.parentNode;\r\n\t}\r\n\treturn parentEl;\r\n}\r\n\r\nfunction getParentSvg(pathEl, svgData)\r\n{\r\n\tvar svg = svgData || {};\r\n\tvar parentSvgEl = svg.el || getParentSvgEl(pathEl);\r\n\tvar rect = parentSvgEl.getBoundingClientRect();\r\n\tvar viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\r\n\tvar width = rect.width;\r\n\tvar height = rect.height;\r\n\tvar viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\r\n\treturn {\r\n\t\tel: parentSvgEl,\r\n\t\tviewBox: viewBox,\r\n\t\tx: viewBox[0] / 1,\r\n\t\ty: viewBox[1] / 1,\r\n\t\tw: width / viewBox[2],\r\n\t\th: height / viewBox[3]\r\n\t}\r\n}\r\n\r\nfunction getPath(path, percent)\r\n{\r\n\tvar pathEl = is.str(path) ? selectString(path)[0] : path;\r\n\tvar p = percent || 100;\r\n\treturn function (property)\r\n\t{\r\n\t\treturn {\r\n\t\t\tproperty: property,\r\n\t\t\tel: pathEl,\r\n\t\t\tsvg: getParentSvg(pathEl),\r\n\t\t\ttotalLength: getTotalLength(pathEl) * (p / 100)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getPathProgress(path, progress)\r\n{\r\n\tfunction point(offset)\r\n\t{\r\n\t\tif (offset === void 0) offset = 0;\r\n\r\n\t\tvar l = progress + offset >= 1 ? progress + offset : 0;\r\n\t\treturn path.el.getPointAtLength(l);\r\n\t}\r\n\r\n\tvar svg = getParentSvg(path.el, path.svg);\r\n\tvar p = point();\r\n\tvar p0 = point(-1);\r\n\tvar p1 = point(+1);\r\n\tswitch (path.property)\r\n\t{\r\n\t\tcase 'x':\r\n\t\t\treturn (p.x - svg.x) * svg.w;\r\n\t\tcase 'y':\r\n\t\t\treturn (p.y - svg.y) * svg.h;\r\n\t\tcase 'angle':\r\n\t\t\treturn Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\r\n\t}\r\n}\r\n\r\n// Decompose value\r\n\r\nfunction decomposeValue(val, unit)\r\n{\r\n\t// const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\r\n\t// const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\r\n\tvar rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\r\n\tvar value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\r\n\treturn {\r\n\t\toriginal: value,\r\n\t\tnumbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\r\n\t\tstrings: (is.str(val) || unit) ? value.split(rgx) : []\r\n\t}\r\n}\r\n\r\n// Animatables\r\n\r\nfunction parseTargets(targets)\r\n{\r\n\tvar targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\r\n\treturn filterArray(targetsArray, function (item, pos, self)\r\n\t{\r\n\t\treturn self.indexOf(item) === pos;\r\n\t});\r\n}\r\n\r\nfunction getAnimatables(targets)\r\n{\r\n\tvar parsed = parseTargets(targets);\r\n\treturn parsed.map(function (t, i)\r\n\t{\r\n\t\treturn {target: t, id: i, total: parsed.length, transforms: {list: getElementTransforms(t)}};\r\n\t});\r\n}\r\n\r\n// Properties\r\n\r\nfunction normalizePropertyTweens(prop, tweenSettings)\r\n{\r\n\tvar settings = cloneObject(tweenSettings);\r\n\t// Override duration if easing is a spring\r\n\tif (/^spring/.test(settings.easing))\r\n\t{\r\n\t\tsettings.duration = spring(settings.easing);\r\n\t}\r\n\tif (is.arr(prop))\r\n\t{\r\n\t\tvar l = prop.length;\r\n\t\tvar isFromTo = (l === 2 && !is.obj(prop[0]));\r\n\t\tif (!isFromTo)\r\n\t\t{\r\n\t\t\t// Duration divided by the number of tweens\r\n\t\t\tif (!is.fnc(tweenSettings.duration))\r\n\t\t\t{\r\n\t\t\t\tsettings.duration = tweenSettings.duration / l;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Transform [from, to] values shorthand to a valid tween value\r\n\t\t\tprop = {value: prop};\r\n\t\t}\r\n\t}\r\n\tvar propArray = is.arr(prop) ? prop : [prop];\r\n\treturn propArray.map(function (v, i)\r\n\t{\r\n\t\tvar obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\r\n\t\t// Default delay value should only be applied to the first tween\r\n\t\tif (is.und(obj.delay))\r\n\t\t{\r\n\t\t\tobj.delay = !i ? tweenSettings.delay : 0;\r\n\t\t}\r\n\t\t// Default endDelay value should only be applied to the last tween\r\n\t\tif (is.und(obj.endDelay))\r\n\t\t{\r\n\t\t\tobj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0;\r\n\t\t}\r\n\t\treturn obj;\r\n\t}).map(function (k)\r\n\t{\r\n\t\treturn mergeObjects(k, settings);\r\n\t});\r\n}\r\n\r\n\r\nfunction flattenKeyframes(keyframes)\r\n{\r\n\tvar propertyNames = filterArray(flattenArray(keyframes.map(function (key)\r\n\t{\r\n\t\treturn Object.keys(key);\r\n\t})), function (p)\r\n\t{\r\n\t\treturn is.key(p);\r\n\t})\r\n\t\t.reduce(function (a, b)\r\n\t\t{\r\n\t\t\tif (a.indexOf(b) < 0)\r\n\t\t\t{\r\n\t\t\t\ta.push(b);\r\n\t\t\t}\r\n\t\t\treturn a;\r\n\t\t}, []);\r\n\tvar properties = {};\r\n\tvar loop = function (i)\r\n\t{\r\n\t\tvar propName = propertyNames[i];\r\n\t\tproperties[propName] = keyframes.map(function (key)\r\n\t\t{\r\n\t\t\tvar newKey = {};\r\n\t\t\tfor (var p in key)\r\n\t\t\t{\r\n\t\t\t\tif (is.key(p))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (p == propName)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnewKey.value = key[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tnewKey[p] = key[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn newKey;\r\n\t\t});\r\n\t};\r\n\r\n\tfor (var i = 0; i < propertyNames.length; i++) loop(i);\r\n\treturn properties;\r\n}\r\n\r\nfunction getProperties(tweenSettings, params)\r\n{\r\n\tvar properties = [];\r\n\tvar keyframes = params.keyframes;\r\n\tif (keyframes)\r\n\t{\r\n\t\tparams = mergeObjects(flattenKeyframes(keyframes), params);\r\n\t}\r\n\tfor (var p in params)\r\n\t{\r\n\t\tif (is.key(p))\r\n\t\t{\r\n\t\t\tproperties.push({\r\n\t\t\t\tname: p,\r\n\t\t\t\ttweens: normalizePropertyTweens(params[p], tweenSettings)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\treturn properties;\r\n}\r\n\r\n// Tweens\r\n\r\nfunction normalizeTweenValues(tween, animatable)\r\n{\r\n\tvar t = {};\r\n\tfor (var p in tween)\r\n\t{\r\n\t\tvar value = getFunctionValue(tween[p], animatable);\r\n\t\tif (is.arr(value))\r\n\t\t{\r\n\t\t\tvalue = value.map(function (v)\r\n\t\t\t{\r\n\t\t\t\treturn getFunctionValue(v, animatable);\r\n\t\t\t});\r\n\t\t\tif (value.length === 1)\r\n\t\t\t{\r\n\t\t\t\tvalue = value[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tt[p] = value;\r\n\t}\r\n\tt.duration = parseFloat(t.duration);\r\n\tt.delay = parseFloat(t.delay);\r\n\treturn t;\r\n}\r\n\r\nfunction normalizeTweens(prop, animatable)\r\n{\r\n\tvar previousTween;\r\n\treturn prop.tweens.map(function (t)\r\n\t{\r\n\t\tvar tween = normalizeTweenValues(t, animatable);\r\n\t\tvar tweenValue = tween.value;\r\n\t\tvar to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\r\n\t\tvar toUnit = getUnit(to);\r\n\t\tvar originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\r\n\t\tvar previousValue = previousTween ? previousTween.to.original : originalValue;\r\n\t\tvar from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\r\n\t\tvar fromUnit = getUnit(from) || getUnit(originalValue);\r\n\t\tvar unit = toUnit || fromUnit;\r\n\t\tif (is.und(to))\r\n\t\t{\r\n\t\t\tto = previousValue;\r\n\t\t}\r\n\t\ttween.from = decomposeValue(from, unit);\r\n\t\ttween.to = decomposeValue(getRelativeValue(to, from), unit);\r\n\t\ttween.start = previousTween ? previousTween.end : 0;\r\n\t\ttween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\r\n\t\ttween.easing = parseEasings(tween.easing, tween.duration);\r\n\t\ttween.isPath = is.pth(tweenValue);\r\n\t\ttween.isColor = is.col(tween.from.original);\r\n\t\tif (tween.isColor)\r\n\t\t{\r\n\t\t\ttween.round = 1;\r\n\t\t}\r\n\t\tpreviousTween = tween;\r\n\t\treturn tween;\r\n\t});\r\n}\r\n\r\n// Tween progress\r\n\r\nvar setProgressValue = {\r\n\tcss: function (t, p, v)\r\n\t{\r\n\t\treturn t.style[p] = v;\r\n\t},\r\n\tattribute: function (t, p, v)\r\n\t{\r\n\t\treturn t.setAttribute(p, v);\r\n\t},\r\n\tobject: function (t, p, v)\r\n\t{\r\n\t\treturn t[p] = v;\r\n\t},\r\n\ttransform: function (t, p, v, transforms, manual)\r\n\t{\r\n\t\ttransforms.list.set(p, v);\r\n\t\tif (p === transforms.last || manual)\r\n\t\t{\r\n\t\t\tvar str = '';\r\n\t\t\ttransforms.list.forEach(function (value, prop)\r\n\t\t\t{\r\n\t\t\t\tstr += prop + \"(\" + value + \") \";\r\n\t\t\t});\r\n\t\t\tt.style.transform = str;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Set Value helper\r\n\r\nfunction setTargetsValue(targets, properties)\r\n{\r\n\tvar animatables = getAnimatables(targets);\r\n\tanimatables.forEach(function (animatable)\r\n\t{\r\n\t\tfor (var property in properties)\r\n\t\t{\r\n\t\t\tvar value = getFunctionValue(properties[property], animatable);\r\n\t\t\tvar target = animatable.target;\r\n\t\t\tvar valueUnit = getUnit(value);\r\n\t\t\tvar originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\r\n\t\t\tvar unit = valueUnit || getUnit(originalValue);\r\n\t\t\tvar to = getRelativeValue(validateValue(value, unit), originalValue);\r\n\t\t\tvar animType = getAnimationType(target, property);\r\n\t\t\tsetProgressValue[animType](target, property, to, animatable.transforms, true);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Animations\r\n\r\nfunction createAnimation(animatable, prop)\r\n{\r\n\tvar animType = getAnimationType(animatable.target, prop.name);\r\n\tif (animType)\r\n\t{\r\n\t\tvar tweens = normalizeTweens(prop, animatable);\r\n\t\tvar lastTween = tweens[tweens.length - 1];\r\n\t\treturn {\r\n\t\t\ttype: animType,\r\n\t\t\tproperty: prop.name,\r\n\t\t\tanimatable: animatable,\r\n\t\t\ttweens: tweens,\r\n\t\t\tduration: lastTween.end,\r\n\t\t\tdelay: tweens[0].delay,\r\n\t\t\tendDelay: lastTween.endDelay\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getAnimations(animatables, properties)\r\n{\r\n\treturn filterArray(flattenArray(animatables.map(function (animatable)\r\n\t{\r\n\t\treturn properties.map(function (prop)\r\n\t\t{\r\n\t\t\treturn createAnimation(animatable, prop);\r\n\t\t});\r\n\t})), function (a)\r\n\t{\r\n\t\treturn !is.und(a);\r\n\t});\r\n}\r\n\r\n// Create Instance\r\n\r\nfunction getInstanceTimings(animations, tweenSettings)\r\n{\r\n\tvar animLength = animations.length;\r\n\tvar getTlOffset = function (anim)\r\n\t{\r\n\t\treturn anim.timelineOffset ? anim.timelineOffset : 0;\r\n\t};\r\n\tvar timings = {};\r\n\ttimings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim)\r\n\t{\r\n\t\treturn getTlOffset(anim) + anim.duration;\r\n\t})) : tweenSettings.duration;\r\n\ttimings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim)\r\n\t{\r\n\t\treturn getTlOffset(anim) + anim.delay;\r\n\t})) : tweenSettings.delay;\r\n\ttimings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim)\r\n\t{\r\n\t\treturn getTlOffset(anim) + anim.duration - anim.endDelay;\r\n\t})) : tweenSettings.endDelay;\r\n\treturn timings;\r\n}\r\n\r\nvar instanceID = 0;\r\n\r\nfunction createNewInstance(params)\r\n{\r\n\tvar instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\r\n\tvar tweenSettings = replaceObjectProps(defaultTweenSettings, params);\r\n\tvar properties = getProperties(tweenSettings, params);\r\n\tvar animatables = getAnimatables(params.targets);\r\n\tvar animations = getAnimations(animatables, properties);\r\n\tvar timings = getInstanceTimings(animations, tweenSettings);\r\n\tvar id = instanceID;\r\n\tinstanceID++;\r\n\treturn mergeObjects(instanceSettings, {\r\n\t\tid: id,\r\n\t\tchildren: [],\r\n\t\tanimatables: animatables,\r\n\t\tanimations: animations,\r\n\t\tduration: timings.duration,\r\n\t\tdelay: timings.delay,\r\n\t\tendDelay: timings.endDelay\r\n\t});\r\n}\r\n\r\n// Core\r\n\r\nvar activeInstances = [];\r\nvar pausedInstances = [];\r\nvar raf;\r\n\r\nvar engine = (function ()\r\n{\r\n\tfunction play()\r\n\t{\r\n\t\traf = requestAnimationFrame(step);\r\n\t}\r\n\r\n\tfunction step(t)\r\n\t{\r\n\t\tvar activeInstancesLength = activeInstances.length;\r\n\t\tif (activeInstancesLength)\r\n\t\t{\r\n\t\t\tvar i = 0;\r\n\t\t\twhile (i < activeInstancesLength)\r\n\t\t\t{\r\n\t\t\t\tvar activeInstance = activeInstances[i];\r\n\t\t\t\tif (!activeInstance.paused)\r\n\t\t\t\t{\r\n\t\t\t\t\tactiveInstance.tick(t);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar instanceIndex = activeInstances.indexOf(activeInstance);\r\n\t\t\t\t\tif (instanceIndex > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tactiveInstances.splice(instanceIndex, 1);\r\n\t\t\t\t\t\tactiveInstancesLength = activeInstances.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tplay();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\traf = cancelAnimationFrame(raf);\r\n\t\t}\r\n\t}\r\n\r\n\treturn play;\r\n})();\r\n\r\nfunction handleVisibilityChange()\r\n{\r\n\tif (document.hidden)\r\n\t{\r\n\t\tactiveInstances.forEach(function (ins)\r\n\t\t{\r\n\t\t\treturn ins.pause();\r\n\t\t});\r\n\t\tpausedInstances = activeInstances.slice(0);\r\n\t\tanime.running = activeInstances = [];\r\n\t}\r\n\telse\r\n\t{\r\n\t\tpausedInstances.forEach(function (ins)\r\n\t\t{\r\n\t\t\treturn ins.play();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (typeof document !== 'undefined')\r\n{\r\n\tdocument.addEventListener('visibilitychange', handleVisibilityChange);\r\n}\r\n\r\n// Public Instance\r\n\r\nfunction anime(params)\r\n{\r\n\tif (params === void 0) params = {};\r\n\r\n\r\n\tvar startTime = 0, lastTime = 0, now = 0;\r\n\tvar children, childrenLength = 0;\r\n\tvar resolve = null;\r\n\r\n\tfunction makePromise(instance)\r\n\t{\r\n\t\tvar promise = window.Promise && new Promise(function (_resolve)\r\n\t\t{\r\n\t\t\treturn resolve = _resolve;\r\n\t\t});\r\n\t\tinstance.finished = promise;\r\n\t\treturn promise;\r\n\t}\r\n\r\n\tvar instance = createNewInstance(params);\r\n\tvar promise = makePromise(instance);\r\n\r\n\tfunction toggleInstanceDirection()\r\n\t{\r\n\t\tvar direction = instance.direction;\r\n\t\tif (direction !== 'alternate')\r\n\t\t{\r\n\t\t\tinstance.direction = direction !== 'normal' ? 'normal' : 'reverse';\r\n\t\t}\r\n\t\tinstance.reversed = !instance.reversed;\r\n\t\tchildren.forEach(function (child)\r\n\t\t{\r\n\t\t\treturn child.reversed = instance.reversed;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction adjustTime(time)\r\n\t{\r\n\t\treturn instance.reversed ? instance.duration - time : time;\r\n\t}\r\n\r\n\tfunction resetTime()\r\n\t{\r\n\t\tstartTime = 0;\r\n\t\tlastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\r\n\t}\r\n\r\n\tfunction seekChild(time, child)\r\n\t{\r\n\t\tif (child)\r\n\t\t{\r\n\t\t\tchild.seek(time - child.timelineOffset);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction syncInstanceChildren(time)\r\n\t{\r\n\t\tif (!instance.reversePlayback)\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < childrenLength; i++)\r\n\t\t\t{\r\n\t\t\t\tseekChild(time, children[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var i$1 = childrenLength; i$1--;)\r\n\t\t\t{\r\n\t\t\t\tseekChild(time, children[i$1]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setAnimationsProgress(insTime)\r\n\t{\r\n\t\tvar i = 0;\r\n\t\tvar animations = instance.animations;\r\n\t\tvar animationsLength = animations.length;\r\n\t\twhile (i < animationsLength)\r\n\t\t{\r\n\t\t\tvar anim = animations[i];\r\n\t\t\tvar animatable = anim.animatable;\r\n\t\t\tvar tweens = anim.tweens;\r\n\t\t\tvar tweenLength = tweens.length - 1;\r\n\t\t\tvar tween = tweens[tweenLength];\r\n\t\t\t// Only check for keyframes if there is more than one tween\r\n\t\t\tif (tweenLength)\r\n\t\t\t{\r\n\t\t\t\ttween = filterArray(tweens, function (t)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn (insTime < t.end);\r\n\t\t\t\t})[0] || tween;\r\n\t\t\t}\r\n\t\t\tvar elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\r\n\t\t\tvar eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\r\n\t\t\tvar strings = tween.to.strings;\r\n\t\t\tvar round = tween.round;\r\n\t\t\tvar numbers = [];\r\n\t\t\tvar toNumbersLength = tween.to.numbers.length;\r\n\t\t\tvar progress = (void 0);\r\n\t\t\tfor (var n = 0; n < toNumbersLength; n++)\r\n\t\t\t{\r\n\t\t\t\tvar value = (void 0);\r\n\t\t\t\tvar toNumber = tween.to.numbers[n];\r\n\t\t\t\tvar fromNumber = tween.from.numbers[n] || 0;\r\n\t\t\t\tif (!tween.isPath)\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue = fromNumber + (eased * (toNumber - fromNumber));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvalue = getPathProgress(tween.value, eased * toNumber);\r\n\t\t\t\t}\r\n\t\t\t\tif (round)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!(tween.isColor && n > 2))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = Math.round(value * round) / round;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnumbers.push(value);\r\n\t\t\t}\r\n\t\t\t// Manual Array.reduce for better performances\r\n\t\t\tvar stringsLength = strings.length;\r\n\t\t\tif (!stringsLength)\r\n\t\t\t{\r\n\t\t\t\tprogress = numbers[0];\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tprogress = strings[0];\r\n\t\t\t\tfor (var s = 0; s < stringsLength; s++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar a = strings[s];\r\n\t\t\t\t\tvar b = strings[s + 1];\r\n\t\t\t\t\tvar n$1 = numbers[s];\r\n\t\t\t\t\tif (!isNaN(n$1))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (!b)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprogress += n$1 + ' ';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tprogress += n$1 + b;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\r\n\t\t\tanim.currentValue = progress;\r\n\t\t\ti++;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setCallback(cb)\r\n\t{\r\n\t\tif (instance[cb] && !instance.passThrough)\r\n\t\t{\r\n\t\t\tinstance[cb](instance);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction countIteration()\r\n\t{\r\n\t\tif (instance.remaining && instance.remaining !== true)\r\n\t\t{\r\n\t\t\tinstance.remaining--;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setInstanceProgress(engineTime)\r\n\t{\r\n\t\tvar insDuration = instance.duration;\r\n\t\tvar insDelay = instance.delay;\r\n\t\tvar insEndDelay = insDuration - instance.endDelay;\r\n\t\tvar insTime = adjustTime(engineTime);\r\n\t\tinstance.progress = minMax((insTime / insDuration) * 100, 0, 100);\r\n\t\tinstance.reversePlayback = insTime < instance.currentTime;\r\n\t\tif (children)\r\n\t\t{\r\n\t\t\tsyncInstanceChildren(insTime);\r\n\t\t}\r\n\t\tif (!instance.began && instance.currentTime > 0)\r\n\t\t{\r\n\t\t\tinstance.began = true;\r\n\t\t\tsetCallback('begin');\r\n\t\t}\r\n\t\tif (!instance.loopBegan && instance.currentTime > 0)\r\n\t\t{\r\n\t\t\tinstance.loopBegan = true;\r\n\t\t\tsetCallback('loopBegin');\r\n\t\t}\r\n\t\tif (insTime <= insDelay && instance.currentTime !== 0)\r\n\t\t{\r\n\t\t\tsetAnimationsProgress(0);\r\n\t\t}\r\n\t\tif ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration)\r\n\t\t{\r\n\t\t\tsetAnimationsProgress(insDuration);\r\n\t\t}\r\n\t\tif (insTime > insDelay && insTime < insEndDelay)\r\n\t\t{\r\n\t\t\tif (!instance.changeBegan)\r\n\t\t\t{\r\n\t\t\t\tinstance.changeBegan = true;\r\n\t\t\t\tinstance.changeCompleted = false;\r\n\t\t\t\tsetCallback('changeBegin');\r\n\t\t\t}\r\n\t\t\tsetCallback('change');\r\n\t\t\tsetAnimationsProgress(insTime);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (instance.changeBegan)\r\n\t\t\t{\r\n\t\t\t\tinstance.changeCompleted = true;\r\n\t\t\t\tinstance.changeBegan = false;\r\n\t\t\t\tsetCallback('changeComplete');\r\n\t\t\t}\r\n\t\t}\r\n\t\tinstance.currentTime = minMax(insTime, 0, insDuration);\r\n\t\tif (instance.began)\r\n\t\t{\r\n\t\t\tsetCallback('update');\r\n\t\t}\r\n\t\tif (engineTime >= insDuration)\r\n\t\t{\r\n\t\t\tlastTime = 0;\r\n\t\t\tcountIteration();\r\n\t\t\tif (!instance.remaining)\r\n\t\t\t{\r\n\t\t\t\tinstance.paused = true;\r\n\t\t\t\tif (!instance.completed)\r\n\t\t\t\t{\r\n\t\t\t\t\tinstance.completed = true;\r\n\t\t\t\t\tsetCallback('loopComplete');\r\n\t\t\t\t\tsetCallback('complete');\r\n\t\t\t\t\tif (!instance.passThrough && 'Promise' in window)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\tpromise = makePromise(instance);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tstartTime = now;\r\n\t\t\t\tsetCallback('loopComplete');\r\n\t\t\t\tinstance.loopBegan = false;\r\n\t\t\t\tif (instance.direction === 'alternate')\r\n\t\t\t\t{\r\n\t\t\t\t\ttoggleInstanceDirection();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tinstance.reset = function ()\r\n\t{\r\n\t\tvar direction = instance.direction;\r\n\t\tinstance.passThrough = false;\r\n\t\tinstance.currentTime = 0;\r\n\t\tinstance.progress = 0;\r\n\t\tinstance.paused = true;\r\n\t\tinstance.began = false;\r\n\t\tinstance.loopBegan = false;\r\n\t\tinstance.changeBegan = false;\r\n\t\tinstance.completed = false;\r\n\t\tinstance.changeCompleted = false;\r\n\t\tinstance.reversePlayback = false;\r\n\t\tinstance.reversed = direction === 'reverse';\r\n\t\tinstance.remaining = instance.loop;\r\n\t\tchildren = instance.children;\r\n\t\tchildrenLength = children.length;\r\n\t\tfor (var i = childrenLength; i--;)\r\n\t\t{\r\n\t\t\tinstance.children[i].reset();\r\n\t\t}\r\n\t\tif (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1))\r\n\t\t{\r\n\t\t\tinstance.remaining++;\r\n\t\t}\r\n\t\tsetAnimationsProgress(instance.reversed ? instance.duration : 0);\r\n\t};\r\n\r\n\t// Set Value helper\r\n\r\n\tinstance.set = function (targets, properties)\r\n\t{\r\n\t\tsetTargetsValue(targets, properties);\r\n\t\treturn instance;\r\n\t};\r\n\r\n\tinstance.tick = function (t)\r\n\t{\r\n\t\tnow = t;\r\n\t\tif (!startTime)\r\n\t\t{\r\n\t\t\tstartTime = now;\r\n\t\t}\r\n\t\tsetInstanceProgress((now + (lastTime - startTime)) * anime.speed);\r\n\t};\r\n\r\n\tinstance.seek = function (time)\r\n\t{\r\n\t\tsetInstanceProgress(adjustTime(time));\r\n\t};\r\n\r\n\tinstance.pause = function ()\r\n\t{\r\n\t\tinstance.paused = true;\r\n\t\tresetTime();\r\n\t};\r\n\r\n\tinstance.play = function ()\r\n\t{\r\n\t\tif (!instance.paused)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (instance.completed)\r\n\t\t{\r\n\t\t\tinstance.reset();\r\n\t\t}\r\n\t\tinstance.paused = false;\r\n\t\tactiveInstances.push(instance);\r\n\t\tresetTime();\r\n\t\tif (!raf)\r\n\t\t{\r\n\t\t\tengine();\r\n\t\t}\r\n\t};\r\n\r\n\tinstance.reverse = function ()\r\n\t{\r\n\t\ttoggleInstanceDirection();\r\n\t\tresetTime();\r\n\t};\r\n\r\n\tinstance.restart = function ()\r\n\t{\r\n\t\tinstance.reset();\r\n\t\tinstance.play();\r\n\t};\r\n\r\n\tinstance.reset();\r\n\r\n\tif (instance.autoplay)\r\n\t{\r\n\t\tinstance.play();\r\n\t}\r\n\r\n\treturn instance;\r\n\r\n}\r\n\r\n// Remove targets from animation\r\n\r\nfunction removeTargetsFromAnimations(targetsArray, animations)\r\n{\r\n\tfor (var a = animations.length; a--;)\r\n\t{\r\n\t\tif (arrayContains(targetsArray, animations[a].animatable.target))\r\n\t\t{\r\n\t\t\tanimations.splice(a, 1);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction removeTargets(targets)\r\n{\r\n\tvar targetsArray = parseTargets(targets);\r\n\tfor (var i = activeInstances.length; i--;)\r\n\t{\r\n\t\tvar instance = activeInstances[i];\r\n\t\tvar animations = instance.animations;\r\n\t\tvar children = instance.children;\r\n\t\tremoveTargetsFromAnimations(targetsArray, animations);\r\n\t\tfor (var c = children.length; c--;)\r\n\t\t{\r\n\t\t\tvar child = children[c];\r\n\t\t\tvar childAnimations = child.animations;\r\n\t\t\tremoveTargetsFromAnimations(targetsArray, childAnimations);\r\n\t\t\tif (!childAnimations.length && !child.children.length)\r\n\t\t\t{\r\n\t\t\t\tchildren.splice(c, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!animations.length && !children.length)\r\n\t\t{\r\n\t\t\tinstance.pause();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Stagger helpers\r\n\r\nfunction stagger(val, params)\r\n{\r\n\tif (params === void 0) params = {};\r\n\r\n\tvar direction = params.direction || 'normal';\r\n\tvar easing = params.easing ? parseEasings(params.easing) : null;\r\n\tvar grid = params.grid;\r\n\tvar axis = params.axis;\r\n\tvar fromIndex = params.from || 0;\r\n\tvar fromFirst = fromIndex === 'first';\r\n\tvar fromCenter = fromIndex === 'center';\r\n\tvar fromLast = fromIndex === 'last';\r\n\tvar isRange = is.arr(val);\r\n\tvar val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\r\n\tvar val2 = isRange ? parseFloat(val[1]) : 0;\r\n\tvar unit = getUnit(isRange ? val[1] : val) || 0;\r\n\tvar start = params.start || 0 + (isRange ? val1 : 0);\r\n\tvar values = [];\r\n\tvar maxValue = 0;\r\n\treturn function (el, i, t)\r\n\t{\r\n\t\tif (fromFirst)\r\n\t\t{\r\n\t\t\tfromIndex = 0;\r\n\t\t}\r\n\t\tif (fromCenter)\r\n\t\t{\r\n\t\t\tfromIndex = (t - 1) / 2;\r\n\t\t}\r\n\t\tif (fromLast)\r\n\t\t{\r\n\t\t\tfromIndex = t - 1;\r\n\t\t}\r\n\t\tif (!values.length)\r\n\t\t{\r\n\t\t\tfor (var index = 0; index < t; index++)\r\n\t\t\t{\r\n\t\t\t\tif (!grid)\r\n\t\t\t\t{\r\n\t\t\t\t\tvalues.push(Math.abs(fromIndex - index));\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar fromX = !fromCenter ? fromIndex % grid[0] : (grid[0] - 1) / 2;\r\n\t\t\t\t\tvar fromY = !fromCenter ? Math.floor(fromIndex / grid[0]) : (grid[1] - 1) / 2;\r\n\t\t\t\t\tvar toX = index % grid[0];\r\n\t\t\t\t\tvar toY = Math.floor(index / grid[0]);\r\n\t\t\t\t\tvar distanceX = fromX - toX;\r\n\t\t\t\t\tvar distanceY = fromY - toY;\r\n\t\t\t\t\tvar value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\r\n\t\t\t\t\tif (axis === 'x')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = -distanceX;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (axis === 'y')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = -distanceY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalues.push(value);\r\n\t\t\t\t}\r\n\t\t\t\tmaxValue = Math.max.apply(Math, values);\r\n\t\t\t}\r\n\t\t\tif (easing)\r\n\t\t\t{\r\n\t\t\t\tvalues = values.map(function (val)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn easing(val / maxValue) * maxValue;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (direction === 'reverse')\r\n\t\t\t{\r\n\t\t\t\tvalues = values.map(function (val)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar spacing = isRange ? (val2 - val1) / maxValue : val1;\r\n\t\treturn start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\r\n\t}\r\n}\r\n\r\n// Timeline\r\n\r\nfunction timeline(params)\r\n{\r\n\tif (params === void 0) params = {};\r\n\r\n\tvar tl = anime(params);\r\n\ttl.duration = 0;\r\n\ttl.add = function (instanceParams, timelineOffset)\r\n\t{\r\n\t\tvar tlIndex = activeInstances.indexOf(tl);\r\n\t\tvar children = tl.children;\r\n\t\tif (tlIndex > -1)\r\n\t\t{\r\n\t\t\tactiveInstances.splice(tlIndex, 1);\r\n\t\t}\r\n\r\n\t\tfunction passThrough(ins)\r\n\t\t{\r\n\t\t\tins.passThrough = true;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < children.length; i++)\r\n\t\t{\r\n\t\t\tpassThrough(children[i]);\r\n\t\t}\r\n\t\tvar insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\r\n\t\tinsParams.targets = insParams.targets || params.targets;\r\n\t\tvar tlDuration = tl.duration;\r\n\t\tinsParams.autoplay = false;\r\n\t\tinsParams.direction = tl.direction;\r\n\t\tinsParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\r\n\t\tpassThrough(tl);\r\n\t\ttl.seek(insParams.timelineOffset);\r\n\t\tvar ins = anime(insParams);\r\n\t\tpassThrough(ins);\r\n\t\tchildren.push(ins);\r\n\t\tvar timings = getInstanceTimings(children, params);\r\n\t\ttl.delay = timings.delay;\r\n\t\ttl.endDelay = timings.endDelay;\r\n\t\ttl.duration = timings.duration;\r\n\t\ttl.seek(0);\r\n\t\ttl.reset();\r\n\t\tif (tl.autoplay)\r\n\t\t{\r\n\t\t\ttl.play();\r\n\t\t}\r\n\t\treturn tl;\r\n\t};\r\n\treturn tl;\r\n}\r\n\r\nanime.version = '3.1.0';\r\nanime.speed = 1;\r\nanime.running = activeInstances;\r\nanime.remove = removeTargets;\r\nanime.get = getOriginalTargetValue;\r\nanime.set = setTargetsValue;\r\nanime.convertPx = convertPxToUnit;\r\nanime.path = getPath;\r\nanime.setDashoffset = setDashoffset;\r\nanime.stagger = stagger;\r\nanime.timeline = timeline;\r\nanime.easing = parseEasings;\r\nanime.penner = penner;\r\nanime.random = function (min, max)\r\n{\r\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\nexport default anime;\r\n","/*\r\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n *\r\n * This file is part of the Latte Framework package.\r\n *\r\n * For the full copyright and license information, please view the\r\n * LICENSE file that was distributed with this source code.\r\n */\r\n\r\nimport anime from \"../lib/animejs\";\r\nimport { getElementDimensions } from \"./element\";\r\nimport { getLatte } from \"../utils\";\r\n\r\nexport const easeSwiftOut = \"cubicBezier(.55, 0, .1, 1)\";\r\n\r\nexport function swapBlocks(options, fn)\r\n{\r\n\tconst {firstElement, scrollingContainer, secondElement} = options;\r\n\tconst duration = 360;\r\n\r\n\tconst firstDim = getElementDimensions(firstElement);\r\n\tconst secondDim = getElementDimensions(secondElement);\r\n\tconst scrollingDim = getElementDimensions(scrollingContainer);\r\n\r\n\tlet firstY;\r\n\tlet secondY;\r\n\r\n\tif (firstDim.offset.top > secondDim.offset.top)\r\n\t{\r\n\t\tfirstY = -secondDim.outer.height;\r\n\t\tsecondY = firstDim.outer.height;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tfirstY = secondDim.outer.height;\r\n\t\tsecondY = -firstDim.outer.height;\r\n\t}\r\n\r\n\tconst targetScrollTop = Math.max(0, ((firstDim.offset.top - scrollingDim.offset.top) + scrollingContainer.scrollTop + firstY) + (firstDim.dimensions.height / 2) - (scrollingDim.dimensions.height / 2));\r\n\r\n\tanime({targets: firstElement, translateY: firstY, duration, easing: easeSwiftOut, loop: false});\r\n\tanime({targets: secondElement, translateY: secondY, duration, easing: easeSwiftOut, loop: false});\r\n\tanime({targets: scrollingContainer, scrollTop: targetScrollTop, duration, easing: easeSwiftOut, loop: false}).finished.then(() =>\r\n\t{\r\n\t\tfirstElement.style.removeProperty(\"transform\");\r\n\t\tsecondElement.style.removeProperty(\"transform\");\r\n\r\n\t\tfn();\r\n\t});\r\n}\r\n","import { isInputOrTextarea } from \"./element\";\r\n\r\nconst {\r\n\tDOCUMENT_POSITION_FOLLOWING,\r\n\tDOCUMENT_POSITION_PRECEDING\r\n} = window.Node;\r\n\r\nexport function atEdge(elm, atEnd = false, onlyLines = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\tif (elm.selectionStart !== elm.selectionEnd)\r\n\t\t\treturn false;\r\n\r\n\t\tif (atEnd)\r\n\t\t\treturn elm.value.length === elm.selectionStart;\r\n\r\n\t\treturn elm.selectionStart === 0;\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\r\n\tif (selection.rangeCount === 0)\r\n\t\treturn false;\r\n\r\n\tconst range = selection.getRangeAt(0).cloneRange();\r\n\tconst isCollapsed = selection.isCollapsed;\r\n\tconst isForward = isForwardSelection(selection);\r\n\r\n\tif (!isCollapsed)\r\n\t\trange.collapse(!isForward);\r\n\r\n\tconst rangeRect = getRectFromRange(range);\r\n\r\n\tconst computedStyle = window.getComputedStyle(elm);\r\n\tconst lineHeight = parseInt(computedStyle.lineHeight, 10) || 0;\r\n\r\n\tif (!isCollapsed && rangeRect.height > lineHeight && isForward !== atEnd)\r\n\t\treturn false;\r\n\r\n\tconst padding = parseInt(computedStyle[`padding${atEnd ? \"Bottom\" : \"Top\"}`], 10) || 0;\r\n\tconst buffer = 3 * lineHeight / 4;\r\n\tconst elmRect = elm.getBoundingClientRect();\r\n\tconst verticalEdge = atEnd ? elmRect.bottom - padding < rangeRect.bottom + buffer : elmRect.top + padding > rangeRect.top - buffer;\r\n\r\n\tif (!verticalEdge)\r\n\t\treturn false;\r\n\r\n\tif (onlyLines)\r\n\t\treturn true;\r\n\r\n\tconst {direction} = computedStyle;\r\n\tconst isReverseDirection = direction === \"rtl\" ? atEnd : !atEnd;\r\n\r\n\tconst x = isReverseDirection ? elmRect.left + 1 : elmRect.right - 1;\r\n\tconst y = atEnd ? elmRect.bottom - buffer : elmRect.top + buffer;\r\n\tconst testRange = hiddenCaretRangeFromPoint(document, x, y, elm);\r\n\r\n\tif (!testRange)\r\n\t\treturn false;\r\n\r\n\tconst side = isReverseDirection ? \"left\" : \"right\";\r\n\tconst testRect = getRectFromRange(testRange);\r\n\r\n\treturn Math.round(testRect[side]) === Math.round(rangeRect[side]);\r\n}\r\n\r\nexport function caretPosition(elm)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tconst position = {anchorOffset: 0, focusOffset: 0};\r\n\tconst {anchorNode, anchorOffset, isCollapsed, focusNode, focusOffset} = window.getSelection();\r\n\r\n\tlet currentNode;\r\n\tlet isBeyondStart = false;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tif (!isBeyondStart && currentNode === anchorNode)\r\n\t\t{\r\n\t\t\tisBeyondStart = true;\r\n\t\t\tposition.anchorOffset += anchorOffset;\r\n\r\n\t\t\tif (!isCollapsed)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tposition.focusOffset = position.anchorOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isBeyondStart)\r\n\t\t{\r\n\t\t\tposition.anchorOffset += currentNode.length;\r\n\t\t}\r\n\r\n\t\tif (!isCollapsed && currentNode === focusNode)\r\n\t\t{\r\n\t\t\tposition.focusOffset += focusOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isCollapsed)\r\n\t\t{\r\n\t\t\tposition.focusOffset += currentNode.length;\r\n\t\t}\r\n\t}\r\n\r\n\treturn position;\r\n}\r\n\r\nexport function caretRangeFromPoint(doc, x, y)\r\n{\r\n\tif (doc.caretRangeFromPoint)\r\n\t\treturn doc.caretRangeFromPoint(x, y);\r\n\r\n\tif (!doc.caretPositionFromPoint)\r\n\t\treturn null;\r\n\r\n\tconst point = doc.caretPositionFromPoint(x, y);\r\n\r\n\tif (!point)\r\n\t\treturn null;\r\n\r\n\tconst range = doc.createRange();\r\n\trange.setStart(point.offsetNode, point.offset);\r\n\trange.collapse(true);\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function getRectFromRange(range)\r\n{\r\n\tif (!range.collapsed)\r\n\t\treturn range.getBoundingClientRect();\r\n\r\n\tconst {startContainer} = range;\r\n\r\n\tif (startContainer.nodeName === \"BR\")\r\n\t{\r\n\t\tconst {parentNode} = startContainer;\r\n\t\tconst index = Array.from(parentNode.childNodes).indexOf(startContainer);\r\n\r\n\t\trange = document.createRange();\r\n\t\trange.setStart(parentNode, index);\r\n\t\trange.setEnd(parentNode, index);\r\n\t}\r\n\r\n\tlet rect = range.getClientRects()[0];\r\n\r\n\tif (!rect)\r\n\t{\r\n\t\tconst padNode = document.createTextNode(\"\\u200b\");\r\n\t\trange = range.cloneRange();\r\n\t\trange.insertNode(padNode);\r\n\t\trect = range.getClientRects()[0];\r\n\t\tpadNode.remove();\r\n\t}\r\n\r\n\treturn rect;\r\n}\r\n\r\nexport function hiddenCaretRangeFromPoint(doc, x, y, elm)\r\n{\r\n\telm.style.zIndex = \"10000\";\r\n\r\n\tconst range = caretRangeFromPoint(doc, x, y);\r\n\r\n\telm.style.zIndex = null;\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function isForwardSelection(selection)\r\n{\r\n\tconst {anchorNode, anchorOffset, focusNode, focusOffset} = selection;\r\n\tconst position = anchorNode.compareDocumentPosition(focusNode);\r\n\r\n\tif (position & DOCUMENT_POSITION_PRECEDING)\r\n\t\treturn false;\r\n\r\n\tif (position & DOCUMENT_POSITION_FOLLOWING)\r\n\t\treturn true;\r\n\r\n\tif (position === 0)\r\n\t\treturn anchorOffset <= focusOffset;\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function placeCaretAt(elm, offset = 0)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tlet currentNode;\r\n\tlet currentOffset = 0;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tcurrentOffset += currentNode.length;\r\n\r\n\t\tif (currentOffset < offset)\r\n\t\t\tcontinue;\r\n\r\n\t\tconst previousOffset = currentOffset - currentNode.length;\r\n\t\tconst realOffset = offset - previousOffset;\r\n\r\n\t\tconst range = document.createRange();\r\n\t\trange.setStart(currentNode, realOffset);\r\n\t\trange.collapse(true);\r\n\r\n\t\tconst selection = window.getSelection();\r\n\t\tselection.removeAllRanges();\r\n\t\tselection.addRange(range);\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport function placeCaretAtEdge(elm, atEnd = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\telm.focus();\r\n\r\n\t\tif (atEnd)\r\n\t\t\telm.selectionStart = elm.selectionEnd = elm.value.length;\r\n\t\telse\r\n\t\t\telm.selectionStart = elm.selectionEnd = 0;\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!elm.isContentEditable)\r\n\t\treturn;\r\n\r\n\tlet target = elm[atEnd ? \"lastChild\" : \"firstChild\"];\r\n\r\n\tif (!target)\r\n\t{\r\n\t\ttarget = document.createTextNode(\"\");\r\n\t\telm.appendChild(target);\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\tconst range = document.createRange();\r\n\r\n\trange.selectNodeContents(target);\r\n\trange.collapse(!atEnd);\r\n\r\n\tselection.removeAllRanges();\r\n\tselection.addRange(range);\r\n}\r\n\r\nfunction createNodeIterator(node)\r\n{\r\n\treturn document.createNodeIterator(node, NodeFilter.SHOW_TEXT, {\r\n\r\n\t\tacceptNode()\r\n\t\t{\r\n\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t}\r\n\r\n\t});\r\n}\r\n","export function handleComponentError(err, component = undefined, data = undefined)\r\n{\r\n\tconsole.error(`${component ? `Got a selection error in component ${component}` : \"Got a selection error\"}: ${err.message}`);\r\n\r\n\tif (data)\r\n\t\tconsole.dir(data);\r\n}\r\n","export function createElement(tag, props = undefined, content = undefined)\r\n{\r\n\tif (typeof props !== \"object\" && content === undefined)\r\n\t{\r\n\t\tcontent = props;\r\n\t\tprops = {};\r\n\t}\r\n\r\n\tconst el = document.createElement(tag);\r\n\r\n\tif (props.class)\r\n\t{\r\n\t\tif (typeof props.class === \"string\")\r\n\t\t\tel.classList.add(...props.class.split(\" \").filter(t => t.trim() !== \"\"));\r\n\t\telse\r\n\t\t\tel.classList.add(...props.class);\r\n\t}\r\n\r\n\tif (props.domProps)\r\n\t{\r\n\t\tfor (let prop in props.domProps)\r\n\t\t{\r\n\t\t\tconst val = props.domProps[prop];\r\n\r\n\t\t\tif (val === undefined)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (prop === \"innerHTML\")\r\n\t\t\t\tcontent = val;\r\n\t\t\telse\r\n\t\t\t\tel.setAttribute(prop, val);\r\n\t\t}\r\n\t}\r\n\r\n\tif (props.style)\r\n\t\tfor (let prop in props.style)\r\n\t\t\tel.style[prop] = props.style[prop];\r\n\r\n\tif (content !== undefined)\r\n\t{\r\n\t\tif (typeof content === \"string\")\r\n\t\t{\r\n\t\t\tel.innerHTML = content;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (let child of content)\r\n\t\t\t\tel.appendChild(child);\r\n\t\t}\r\n\t}\r\n\r\n\treturn el;\r\n}\r\n","import { swapBlocks } from \"./helper/animation\";\r\nimport { entriesAreDifferent } from \"./helper/array\";\r\nimport { placeCaretAtEdge } from \"./helper/selection\";\r\nimport { defaultFocusOptions } from \"./block\";\r\nimport { BlockRegistry } from \"./registry\";\r\nimport { getLatte } from \"./utils\";\r\nimport { handleComponentError } from \"./helper/error\";\r\nimport { createElement } from \"./create-element\";\r\n\r\nlet blockToFocus = undefined;\r\nlet blocksToUpdateChildren = [];\r\nlet blocksToUpdateEditor = [];\r\nlet isTransaction = false;\r\n\r\nexport class BlockEntry\r\n{\r\n\r\n\t#hash;\r\n\t#block;\r\n\t#editor;\r\n\t#id;\r\n\t#depth;\r\n\t#index;\r\n\t#children;\r\n\t#options;\r\n\t#parent;\r\n\r\n\t#node;\r\n\r\n\t#isRemoving = false;\r\n\t#isSelected = false;\r\n\t#isSwapping = false;\r\n\r\n\tget hash()\r\n\t{\r\n\t\treturn this.#hash;\r\n\t}\r\n\r\n\tget block()\r\n\t{\r\n\t\treturn this.#block;\r\n\t}\r\n\r\n\tget editor()\r\n\t{\r\n\t\treturn this.#editor;\r\n\t}\r\n\r\n\tget id()\r\n\t{\r\n\t\treturn this.#id;\r\n\t}\r\n\r\n\tget depth()\r\n\t{\r\n\t\treturn this.#depth;\r\n\t}\r\n\r\n\tget index()\r\n\t{\r\n\t\treturn this.#index;\r\n\t}\r\n\r\n\tget children()\r\n\t{\r\n\t\treturn this.#children;\r\n\t}\r\n\r\n\tget options()\r\n\t{\r\n\t\treturn this.#options;\r\n\t}\r\n\r\n\tget nextSibbling()\r\n\t{\r\n\t\treturn this.getRelative(1);\r\n\t}\r\n\r\n\tget previousSibbling()\r\n\t{\r\n\t\treturn this.getRelative(-1);\r\n\t}\r\n\r\n\tget context()\r\n\t{\r\n\t\treturn this.#node ? this.#node.context : undefined;\r\n\t}\r\n\r\n\tget element()\r\n\t{\r\n\t\treturn this.#node ? this.#node.elm : undefined;\r\n\t}\r\n\r\n\tget parent()\r\n\t{\r\n\t\treturn this.#parent;\r\n\t}\r\n\r\n\tget isFirst()\r\n\t{\r\n\t\treturn this.#parent ? this.index === 0 : false;\r\n\t}\r\n\r\n\tget isLast()\r\n\t{\r\n\t\treturn this.#parent ? this.index === this.#parent.children.length - 1 : false;\r\n\t}\r\n\r\n\tget isRemoving()\r\n\t{\r\n\t\treturn this.#isRemoving;\r\n\t}\r\n\r\n\tget isSelected()\r\n\t{\r\n\t\treturn this.#block.id !== \"root\" && (this.#isSelected || (this.#block.canHaveChildren && this.#children.filter(c => c.isSelected).length > 0));\r\n\t}\r\n\r\n\tconstructor(editor, index, id, options, children = [], parent = undefined)\r\n\t{\r\n\t\tthis.#block = BlockRegistry.findById(id) || BlockRegistry.findById(\"missing\");\r\n\t\tthis.#editor = editor;\r\n\t\tthis.#id = id;\r\n\t\tthis.#depth = parent ? parent.#block.canHaveGroups ? parent.depth : parent.depth + 1 : 0;\r\n\t\tthis.#index = index;\r\n\t\tthis.#options = Object.assign({}, this.#block.defaultOptions, options);\r\n\t\tthis.#parent = parent;\r\n\r\n\t\tif (this.#block.canHaveGroups)\r\n\t\t\tchildren = children.map(g => ({\r\n\t\t\t\tid: this.#block.groupBlock,\r\n\t\t\t\tchildren: g\r\n\t\t\t}));\r\n\r\n\t\tif (this.#block.canHaveChildren)\r\n\t\t\tthis.#children = convertBlocks(this.#editor, children, this);\r\n\t\telse\r\n\t\t\tthis.#children = undefined;\r\n\r\n\t\tthis.#editor.$on(\"be:reset-block-selection\", () => this.select(false));\r\n\r\n\t\tthis.calculateHash();\r\n\t}\r\n\r\n\tcalculateHash()\r\n\t{\r\n\t\tthis.#hash = performance.now();\r\n\t}\r\n\r\n\tdata()\r\n\t{\r\n\t\tconst data = {\r\n\t\t\tid: this.#id,\r\n\t\t\toptions: this.#options\r\n\t\t};\r\n\r\n\t\tif (this.#block.canHaveGroups)\r\n\t\t\tdata.children = this.#children.map(c => c.children.map(d => d.data()));\r\n\t\telse if (this.#block.canHaveChildren)\r\n\t\t\tdata.children = this.#children.map(c => c.data());\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tnextTick(fn)\r\n\t{\r\n\t\tif (this.context)\r\n\t\t\tthis.context.$nextTick(fn);\r\n\t}\r\n\r\n\traf(fn)\r\n\t{\r\n\t\tgetLatte().util.dom.raf(fn);\r\n\t}\r\n\r\n\ttransaction(fn)\r\n\t{\r\n\t\tisTransaction = true;\r\n\r\n\t\tfn();\r\n\r\n\t\tisTransaction = false;\r\n\r\n\t\twhile (blocksToUpdateEditor.length > 0)\r\n\t\t\tblocksToUpdateEditor.shift().updateEditor();\r\n\r\n\t\twhile (blocksToUpdateChildren.length > 0)\r\n\t\t\tblocksToUpdateChildren.shift().updateChildren();\r\n\r\n\t\tif (blockToFocus)\r\n\t\t{\r\n\t\t\tblockToFocus[0].focus(blockToFocus[1], blockToFocus[2]);\r\n\t\t\tblockToFocus = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tfocus(options = defaultFocusOptions, fn = undefined)\r\n\t{\r\n\t\tif (isTransaction)\r\n\t\t\treturn blockToFocus = [this, options, fn];\r\n\r\n\t\toptions = Object.assign(defaultFocusOptions, options || {});\r\n\r\n\t\tconst withElement = elm =>\r\n\t\t{\r\n\t\t\tthis.editor.selection.removeAllRanges();\r\n\r\n\t\t\telm.click();\r\n\t\t\telm.focus();\r\n\r\n\t\t\tif (!elm.isContentEditable)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (options.select)\r\n\t\t\t{\r\n\t\t\t\tif (options.selectAll === false)\r\n\t\t\t\t\tplaceCaretAtEdge(elm, options.placeAtEnd);\r\n\t\t\t\telse\r\n\t\t\t\t\tdocument.execCommand(\"selectAll\");\r\n\t\t\t}\r\n\r\n\t\t\tif (fn)\r\n\t\t\t\tfn(elm);\r\n\t\t};\r\n\r\n\t\tif (this.element)\r\n\t\t\treturn withElement(this.element);\r\n\r\n\t\tthis.raf(() =>\r\n\t\t{\r\n\t\t\tif (!this.element)\r\n\t\t\t\treturn handleComponentError(new Error(\"Cannot focus, block element is undefined.\"), \"api/focus\", {block: this});\r\n\r\n\t\t\twithElement(this.element);\r\n\t\t});\r\n\t}\r\n\r\n\tgetRelative(dir)\r\n\t{\r\n\t\treturn this.#parent.children[this.#index + dir] || undefined;\r\n\t}\r\n\r\n\tinsertBlock(id, index = undefined, options = {}, focusOptions = defaultFocusOptions, parent = undefined)\r\n\t{\r\n\t\tthis.insertBlocks([{id, options}], index, focusOptions, true, parent);\r\n\t}\r\n\r\n\tinsertBlocks(spec, index = undefined, focusOptions = defaultFocusOptions, focusLast = true, parent = undefined)\r\n\t{\r\n\t\tparent = parent || this.#parent;\r\n\r\n\t\tconst blocks = convertBlocks(this.#editor, spec, parent);\r\n\t\tconst children = parent.children;\r\n\r\n\t\tif (index === undefined)\r\n\t\t\tchildren.push(...blocks);\r\n\t\telse\r\n\t\t\tchildren.splice(index, 0, ...blocks);\r\n\r\n\t\tparent.setChildren(children, true);\r\n\r\n\t\tif (!focusOptions)\r\n\t\t\treturn;\r\n\r\n\t\tblocks[focusLast ? blocks.length - 1 : 0].focus(focusOptions);\r\n\t}\r\n\r\n\trearrange(dir, animate = true)\r\n\t{\r\n\t\tif (this.#isRemoving || this.#isSwapping)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#isSwapping = true;\r\n\r\n\t\tconst children = this.#parent.children;\r\n\t\tconst self = children[this.#index];\r\n\t\tconst other = children[this.#index + dir];\r\n\t\tconst L = getLatte();\r\n\r\n\t\tconst rearrange = () =>\r\n\t\t{\r\n\t\t\tchildren.splice(this.#index + dir, 0, children.splice(this.#index, 1)[0]);\r\n\r\n\t\t\tthis.#parent.setChildren(children, true);\r\n\t\t\tthis.nextTick(() => this.focus());\r\n\r\n\t\t\tthis.#isSwapping = false;\r\n\t\t};\r\n\r\n\t\tif (!self || !other)\r\n\t\t\treturn;\r\n\r\n\t\tif (!animate)\r\n\t\t\treturn rearrange();\r\n\r\n\t\tconst selfElement = L.util.dom.closest(self.element, \".be-block-mount\");\r\n\t\tconst otherElement = L.util.dom.closest(other.element, \".be-block-mount\");\r\n\r\n\t\tswapBlocks({\r\n\t\t\tfirstElement: selfElement,\r\n\t\t\tsecondElement: otherElement,\r\n\t\t\tscrollingContainer: L.util.dom.closest(selfElement, \".be-content-mount\"),\r\n\t\t\traf: L.util.dom.raf\r\n\t\t}, () => rearrange());\r\n\t}\r\n\r\n\tremove(focusSibbling = true)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#isRemoving = true;\r\n\r\n\t\tif (focusSibbling)\r\n\t\t{\r\n\t\t\tif (this.previousSibbling)\r\n\t\t\t\tthis.previousSibbling.focus();\r\n\t\t\telse if (this.nextSibbling)\r\n\t\t\t\tthis.nextSibbling.focus();\r\n\t\t\telse\r\n\t\t\t\tthis.editor.onEditorClick();\r\n\t\t}\r\n\r\n\t\tconst children = this.#parent.children;\r\n\t\tchildren.splice(this.#index, 1);\r\n\r\n\t\tthis.#parent.setChildren(children, true);\r\n\t}\r\n\r\n\tselect(is = true)\r\n\t{\r\n\t\tif (this.#isRemoving || this.#isSelected === is)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#isSelected = is;\r\n\t\tthis.updateEditor(false, true);\r\n\t}\r\n\r\n\tsetChildren(children, updateIndices = false, fn = undefined)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#children = children;\r\n\r\n\t\tif (updateIndices)\r\n\t\t\tthis.#children.forEach((child, index) => child.#index = index);\r\n\r\n\t\tthis.calculateHash();\r\n\t\tthis.updateChildren();\r\n\r\n\t\tif (fn)\r\n\t\t\tfn();\r\n\t}\r\n\r\n\tsetOptions(options, fn = undefined)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tif (!entriesAreDifferent(this.#options, options))\r\n\t\t{\r\n\t\t\tif (fn)\r\n\t\t\t\tfn();\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.#options = Object.assign({}, this.#options, options);\r\n\t\tthis.calculateHash();\r\n\t\tthis.updateEditor();\r\n\r\n\t\tif (fn)\r\n\t\t\tfn();\r\n\t}\r\n\r\n\trender(h)\r\n\t{\r\n\t\treturn this.block.render(h, this);\r\n\t}\r\n\r\n\trenderEditor(h)\r\n\t{\r\n\t\treturn this.#node = this.block.renderEditor(h, this);\r\n\t}\r\n\r\n\tupdateChildren()\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tif (isTransaction)\r\n\t\t\treturn blocksToUpdateChildren.push(this);\r\n\r\n\t\tif (!this.context)\r\n\t\t\treturn;\r\n\r\n\t\tthis.#editor.onInput();\r\n\r\n\t\tconst blocks = this.context.$children.find(c => c.$options.name === \"BEBlocks\");\r\n\r\n\t\tif (blocks)\r\n\t\t\tblocks.updateBlocks();\r\n\t}\r\n\r\n\tupdateEditor(dataUpdate = true, bubble = false)\r\n\t{\r\n\t\tif (this.#isRemoving)\r\n\t\t\treturn;\r\n\r\n\t\tif (isTransaction)\r\n\t\t\treturn blocksToUpdateEditor.push(this);\r\n\r\n\t\tif (bubble && this.#parent)\r\n\t\t\tthis.#parent.updateEditor(dataUpdate, bubble);\r\n\r\n\t\tif (dataUpdate)\r\n\t\t\tthis.#editor.onInput();\r\n\r\n\t\tif (this.context)\r\n\t\t\tthis.context.$forceUpdate();\r\n\t}\r\n\r\n}\r\n\r\nexport function convertBlock(editor, index, block, parent = undefined)\r\n{\r\n\treturn new BlockEntry(editor, index, block.id, block.options, block.children || [], parent);\r\n}\r\n\r\nexport function convertBlocks(editor, blocks, parent = undefined)\r\n{\r\n\treturn blocks.map((block, index) => convertBlock(editor, index, block, parent));\r\n}\r\n\r\nexport function convertToBlocks(editor, data)\r\n{\r\n\treturn new BlockEntry(editor, -1, \"root\", {}, data);\r\n}\r\n\r\nexport function convertToData(root)\r\n{\r\n\treturn root.children\r\n\t\t.filter(entry => entry !== undefined)\r\n\t\t.map(entry => entry.data());\r\n}\r\n\r\nexport function convertToHtml(root)\r\n{\r\n\tconst tmp = document.createElement(\"div\");\r\n\r\n\trenderChildren(root)\r\n\t\t.forEach(dom => tmp.appendChild(dom));\r\n\r\n\treturn tmp.innerHTML;\r\n}\r\n\r\nexport function convertToJson(root)\r\n{\r\n\treturn JSON.stringify(convertToData(root));\r\n}\r\n\r\nexport function renderChildren(entry)\r\n{\r\n\treturn entry.children\r\n\t\t.map(child => child.render(createElement))\r\n\t\t.filter(dom => !!dom);\r\n}\r\n","<template>\r\n\r\n\t<div class=\"be-block-actions\" @click.stop>\r\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.rearrange(-1)\" :disabled=\"entry.isFirst\"><i class=\"mdi mdi-arrow-up\"></i></button>\r\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.rearrange(1)\" :disabled=\"entry.isLast\"><i class=\"mdi mdi-arrow-down\"></i></button>\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.remove()\"><i class=\"mdi mdi-delete\"></i></button>\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { BlockEntry } from \"./api\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEBlockActions\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEBlockActions.vue?vue&type=template&id=5a023ae2&\"\nimport script from \"./BEBlockActions.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlockActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-group\"},[_c('div',{staticClass:\"be-settings-header\",on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen}}},[_c('div',{staticClass:\"be-settings-group-label\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(_vm.title)))]),(_vm.depth > -1)?_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Level @0\",_vm.depth)))]):_vm._e()]),_vm._t(\"header\"),_c('i',{staticClass:\"mdi\",class:{'mdi-chevron-down': !_vm.isOpen && _vm.hasBody, 'mdi-chevron-up': _vm.isOpen && _vm.hasBody}})],2),(_vm.isOpen && _vm.hasBody)?_c('div',{staticClass:\"be-settings-body\",class:{'padded': _vm.padded}},[_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-settings-group\">\r\n\t\t<div class=\"be-settings-header\" @click=\"isOpen = !isOpen\">\r\n\t\t\t<div class=\"be-settings-group-label\">\r\n\t\t\t\t<span>{{ title | beTranslate }}</span>\r\n\t\t\t\t<span v-if=\"depth > -1\">{{ \"Level @0\" | beTranslate(depth) }}</span>\r\n\t\t\t</div>\r\n\t\t\t<slot name=\"header\"></slot>\r\n\t\t\t<i class=\"mdi\" :class=\"{'mdi-chevron-down': !isOpen && hasBody, 'mdi-chevron-up': isOpen && hasBody}\"></i>\r\n\t\t</div>\r\n\t\t<div class=\"be-settings-body\" :class=\"{'padded': padded}\" v-if=\"isOpen && hasBody\">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { translate } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BESettingsGroup\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tprops: {\r\n\t\t\tdepth: {default: -1, type: Number},\r\n\t\t\topened: {default: true, type: Boolean},\r\n\t\t\tpadded: {default: false, type: Boolean},\r\n\t\t\ttitle: {default: \"Unknown group\", required: true, type: String}\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tisOpen: this.opened\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\thasBody()\r\n\t\t\t{\r\n\t\t\t\treturn this.$slots.default;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\r\n\t\t\topened()\r\n\t\t\t{\r\n\t\t\t\tthis.isOpen = this.opened;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BESettingsGroup.vue?vue&type=template&id=142deeca&\"\nimport script from \"./BESettingsGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./BESettingsGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import BEBlockActions from \"../BEBlockActions\";\r\nimport BESettingsGroup from \"../BESettingsGroup\";\r\n\r\nexport function blockActions(h, entry)\r\n{\r\n\treturn h(BEBlockActions, {props: {entry}, slot: \"header\"});\r\n}\r\n\r\nexport function optional(condition, fn, defaultValue = undefined)\r\n{\r\n\tif (!condition)\r\n\t\treturn defaultValue;\r\n\r\n\treturn fn();\r\n}\r\n\r\nexport function radioButtons(h, title, getValue, setValue, name, options)\r\n{\r\n\treturn h(\"div\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", title),\r\n\t\toptions.map(option => h(\"label\", {class: \"d-flex align-items-center my-1 w-100\"}, [\r\n\t\t\th(\"input\", {\r\n\t\t\t\tclass: \"radio-button radio-button-primary mr-3\",\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tchecked: getValue() === option.id,\r\n\t\t\t\t\ttype: \"radio\",\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tvalue: option.id\r\n\t\t\t\t},\r\n\t\t\t\ton: {\r\n\t\t\t\t\tclick: () => setValue(option.id)\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\th(\"span\", {class: \"m-0\"}, option.label)\r\n\t\t]))\r\n\t])\r\n}\r\n\r\nexport function rangeField(h, title, getValue, setValue, min = 0, max = 1, step = 0.1)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"div\", [\r\n\t\t\th(\"input\", {\r\n\t\t\t\tclass: \"custom-range\",\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tmin,\r\n\t\t\t\t\tmax,\r\n\t\t\t\t\tstep,\r\n\t\t\t\t\tvalue: getValue(),\r\n\t\t\t\t\ttype: \"range\"\r\n\t\t\t\t},\r\n\t\t\t\ton: {\r\n\t\t\t\t\tinput: evt => setValue(parseInt(evt.target.value))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t])\r\n\t]);\r\n}\r\n\r\nexport function settingsGroup(h, title, children)\r\n{\r\n\treturn h(BESettingsGroup, {props: {title}}, children);\r\n}\r\n\r\nexport function settingsGroupWithDepth(h, depth, title, children)\r\n{\r\n\treturn h(BESettingsGroup, {props: {title, depth}}, children);\r\n}\r\n\r\nexport function textField(h, title, getValue, setValue)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"input\", {\r\n\t\t\tclass: \"form-control\",\r\n\t\t\tdomProps: {\r\n\t\t\t\ttype: \"text\",\r\n\t\t\t\tvalue: getValue()\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\tinput: evt => setValue(evt.target.value)\r\n\t\t\t}\r\n\t\t})\r\n\t]);\r\n}\r\n\r\nexport function toggleButton(h, title, getValue, setValue)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"input\", {\r\n\t\t\tclass: \"toggle-button toggle-button-primary\",\r\n\t\t\tdomProps: {\r\n\t\t\t\tchecked: getValue(),\r\n\t\t\t\ttype: \"checkbox\"\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\tinput: evt => setValue(evt.target.checked)\r\n\t\t\t}\r\n\t\t})\r\n\t]);\r\n}\r\n","import { IconButton, IconToggleButton } from \"./icon-button\";\r\nimport { optional, textField } from \"./settings\";\r\nimport { getLatte, translate } from \"../utils\";\r\n\r\nexport function commandIconToggleButton(h, executeAndFocus, entry, icon, command)\r\n{\r\n\treturn h(IconToggleButton, {\r\n\t\tprops: {\r\n\t\t\ticon,\r\n\t\t\tcan: () => document.queryCommandEnabled(command),\r\n\t\t\tpress: () => executeAndFocus(entry, () => document.execCommand(command)),\r\n\t\t\tpressed: () => document.queryCommandState(command)\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function functionIconButton(h, executeAndFocus, entry, icon, onClick, disabled = false)\r\n{\r\n\treturn h(IconButton, {\r\n\t\tprops: {\r\n\t\t\ticon,\r\n\t\t\tdisabled: disabled,\r\n\t\t\tpress: () => executeAndFocus(entry, onClick)\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function functionIconToggleButton(h, executeAndFocus, entry, icon, onClick, isPressed)\r\n{\r\n\treturn h(IconToggleButton, {\r\n\t\tprops: {\r\n\t\t\ticon,\r\n\t\t\tcan: () => true,\r\n\t\t\tpress: () => executeAndFocus(entry, onClick),\r\n\t\t\tpressed: isPressed\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function button(h, options, fn)\r\n{\r\n\tconst classes = [\"btn\", `btn-${options.style || \"contained\"}`];\r\n\r\n\tif (options.icon && !options.label)\r\n\t\tclasses.push(\"btn-icon\");\r\n\r\n\tif (options.color)\r\n\t\tclasses.push(`btn-${options.color}`);\r\n\r\n\tif (options.class)\r\n\t\tclasses.push(options.class);\r\n\r\n\tlet params = {\r\n\t\tattrs: {},\r\n\t\tclass: classes,\r\n\t\ton: {click: fn}\r\n\t};\r\n\r\n\tif (options.tooltip)\r\n\t\tparams.attrs[\"data-tooltip\"] = options.tooltip;\r\n\r\n\treturn h(\"button\", params, [\r\n\t\toptional(options.icon, () => icon(h, options.icon)),\r\n\t\toptional(options.label, () => h(\"span\", options.label))\r\n\t]);\r\n}\r\n\r\nexport function divider(h, vertical = false)\r\n{\r\n\treturn h(\"div\", {\r\n\t\tclass: `divider divider-${vertical ? \"vertical\" : \"horizontal\"}`\r\n\t});\r\n}\r\n\r\nexport function icon(h, icon)\r\n{\r\n\treturn h(\"i\", {\r\n\t\tclass: `mdi mdi-${icon}`\r\n\t});\r\n}\r\n\r\nexport function optionAdditionalClasses(h, entry)\r\n{\r\n\treturn textField(h, translate(\"Additional classes\"), () => entry.options.class, classes => entry.setOptions({class: classes}));\r\n}\r\n\r\nexport function optionButtons(h, title, buttons, getValue, setValue)\r\n{\r\n\treturn h(\"div\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", title),\r\n\t\th(\"div\", {class: \"d-flex my-n1\"}, buttons.map(btn => button(h, {\r\n\t\t\t...btn,\r\n\t\t\tclass: \"m-0\",\r\n\t\t\tcolor: getValue() === btn.value ? \"primary\" : \"dark\",\r\n\t\t\tstyle: getValue() === btn.value ? \"contained\" : \"text\"\r\n\t\t}, () => setValue(btn.value))))\r\n\t]);\r\n}\r\n\r\nexport function optionTextColor(h, entry)\r\n{\r\n\treturn h(\"div\", {class: \"be-settings-row flex-column\"}, [\r\n\t\th(\"span\", translate(\"Color\")),\r\n\t\th(\"div\", {class: \"be-settings-text-colors\"}, entry.editor.colorPalette.map(color => h(\"button\", {\r\n\t\t\tattrs: {\"data-tooltip\": translate(color.name)},\r\n\t\t\tclass: `color ${color.value === entry.options.color ? \"is-active\" : \"\"}`,\r\n\t\t\tstyle: {color: color.value},\r\n\t\t\ton: {click: () => entry.setOptions({color: entry.options.color === color.value ? undefined : color.value})}\r\n\t\t})))\r\n\t])\r\n}\r\n\r\nexport function optionTextSize(h, entry, min = 0.7, max = 3, step = 0.1)\r\n{\r\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\r\n\t\th(\"span\", translate(\"Size\")),\r\n\t\th(\"div\", [\r\n\t\t\th(\"input\", {\r\n\t\t\t\tclass: \"custom-range\",\r\n\t\t\t\tdomProps: {min, max, step, value: entry.options.fontSize, type: \"range\"},\r\n\t\t\t\ton: {\r\n\t\t\t\t\t\"!mouseup\": () => getLatte().action.dispatch(\"latte:tooltip:hide\"),\r\n\t\t\t\t\tinput: evt =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst fontSize = parseFloat(evt.target.value);\r\n\t\t\t\t\t\tconst latte = getLatte();\r\n\t\t\t\t\t\tconst {top, left, width} = evt.target.getBoundingClientRect();\r\n\t\t\t\t\t\tconst p = (fontSize - min) / (max - min);\r\n\r\n\t\t\t\t\t\tlatte.action.dispatch(\"latte:tooltip\", {\r\n\t\t\t\t\t\t\tx: left + (p * (width - 24)) + 12,\r\n\t\t\t\t\t\t\ty: top,\r\n\t\t\t\t\t\t\tclasses: [\"tooltip-top\"],\r\n\t\t\t\t\t\t\tcontent: `${fontSize}rem`,\r\n\t\t\t\t\t\t\tposition: null\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tentry.setOptions({fontSize});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t])\r\n\t])\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { translate } from \"../utils\";\r\nimport { icon } from \"../primitive/element\";\r\n\r\nexport class MissingBlock extends BlockBase\r\n{\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"missing\", \"\", \"\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"notice notice-error notice-outline mb-3\"}, [\r\n\t\t\ticon(h, \"alert-circle\"),\r\n\t\t\th(\"div\", {class: \"d-flex flex-column\"}, [\r\n\t\t\t\th(\"strong\", translate(\"Missing block\")),\r\n\t\t\t\th(\"span\", translate(\"Block @0 is missing from the library. It won't be included in the rendered content.\", entry.id))\r\n\t\t\t])\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","var render, staticRenderFns\nimport script from \"./BEBlockMount.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlockMount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./BEBlocks.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlocks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-inserter be-inserter-expanded\",on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"mdi mdi-plus-circle-outline\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Add block\")))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",attrs:{\"associate-with\":_vm.assiciatedElement,\"margin-x\":_vm.marginX,\"margin-y\":_vm.marginY},on:{\"close\":_vm.onClose,\"open\":_vm.onOpen}},[_c('div',{staticClass:\"be-inserter be-inserter-popup\"},_vm._l((_vm.blocksCategorized),function(category){return _c('div',{staticClass:\"be-inserter-category\"},[_c('div',{staticClass:\"be-inserter-header\",class:{'is-open': (_vm.currentCategory === category.id)},on:{\"click\":function($event){_vm.currentCategory = category.id}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (category.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(category.name)))]),_c('i',{staticClass:\"mdi\",class:{'mdi-chevron-down': !(_vm.currentCategory === category.id), 'mdi-chevron-up': (_vm.currentCategory === category.id)}})]),(_vm.currentCategory === category.id)?_c('div',{staticClass:\"be-inserter-body\"},[(category.blocks.length > 0)?_vm._l((category.blocks),function(block){return _c('button',{staticClass:\"be-inserter-block\",on:{\"click\":function($event){return _vm.select(block.id)}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (block.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])])}):[_c('div',{staticClass:\"be-inserter-empty\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"There are no blocks in this category.\")))])])]],2):_vm._e()])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<latte-popup ref=\"popup\" :associate-with=\"assiciatedElement\" :margin-x=\"marginX\" :margin-y=\"marginY\" @close=\"onClose\" @open=\"onOpen\">\r\n\r\n\t\t<div class=\"be-inserter be-inserter-popup\">\r\n\t\t\t<div class=\"be-inserter-category\" v-for=\"category of blocksCategorized\">\r\n\r\n\t\t\t\t<div class=\"be-inserter-header\" :class=\"{'is-open': (currentCategory === category.id)}\" @click=\"currentCategory = category.id\">\r\n\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${category.icon}`\"></i>\r\n\t\t\t\t\t<span>{{ category.name | beTranslate }}</span>\r\n\t\t\t\t\t<i class=\"mdi\" :class=\"{'mdi-chevron-down': !(currentCategory === category.id), 'mdi-chevron-up': (currentCategory === category.id)}\"></i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"be-inserter-body\" v-if=\"currentCategory === category.id\">\r\n\t\t\t\t\t<template v-if=\"category.blocks.length > 0\">\r\n\r\n\t\t\t\t\t\t<button class=\"be-inserter-block\" @click=\"select(block.id)\" v-for=\"block of category.blocks\">\r\n\t\t\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${block.icon}`\"></i>\r\n\t\t\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\r\n\t\t\t\t\t\t<div class=\"be-inserter-empty\">\r\n\t\t\t\t\t\t\t<span>{{ \"There are no blocks in this category.\" | beTranslate }}</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</latte-popup>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\timport { BlockRegistry, CategoryRegistry } from \"./registry\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEInserterPopup\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tassiciatedElement: undefined,\r\n\t\t\t\tcurrentCategory: null,\r\n\t\t\t\teditor: editorInstance(this),\r\n\t\t\t\tfn: undefined,\r\n\t\t\t\tisOpen: false,\r\n\t\t\t\tmarginX: 0,\r\n\t\t\t\tmarginY: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tblocksCategorized()\r\n\t\t\t{\r\n\t\t\t\treturn CategoryRegistry.categories.map(c =>\r\n\t\t\t\t{\r\n\t\t\t\t\tc.blocks = BlockRegistry.blocks\r\n\t\t\t\t\t\t.filter(b => b.category === c.id)\r\n\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClose()\r\n\t\t\t{\r\n\t\t\t\tthis.assiciatedElement = undefined;\r\n\t\t\t\tthis.isOpen = false;\r\n\t\t\t},\r\n\r\n\t\t\tonOpen()\r\n\t\t\t{\r\n\t\t\t\tthis.currentCategory = this.currentCategory || CategoryRegistry.categories[0].id;\r\n\t\t\t\tthis.isOpen = true;\r\n\t\t\t},\r\n\r\n\t\t\topen(associateWith, fn, marginX = 0, marginY = 0)\r\n\t\t\t{\r\n\t\t\t\tthis.assiciatedElement = associateWith;\r\n\t\t\t\tthis.fn = fn;\r\n\t\t\t\tthis.marginX = marginX;\r\n\t\t\t\tthis.marginY = marginY;\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tthis.$refs.popup.close();\r\n\r\n\t\t\t\tif (this.fn)\r\n\t\t\t\t\tthis.fn(id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterPopup.vue?vue&type=template&id=62cb1ee2&\"\nimport script from \"./BEInserterPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterPopup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<div class=\"be-inserter be-inserter-expanded\" @click=\"onClick\">\r\n\t\t<i class=\"mdi mdi-plus-circle-outline\"></i>\r\n\t\t<span>{{ \"Add block\" | beTranslate }}</span>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEInserterExpanded\",\r\n\r\n\t\tcomponents: {\r\n\t\t\tBEInserterPopup\r\n\t\t},\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClick()\r\n\t\t\t{\r\n\t\t\t\teditorInstance(this).inserter.open(this.$el.querySelector(\"i.mdi\"), id => this.select(id), -15, 9);\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tthis.$emit(\"select\", id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterExpanded.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterExpanded.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterExpanded.vue?vue&type=template&id=28a92cd9&\"\nimport script from \"./BEInserterExpanded.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterExpanded.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-inserter be-inserter-mini\"},[_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",class:{'is-open': _vm.isOpen},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"mdi mdi-plus\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-inserter be-inserter-mini\">\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" :class=\"{'is-open': isOpen}\" @click=\"onClick\">\r\n\t\t\t<i class=\"mdi mdi-plus\"></i>\r\n\t\t</button>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\timport { editorInstance } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {BEInserterPopup},\r\n\r\n\t\tname: \"BEInserterMini\",\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tisOpen: false\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClick()\r\n\t\t\t{\r\n\t\t\t\teditorInstance(this).inserter.open(this.$el.querySelector(\"i.mdi\"), id => this.select(id), -15);\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tthis.$emit(\"select\", id);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterMini.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterMini.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterMini.vue?vue&type=template&id=59d7873e&\"\nimport script from \"./BEInserterMini.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterMini.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\n\r\n\timport BEInserterMini from \"./BEInserterMini\";\r\n\timport { handleComponentError } from \"./helper/error\";\r\n\timport { divider, icon } from \"./primitive/element\";\r\n\timport { getLatte } from \"./utils\";\r\n\timport { BlockEntry } from \"./api\";\r\n\r\n\tconst L = getLatte();\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEBlockMount\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tisFirst: this.entry.isFirst,\r\n\t\t\t\tisLast: this.entry.isLast,\r\n\t\t\t\tisSelected: this.entry.isSelected,\r\n\t\t\t\th: 0,\r\n\t\t\t\tw: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tthis.onUpdate();\r\n\t\t},\r\n\r\n\t\trender(h)\r\n\t\t{\r\n\t\t\tif (this.entry.parent && this.entry.parent.block.canHaveGroups)\r\n\t\t\t\treturn this.entry.renderEditor(h);\r\n\r\n\t\t\treturn h(\"div\", {class: this.classes, style: this.styles, on: {click: evt => this.onClick(evt)}}, [\r\n\t\t\t\tthis.renderInserter(h, this.entry.index === 0, this.entry.index, \"top\"),\r\n\t\t\t\tthis.renderInserter(h, true, this.entry.index, \"bottom\"),\r\n\t\t\t\tthis.renderOptions(h),\r\n\t\t\t\tthis.renderOptionsSide(h),\r\n\t\t\t\tthis.entry.renderEditor(h)\r\n\t\t\t]);\r\n\t\t},\r\n\r\n\t\tupdated()\r\n\t\t{\r\n\t\t\tthis.onUpdate();\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tclasses()\r\n\t\t\t{\r\n\t\t\t\tconst classes = [\"be-block-mount\", `be-block-${this.entry.block.id}`, \"be-editing\"];\r\n\r\n\t\t\t\tif (this.isSelected)\r\n\t\t\t\t\tclasses.push(\"is-selected\");\r\n\r\n\t\t\t\tif (this.isFirst)\r\n\t\t\t\t\tclasses.push(\"is-first\");\r\n\r\n\t\t\t\tif (this.isLast)\r\n\t\t\t\t\tclasses.push(\"is-last\");\r\n\r\n\t\t\t\treturn classes;\r\n\t\t\t},\r\n\r\n\t\t\tstyles()\r\n\t\t\t{\r\n\t\t\t\treturn {\r\n\t\t\t\t\t\"--editor-rect-h\": `${this.h}px`,\r\n\t\t\t\t\t\"--editor-rect-w\": `${this.w}px`\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonClick()\r\n\t\t\t{\r\n\t\t\t\tif (this.entry.isSelected)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.entry.select();\r\n\t\t\t},\r\n\r\n\t\t\tonUpdate()\r\n\t\t\t{\r\n\t\t\t\tthis.isFirst = this.entry.isFirst;\r\n\t\t\t\tthis.isLast = this.entry.isLast;\r\n\t\t\t\tthis.isSelected = this.entry.isSelected;\r\n\r\n\t\t\t\tif (!this.entry.isSelected)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tconst {height, width} = this.entry.block.calculateSelectionBorder(this.entry);\r\n\t\t\t\tthis.h = height;\r\n\t\t\t\tthis.w = width;\r\n\t\t\t},\r\n\r\n\t\t\trenderInserter(h, shouldRender, index, mode)\r\n\t\t\t{\r\n\t\t\t\tif (!shouldRender || this.entry.block.id === \"root\")\r\n\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\treturn h(BEInserterMini, {\r\n\t\t\t\t\tclass: mode,\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\tselect: id => this.entry.insertBlock(id, mode === \"top\" ? index : index + 1)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\trenderOptions(h)\r\n\t\t\t{\r\n\t\t\t\tconst {depth, isSelected} = this.entry;\r\n\r\n\t\t\t\tif (!isSelected)\r\n\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\treturn h(\"latte-portal\", {props: {depth, order: -depth, to: `be-settings-pane-${this.entry.editor.uniqueId}`}}, [\r\n\t\t\t\t\t\tthis.entry.block.renderOptions(h, this.entry)\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err)\r\n\t\t\t\t{\r\n\t\t\t\t\thandleComponentError(err, \"BEBlocks/renderOptions\", this.entry);\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trenderOptionsSide(h)\r\n\t\t\t{\r\n\t\t\t\tif (!this.entry.isSelected || this.entry.block.canHaveChildren)\r\n\t\t\t\t\treturn undefined;\r\n\r\n\t\t\t\treturn h(\"div\", {class: \"be-options-side\", on: {click: evt => L.util.dom.terminateEvent(evt)}}, [\r\n\r\n\t\t\t\t\th(\"button\", {\r\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\r\n\t\t\t\t\t\tdomProps: {disabled: this.entry.index === 0},\r\n\t\t\t\t\t\ton: {click: () => this.entry.rearrange(-1)}\r\n\t\t\t\t\t}, [icon(h, \"arrow-up\")]),\r\n\r\n\t\t\t\t\th(\"button\", {\r\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\r\n\t\t\t\t\t\tdomProps: {disabled: this.entry.index === this.entry.parent.children.length - 1},\r\n\t\t\t\t\t\ton: {click: () => this.entry.rearrange(1)}\r\n\t\t\t\t\t}, [icon(h, \"arrow-down\")]),\r\n\r\n\t\t\t\t\tdivider(h),\r\n\r\n\t\t\t\t\th(\"button\", {\r\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\r\n\t\t\t\t\t\ton: {click: () => this.entry.remove()}\r\n\t\t\t\t\t}, [icon(h, \"delete\")])\r\n\r\n\t\t\t\t])\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockMount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockMount.vue?vue&type=script&lang=js&\"","<script>\r\n\r\n\timport { BlockEntry } from \"./api\";\r\n\timport { getLatte } from \"./utils\";\r\n\r\n\timport BEInserterExpanded from \"./BEInserterExpanded\";\r\n\timport BEBlockMount from \"./BEBlockMount\";\r\n\r\n\tconst L = getLatte();\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEBlocks\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tblocks: this.entry.children || []\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\trender(h)\r\n\t\t{\r\n\t\t\treturn h(\r\n\t\t\t\t\"div\",\r\n\t\t\t\t{class: \"be-blocks\"},\r\n\t\t\t\tthis.blocks && this.blocks.length > 0 ? this.renderBlocks(h) : this.renderEmptyInserter(h)\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\trenderBlocks(h)\r\n\t\t\t{\r\n\t\t\t\treturn this.blocks.map(entry => h(BEBlockMount, {\r\n\t\t\t\t\tkey: entry.hash,\r\n\t\t\t\t\tprops: {entry}\r\n\t\t\t\t}));\r\n\t\t\t},\r\n\r\n\t\t\trenderEmptyInserter(h)\r\n\t\t\t{\r\n\t\t\t\treturn [\r\n\t\t\t\t\th(BEInserterExpanded, {\r\n\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\tselect: id =>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.entry.insertBlock(id, undefined, {}, {}, this.entry);\r\n\t\t\t\t\t\t\t\tthis.$forceUpdate();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t];\r\n\t\t\t},\r\n\r\n\t\t\tupdateBlocks()\r\n\t\t\t{\r\n\t\t\t\tthis.blocks = this.entry.children || [];\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlocks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlocks.vue?vue&type=script&lang=js&\"","import { BlockBase } from \"../block\";\r\nimport BEBlocks from \"../BEBlocks\";\r\n\r\nexport class RootBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"root\", \"\", \"\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { translate } from \"../utils\";\r\nimport { blockActions, settingsGroup, textField, toggleButton } from \"../primitive/settings\";\r\nimport { optionAdditionalClasses, optionButtons } from \"../primitive/element\";\r\n\r\nconst buttonSizes = [\r\n\t{value: \"sm\", icon: \"alpha-s\", tooltip: translate(\"Small\")},\r\n\t{value: \"md\", icon: \"alpha-m\", tooltip: translate(\"Medium\")},\r\n\t{value: \"lg\", icon: \"alpha-l\", tooltip: translate(\"Large\")}\r\n];\r\n\r\nconst buttonStyles = [\r\n\t{value: \"contained\", icon: \"alpha-a-box\", tooltip: translate(\"Solid\")},\r\n\t{value: \"outline\", icon: \"alpha-a-box-outline\", tooltip: translate(\"Outline\")},\r\n\t{value: \"text\", icon: \"alpha-a\", tooltip: translate(\"Text\")}\r\n];\r\n\r\nfunction getButtonClasses(options)\r\n{\r\n\tconst classes = [\"btn\", `btn-${options.type}`, options.class];\r\n\r\n\tif (options.pillButton)\r\n\t\tclasses.push(\"btn-pill\");\r\n\r\n\tif (options.size && options.size !== \"md\")\r\n\t\tclasses.push(`btn-${options.size}`);\r\n\r\n\treturn classes.filter(c => c.trim() !== \"\").join(\" \");\r\n}\r\n\r\nexport class ButtonBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\",\r\n\t\t\tpillButton: false,\r\n\t\t\trippleButton: false,\r\n\t\t\tsize: \"md\",\r\n\t\t\ttext: translate(\"Button\"),\r\n\t\t\ttype: \"contained\",\r\n\t\t\turl: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"A button that can link to an action or url.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"button\", \"link\", \"action\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Button\";\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"button\", \"layout\", \"card-text\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\r\n\t\t\tclass: getButtonClasses(entry.options),\r\n\t\t\tdomProps: {href: entry.options.url},\r\n\t\t\tprops: {as: \"button\"}\r\n\t\t}, [\r\n\t\t\th(\"span\", entry.options.text)\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\r\n\t\t\tclass: getButtonClasses(entry.options),\r\n\t\t\tprops: {as: \"button\"}\r\n\t\t}, [\r\n\t\t\th(\"span\", {\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tcontentEditable: \"plaintext-only\",\r\n\t\t\t\t\tinnerHTML: entry.options.text\r\n\t\t\t\t},\r\n\t\t\t\ton: {\r\n\t\t\t\t\tblur: evt => entry.setOptions({text: evt.target.innerText})\r\n\t\t\t\t},\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tminWidth: \"18px\"\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t]);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\ttoggleButton(h, translate(\"Ripple\"), () => entry.options.rippleButton, rippleButton => entry.setOptions({rippleButton})),\r\n\t\t\ttoggleButton(h, translate(\"Pill\"), () => entry.options.pillButton, pillButton => entry.setOptions({pillButton})),\r\n\t\t\toptionButtons(h, translate(\"Size\"), buttonSizes, () => entry.options.size, size => entry.setOptions({size})),\r\n\t\t\toptionButtons(h, translate(\"Style\"), buttonStyles, () => entry.options.type, type => entry.setOptions({type})),\r\n\t\t\ttextField(h, translate(\"URL\"), () => entry.options.url, url => entry.setOptions({url})),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import BEBlocks from \"../BEBlocks\";\r\n\r\nimport { convertBlock, renderChildren } from \"../api\";\r\nimport { BlockBase } from \"../block\";\r\nimport { notNullOrUndefined, translate } from \"../utils\";\r\nimport { blockActions, optional, rangeField, settingsGroupWithDepth, toggleButton } from \"../primitive/settings\";\r\nimport { optionAdditionalClasses } from \"../primitive/element\";\r\nimport { getElementDimensions, querySelector, querySelectorAll } from \"../helper/element\";\r\nimport { range } from \"../helper/array\";\r\n\r\nconst presets = [\r\n\t{\r\n\t\tcolumns: 2,\r\n\t\tclasses: [\r\n\t\t\t\"col-12 col-lg-4\",\r\n\t\t\t\"col-12 col-lg-8\"\r\n\t\t],\r\n\t\tpreview: [33, 67]\r\n\t},\r\n\t{\r\n\t\tcolumns: 2,\r\n\t\tclasses: [\r\n\t\t\t\"col-12 col-lg-8\",\r\n\t\t\t\"col-12 col-lg-4\"\r\n\t\t],\r\n\t\tpreview: [67, 33]\r\n\t},\r\n\t{\r\n\t\tcolumns: 3,\r\n\t\tclasses: [\r\n\t\t\t\"col-12 col-lg-3\",\r\n\t\t\t\"col-12 col-lg-6\",\r\n\t\t\t\"col-12 col-lg-3\"\r\n\t\t],\r\n\t\tpreview: [25, 50, 25]\r\n\t}\r\n];\r\n\r\nexport function entryChildOrDefault(block, entry, index)\r\n{\r\n\tif (entry.children[index])\r\n\t\treturn entry.children[index];\r\n\r\n\treturn convertBlock(entry.editor, index, {id: block.groupBlock, children: []}, entry);\r\n}\r\n\r\nexport class ColumnBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"A single column used in the columns block.\";\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Column\";\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"column\", \"\", \"\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.parent.options.preset] || undefined;\r\n\r\n\t\treturn h(\"div\", {class: preset ? preset.classes[entry.index] : \"col-12 col-lg\"}, renderChildren(entry));\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.parent.options.preset] || undefined;\r\n\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tclass: `be-block-column ${preset ? preset.classes[entry.index] : \"col-12 col-lg\"}`,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nexport class ColumnsBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget canHaveGroups()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget groupBlock()\r\n\t{\r\n\t\treturn \"column\";\r\n\t}\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\",\r\n\t\t\tcolumns: 2,\r\n\t\t\tgutters: true,\r\n\t\t\tpreset: -1\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Displays blocks in a column view.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"column\", \"columns\", \"grid\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Columns\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"columns\", \"layout\", \"view-column\");\r\n\t}\r\n\r\n\tcalculateSelectionBorder(entry)\r\n\t{\r\n\t\tconst {dimensions, margin} = getElementDimensions(entry.element);\r\n\r\n\t\tlet hgutters = margin.horizontal;\r\n\t\tlet vgutters = this.isInline ? 0 : margin.vertical;\r\n\r\n\t\tlet columns = querySelectorAll(entry.element, \".col-12\");\r\n\t\tlet columnsLast = columns.map(column => querySelector(column, \".be-block-mount:last-child\")).filter(column => notNullOrUndefined(column));\r\n\t\tlet lastDimensions = columnsLast.map(l => getElementDimensions(l).margin.bottom);\r\n\r\n\t\treturn {\r\n\t\t\theight: dimensions.height + vgutters - Math.max(0, ...lastDimensions),\r\n\t\t\twidth: dimensions.width + hgutters\r\n\t\t};\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.options.preset] || undefined;\r\n\t\tconst classes = `row be-block-columns ${entry.options.class} ${entry.options.gutters ? \"\" : \"no-gutters\"}`;\r\n\t\tconst columns = preset ? preset.columns : entry.options.columns;\r\n\r\n\t\trange(0, columns, index =>\r\n\t\t{\r\n\t\t\tconst child = entryChildOrDefault(this, entry, index);\r\n\r\n\t\t\tif (!entry.children[index])\r\n\t\t\t\tentry.children.push(child);\r\n\t\t});\r\n\r\n\t\treturn h(\"div\", {class: classes}, renderChildren(entry));\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\tconst preset = presets[entry.options.preset] || undefined;\r\n\t\tconst classes = `row be-block-columns ${entry.options.class} ${entry.options.gutters ? \"\" : \"no-gutters\"}`;\r\n\t\tconst columns = preset ? preset.columns : entry.options.columns;\r\n\r\n\t\trange(0, columns, index =>\r\n\t\t{\r\n\t\t\tconst child = entryChildOrDefault(this, entry, index);\r\n\r\n\t\t\tif (!entry.children[index])\r\n\t\t\t\tentry.children.push(child);\r\n\t\t});\r\n\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tkey: entry.hash,\r\n\t\t\tclass: classes,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroupWithDepth(h, entry.depth, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\th(\"div\", {class: \"be-settings-row flex-column\"}, [\r\n\t\t\t\th(\"span\", translate(\"Preset\")),\r\n\t\t\t\th(\"div\", {class: \"d-flex flex-wrap be-settings-columns-presets\"}, presets.map((preset, index) =>\r\n\t\t\t\t\th(\"div\", {\r\n\t\t\t\t\t\t\tclass: `preset ${entry.options.preset === index ? \"is-active\" : \"\"}`,\r\n\t\t\t\t\t\t\ton: {click: () => entry.setOptions({preset: index === entry.options.preset ? -1 : index})}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tArray(preset.columns)\r\n\t\t\t\t\t\t\t.fill(undefined)\r\n\t\t\t\t\t\t\t.map((_, column) => h(\"div\", {class: \"column\", style: {flexGrow: preset.preview[column]}}))\r\n\t\t\t\t\t)\r\n\t\t\t\t))\r\n\t\t\t]),\r\n\t\t\toptional(entry.options.preset === -1, () => rangeField(h, translate(\"Amount of columns\"), () => entry.options.columns, columns =>\r\n\t\t\t{\r\n\t\t\t\tentry.setChildren(entry.children.slice(0, columns));\r\n\t\t\t\tentry.setOptions({columns});\r\n\t\t\t}, 2, 6, 1)),\r\n\t\t\ttoggleButton(h, translate(\"Gutters\"), () => entry.options.gutters, gutters => entry.setOptions({gutters})),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","let decoder;\r\n\r\nexport function decodeEntities(text)\r\n{\r\n\tif (typeof text !== \"string\" || text.indexOf(\"&\") === -1)\r\n\t\treturn text;\r\n\r\n\tif (!decoder)\r\n\t{\r\n\t\tif (document.implementation && document.implementation.createHTMLDocument)\r\n\t\t\tdecoder = document.implementation.createHTMLDocument().createElement(\"textarea\");\r\n\t\telse\r\n\t\t\tdecoder = document.createElement(\"textarea\");\r\n\t}\r\n\r\n\tdecoder.innerHTML = text;\r\n\tconst decoded = decoder.textContent;\r\n\tdecoder.innerHTML = \"\";\r\n\r\n\treturn decoded.trim();\r\n}\r\n\r\nexport function removeEmptyDivs(text)\r\n{\r\n\treturn text.replace(/<div><\\/div>/g, \"\");\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\nimport { translate } from \"../utils\";\r\n\r\nexport class PageBreakBlock extends BlockBase\r\n{\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Breaks the page into multiple pages\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"page break\", \"break\", \"pages\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Page Break\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"page-break\", \"layout\", \"format-page-break\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn document.createComment(\"page-break\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {\r\n\t\t\tattrs: {\r\n\t\t\t\t\"data-text\": translate(\"Page break\")\r\n\t\t\t},\r\n\t\t\tclass: \"be-page-break\"\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import BEBlocks from \"../BEBlocks\";\r\nimport { BlockBase } from \"../block\";\r\nimport { optionAdditionalClasses } from \"../primitive/element\";\r\nimport { blockActions, settingsGroupWithDepth } from \"../primitive/settings\";\r\nimport { renderChildren } from \"../api\";\r\n\r\nexport class WrapperBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Wraps blocks into a wrapper.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"wrapper\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Wrapper\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"wrapper\", \"layout\", \"border-none-variant\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: `row be-block-wrapper ${entry.options.class}`}, [\r\n\t\t\th(\"div\", {class: \"col-12\"}, renderChildren(entry))\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tclass: `be-block-wrapper ${entry.options.class}`,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroupWithDepth(h, entry.depth, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { commandIconToggleButton, divider, functionIconButton, functionIconToggleButton } from \"./element\";\r\nimport { decodeEntities, removeEmptyDivs } from \"../helper/html-entities\";\r\nimport { atEdge, caretPosition, getRectFromRange, placeCaretAt, placeCaretAtEdge } from \"../helper/selection\";\r\nimport { optional } from \"./settings\";\r\nimport { translate } from \"../utils\";\r\nimport { handleComponentError } from \"../helper/error\";\r\nimport { BlockRegistry } from \"../registry\";\r\n\r\nconst allowAppend = [\"heading\", \"paragraph\"];\r\nconst defaultFormattingOptions = {\r\n\tboldItalicUnderline: true,\r\n\tcreateLinks: true,\r\n\ttextAlignment: true,\r\n\ttextIdentation: true\r\n};\r\n\r\nlet canUpdate = true;\r\nlet lastSelectionRange;\r\n\r\nfunction ensureTextNode(elm)\r\n{\r\n\tif (elm instanceof Element)\r\n\t{\r\n\t\tif (elm.childNodes[0])\r\n\t\t\treturn elm.childNodes[0];\r\n\r\n\t\tconst dummy = document.createTextNode(\"\");\r\n\t\telm.appendChild(dummy);\r\n\r\n\t\treturn dummy;\r\n\t}\r\n\r\n\treturn elm;\r\n}\r\n\r\nfunction executeAndFocus(entry, fn)\r\n{\r\n\tentry.focus({select: false}, elm =>\r\n\t{\r\n\t\telm.focus();\r\n\r\n\t\tentry.editor.selection.setBaseAndExtent(\r\n\t\t\tlastSelectionRange.startContainer,\r\n\t\t\tlastSelectionRange.startOffset,\r\n\t\t\tlastSelectionRange.endContainer,\r\n\t\t\tlastSelectionRange.endOffset\r\n\t\t);\r\n\r\n\t\tfn();\r\n\t\tsaveLastSelection();\r\n\t});\r\n}\r\n\r\nfunction saveLastSelection()\r\n{\r\n\tcanUpdate = false;\r\n\r\n\tconst current = window.getSelection().getRangeAt(0);\r\n\tconst range = document.createRange();\r\n\r\n\ttry\r\n\t{\r\n\t\trange.setStart(ensureTextNode(current.startContainer), current.startOffset);\r\n\t\trange.setEnd(ensureTextNode(current.endContainer), current.endOffset);\r\n\r\n\t\tlastSelectionRange = range;\r\n\t}\r\n\tcatch (err)\r\n\t{\r\n\t\thandleComponentError(err, \"text/saveLastSelection\", current);\r\n\t}\r\n}\r\n\r\nexport function getStyles(options)\r\n{\r\n\treturn {\r\n\t\tmarginLeft: options.indent ? `${options.indent}rem` : undefined,\r\n\t\tcolor: options.color ? options.color : undefined,\r\n\t\tfontSize: options.fontSize ? `${options.fontSize}rem` : undefined,\r\n\t\ttextAlign: options.align || undefined\r\n\t};\r\n}\r\n\r\nexport function onBlur(evt, entry)\r\n{\r\n\tif (!canUpdate)\r\n\t\treturn;\r\n\r\n\tentry.editor.inserterList.close();\r\n\r\n\tif (entry.isRemoved)\r\n\t\treturn;\r\n\r\n\tremoveEmptyElements(evt);\r\n\tentry.setOptions({text: evt.target.innerHTML});\r\n}\r\n\r\nexport function onInput(evt, tag, entry)\r\n{\r\n\tconst text = evt.target.innerText;\r\n\r\n\tentry.updateEditor(false, true);\r\n\tremoveEmptyElements(evt);\r\n\r\n\tif (tag !== \"p\")\r\n\t\treturn;\r\n\r\n\tconst selection = entry.editor.selection;\r\n\r\n\tif (!text.startsWith(\"/\") || selection.focusOffset < text.length)\r\n\t\treturn entry.editor.inserterList.close();\r\n\r\n\tconst searchTerm = text.substr(1).toLowerCase();\r\n\tconst foundBlocks = BlockRegistry.blocks\r\n\t\t.filter(entry => entry.keywords.map(keyword => translate(keyword)).find(keyword => keyword.startsWith(searchTerm)))\r\n\t\t.slice(0, 5)\r\n\t\t.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n\tentry.editor.inserterList.open(getRectFromRange(selection.getRangeAt(0)), foundBlocks, blockId =>\r\n\t{\r\n\t\tentry.remove();\r\n\t\tentry.insertBlock(blockId, entry.index);\r\n\t});\r\n}\r\n\r\nexport function onKeyDown(evt, entry)\r\n{\r\n\tconst {anchorOffset, focusOffset} = entry.editor.selection;\r\n\tconst text = evt.target.innerHTML;\r\n\r\n\tif (entry.editor.inserterList.isOpen)\r\n\t\treturn entry.editor.inserterList.handleKeyDown(evt);\r\n\r\n\tif (evt.key === \"Enter\" && !evt.shiftKey)\r\n\t\treturn kdHandleEnterWhenNotShift(evt, text, entry);\r\n\r\n\tif (evt.key === \"Backspace\" && text.trim() === \"\")\r\n\t\treturn kdHandleBackspaceWhenEmpty(evt, entry);\r\n\r\n\tif (evt.key === \"Backspace\" && anchorOffset === 0 && focusOffset === 0)\r\n\t\treturn kdHandleBackspaceWhenAtStart(evt, text, entry);\r\n\r\n\tif (evt.key === \"ArrowDown\" && atEdge(evt.target, true, true))\r\n\t\treturn kdHandleArrowDownAtEnd(evt, entry);\r\n\r\n\tif (evt.key === \"ArrowUp\" && atEdge(evt.target, false, true))\r\n\t\treturn kdHandleArrowUpAtStart(evt, entry);\r\n\r\n\tif (evt.key === \"ArrowRight\" && atEdge(evt.target, true))\r\n\t\treturn kdHandleArrowDownAtEnd(evt, entry);\r\n\r\n\tif (evt.key === \"ArrowLeft\" && atEdge(evt.target, false))\r\n\t\treturn kdHandleArrowUpAtStart(evt, entry);\r\n}\r\n\r\nexport function onPaste(evt, entry)\r\n{\r\n\tconst textData = evt.clipboardData.getData(\"Text\");\r\n\r\n\tif (!textData.match(/\\r\\n|\\r|\\n/))\r\n\t\treturn;\r\n\r\n\tevt.preventDefault();\r\n\r\n\tconst contents = textData\r\n\t\t.split(/\\r\\n|\\r|\\n/g)\r\n\t\t.map(paragraph => paragraph.trim())\r\n\t\t.filter(paragrap => paragrap.length > 0);\r\n\r\n\tconst parent = entry.parent;\r\n\r\n\tparent.transaction(() =>\r\n\t{\r\n\t\tconst blocks = contents.map(text => ({id: \"paragraph\", options: {text}}));\r\n\t\tparent.insertBlocks(blocks, entry.index, {placeAtEnd: true}, true, parent);\r\n\t\tentry.remove();\r\n\t});\r\n}\r\n\r\nexport function render(tag, h, {options})\r\n{\r\n\treturn h(tag, {\r\n\t\tdomProps: {\r\n\t\t\tinnerHTML: options.text\r\n\t\t},\r\n\t\tstyle: getStyles(options)\r\n\t});\r\n}\r\n\r\nexport function renderEditor(tag, h, entry, placeholder = \"Start writing...\")\r\n{\r\n\tcanUpdate = true;\r\n\r\n\treturn h(tag, {\r\n\t\tattrs: {\r\n\t\t\t\"data-placeholder\": translate(placeholder)\r\n\t\t},\r\n\t\tdomProps: {\r\n\t\t\tcontentEditable: \"true\",\r\n\t\t\tinnerHTML: removeEmptyDivs(entry.options.text)\r\n\t\t},\r\n\t\tstyle: getStyles(entry.options),\r\n\t\ton: {\r\n\t\t\tblur: evt => onBlur(evt, entry),\r\n\t\t\tinput: evt => onInput(evt, tag, entry),\r\n\t\t\tkeydown: evt => onKeyDown(evt, entry),\r\n\t\t\tpaste: evt => onPaste(evt, entry)\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function renderTextFormatToolbar(h, entry, formattingOptions = {})\r\n{\r\n\tif (entry.isRemoving)\r\n\t\treturn undefined;\r\n\r\n\tformattingOptions = Object.assign({}, defaultFormattingOptions, formattingOptions);\r\n\r\n\treturn h(\"latte-portal\", {props: {to: entry.editor.toolbar.beforePortalId}}, [\r\n\t\th(\"div\", {class: \"d-flex align-items-center\", on: {mousedown: () => saveLastSelection()}}, [\r\n\t\t\th(\"div\", {class: \"divider divider-vertical\"}),\r\n\r\n\t\t\t...optional(formattingOptions.boldItalicUnderline, () => [\r\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-bold\", \"bold\"),\r\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-italic\", \"italic\"),\r\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-underline\", \"underline\")\r\n\t\t\t], []),\r\n\r\n\t\t\tdivider(h, true),\r\n\r\n\t\t\t...optional(formattingOptions.textAlignment, () => [\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-left\", () => entry.setOptions({align: \"left\"}), () => entry.options.align === \"left\"),\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-center\", () => entry.setOptions({align: \"center\"}), () => entry.options.align === \"center\"),\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-right\", () => entry.setOptions({align: \"right\"}), () => entry.options.align === \"right\"),\r\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-justify\", () => entry.setOptions({align: \"justify\"}), () => entry.options.align === \"justify\")\r\n\t\t\t], []),\r\n\r\n\t\t\tdivider(h, true),\r\n\r\n\t\t\t...optional(formattingOptions.createLinks, () => [\r\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"link\", () =>\r\n\t\t\t\t{\r\n\t\t\t\t})\r\n\t\t\t], []),\r\n\r\n\t\t\tdivider(h, true),\r\n\r\n\t\t\t...optional(formattingOptions.textIdentation, () => [\r\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"format-indent-decrease\", () => entry.setOptions({indent: entry.options.indent - 1}), entry.options.indent === 0),\r\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"format-indent-increase\", () => entry.setOptions({indent: entry.options.indent + 1}), entry.options.indent >= 10)\r\n\t\t\t], [])\r\n\t\t])\r\n\t])\r\n}\r\n\r\nexport function removeEmptyElements(evt)\r\n{\r\n\tArray.from(evt.target.querySelectorAll(\"br,b:empty,i:empty,p:empty\"))\r\n\t\t.forEach(br => br.remove());\r\n}\r\n\r\nfunction kdHandleArrowDownAtEnd(evt, entry)\r\n{\r\n\tif (!entry.nextSibbling)\r\n\t\treturn;\r\n\r\n\tevt.preventDefault();\r\n\r\n\tentry.nextSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, false));\r\n}\r\n\r\nfunction kdHandleArrowUpAtStart(evt, entry)\r\n{\r\n\tif (!entry.previousSibbling)\r\n\t\treturn;\r\n\r\n\tevt.preventDefault();\r\n\r\n\tentry.previousSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, true));\r\n}\r\n\r\nfunction kdHandleBackspaceWhenAtStart(evt, text, entry)\r\n{\r\n\tevt.preventDefault();\r\n\r\n\tconst sibbling = entry.previousSibbling;\r\n\r\n\tif (!sibbling || allowAppend.indexOf(sibbling.block.id) === -1)\r\n\t\treturn;\r\n\r\n\tplaceCaretAtEdge(sibbling.element, true);\r\n\r\n\tconst sibblingText = sibbling.options.text.trim();\r\n\tconst {anchorOffset} = caretPosition(sibbling.element);\r\n\tconst offsetAdjustment = (text !== \"\" && sibblingText !== \"\" && !sibblingText.endsWith(\"&nbsp;\")) ? 1 : 0;\r\n\tconst combinedText = decodeEntities(sibblingText + (offsetAdjustment === 1 ? \" \" : \"\") + text).trim();\r\n\r\n\tconst offset = anchorOffset + offsetAdjustment;\r\n\r\n\tsibbling.setOptions({text: combinedText});\r\n\tsibbling.nextTick(() =>\r\n\t{\r\n\t\tentry.remove(false);\r\n\t\tsibbling.nextTick(() => sibbling.focus({}, () => placeCaretAt(sibbling.element, offset)));\r\n\t});\r\n}\r\n\r\nfunction kdHandleBackspaceWhenEmpty(evt, entry)\r\n{\r\n\tevt.preventDefault();\r\n\r\n\tconst sibbling = entry.previousSibbling;\r\n\r\n\tif (!sibbling)\r\n\t\treturn;\r\n\r\n\tsibbling.focus({select: true, placeAtEnd: true});\r\n\tentry.remove(false);\r\n}\r\n\r\nfunction kdHandleEnterWhenNotShift(evt, text, entry)\r\n{\r\n\tentry.editor.inserterList.close();\r\n\r\n\tif (atEdge(evt.target))\r\n\t{\r\n\t\tevt.preventDefault();\r\n\t\tentry.insertBlock(\"paragraph\", entry.index, {}, null);\r\n\t\tentry.focus({placeAtEnd: false});\r\n\t}\r\n\telse if (atEdge(evt.target, true))\r\n\t{\r\n\t\tevt.preventDefault();\r\n\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {text: \"\"}, {});\r\n\t}\r\n\telse\r\n\t{\r\n\t\tentry.raf(() =>\r\n\t\t{\r\n\t\t\tconst childElements = Array.from(evt.target.getElementsByTagName(\"div\"));\r\n\t\t\tconst newElement = childElements[childElements.length - 1];\r\n\r\n\t\t\tif (!newElement)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tconst html = decodeEntities(newElement.innerHTML);\r\n\t\t\tnewElement.remove();\r\n\r\n\t\t\tentry.setOptions({text: decodeEntities(evt.target.innerHTML)});\r\n\t\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {...entry.options, text: html}, {placeAtEnd: false});\r\n\t\t});\r\n\t}\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { render, renderEditor } from \"../primitive/text\";\r\nimport { optionButtons, optionTextColor } from \"../primitive/element\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\nimport { translate } from \"../utils\";\r\n\r\nconst headerTypes = [\r\n\t{value: \"h1\", icon: \"format-header-1\", tooltip: translate(\"Header 1\")},\r\n\t{value: \"h2\", icon: \"format-header-2\", tooltip: translate(\"Header 2\")},\r\n\t{value: \"h3\", icon: \"format-header-3\", tooltip: translate(\"Header 3\")},\r\n\t{value: \"h4\", icon: \"format-header-4\", tooltip: translate(\"Header 4\")},\r\n\t{value: \"h5\", icon: \"format-header-5\", tooltip: translate(\"Header 5\")},\r\n\t{value: \"h6\", icon: \"format-header-6\", tooltip: translate(\"Header 6\")}\r\n];\r\n\r\nexport class HeadingBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tcolor: undefined,\r\n\t\t\ttype: \"h3\",\r\n\t\t\ttext: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Represents a header text.\"\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"header\", \"heading\", \"text\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Header\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"heading\", \"text\", \"format-header-1\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(entry.options.type, h, entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(entry.options.type, h, entry);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionButtons(h, translate(\"Type\"), headerTypes, () => entry.options.type, type => entry.setOptions({type}))\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { getStyles, onBlur, onKeyDown as textOnKeyDown, removeEmptyElements } from \"./text\";\r\nimport { atEdge } from \"../helper/selection\";\r\nimport { first, last } from \"../helper/array\";\r\n\r\nexport function render(h, tag, entry)\r\n{\r\n\treturn h(tag, {\r\n\t\tdomProps: {\r\n\t\t\tinnerHTML: entry.options.text\r\n\t\t},\r\n\t\tstyle: getStyles(entry.options)\r\n\t});\r\n}\r\n\r\nexport function renderEditor(h, tag, entry)\r\n{\r\n\treturn h(tag, {\r\n\t\tdomProps: {\r\n\t\t\tcontentEditable: \"true\",\r\n\t\t\tinnerHTML: entry.options.text\r\n\t\t},\r\n\t\ton: {\r\n\t\t\tblur: evt => onBlur(evt, entry),\r\n\t\t\tinput: () => entry.updateEditor(false),\r\n\t\t\tkeydown: evt => onKeyDown(evt, entry)\r\n\t\t},\r\n\t\tstyle: getStyles(entry.options)\r\n\t});\r\n}\r\n\r\nfunction onKeyDown(evt, entry)\r\n{\r\n\tconst list = evt.target;\r\n\tconst items = Array.from(list.getElementsByTagName(\"li\"));\r\n\r\n\tconst firstItem = first(items);\r\n\tconst lastItem = last(items);\r\n\r\n\tif (evt.key === \"Enter\")\r\n\t{\r\n\t\tremoveEmptyElements(evt);\r\n\r\n\t\tif (atEdge(list, true) && lastItem.innerHTML.trim() === \"\")\r\n\t\t{\r\n\t\t\tevt.preventDefault();\r\n\t\t\tlastItem.remove();\r\n\t\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {text: \" \"}, {placeAtEnd: false});\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (evt.key === \"Backspace\")\r\n\t{\r\n\t\tremoveEmptyElements(evt);\r\n\r\n\t\tif (atEdge(list) && items.length === 1 && firstItem.innerHTML.trim() === \"\")\r\n\t\t{\r\n\t\t\tevt.preventDefault();\r\n\t\t\tentry.remove();\r\n\t\t}\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\ttextOnKeyDown(evt, entry);\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { render, renderEditor } from \"../primitive/list\";\r\nimport { renderTextFormatToolbar } from \"../primitive/text\";\r\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\n\r\nexport class OrderedListBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\talign: \"left\",\r\n\t\t\tcolor: undefined,\r\n\t\t\tfontSize: 1,\r\n\t\t\ttext: \"<li></li>\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"An list that is ordered with numbers.\";\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"list\", \"ordered\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Ordered List\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"ordered-list\", \"text\", \"format-list-numbered\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(h, \"ol\", entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(h, \"ol\", entry);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\trenderTextFormatToolbar(h, entry, {textAlignment: false, textIdentation: false}),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionTextSize(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\r\nimport { render, renderEditor, renderTextFormatToolbar } from \"../primitive/text\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\n\r\nexport class ParagraphBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\talign: \"left\",\r\n\t\t\tcolor: undefined,\r\n\t\t\tfontSize: 1,\r\n\t\t\tindent: 0,\r\n\t\t\ttext: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Represents some text.\"\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"paragraph\", \"text\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Paragraph\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"paragraph\", \"text\", \"format-paragraph\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(\"p\", h, entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(\"p\", h, entry, \"Start writing or type / to insert a block...\");\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\trenderTextFormatToolbar(h, entry),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionTextSize(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { render, renderEditor } from \"../primitive/list\";\r\nimport { renderTextFormatToolbar } from \"../primitive/text\";\r\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\n\r\nexport class UnorderedListBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\talign: \"left\",\r\n\t\t\tcolor: undefined,\r\n\t\t\tfontSize: 1,\r\n\t\t\ttext: \"<li></li>\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"An list that is not ordered.\";\r\n\t}\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"list\", \"unordered\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Unordered List\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"unordered-list\", \"text\", \"format-list-bulleted\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn render(h, \"ul\", entry);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn renderEditor(h, \"ul\", entry);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\trenderTextFormatToolbar(h, entry, {textAlignment: false, textIdentation: false}),\r\n\t\t\toptionTextColor(h, entry),\r\n\t\t\toptionTextSize(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { BlockBase } from \"../block\";\r\nimport { blockActions, settingsGroup, textField } from \"../primitive/settings\";\r\nimport { translate } from \"../utils\";\r\n\r\nexport class YouTubeEmbedBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tvideoId: \"2TuyT0knklM\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Embeds a YouTube-video.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"youtube\", \"embed\", \"video\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"YouTube video\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"youtube-embed\", \"embeds\", \"youtube\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\r\n\t\t\th(\"iframe\", {\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${entry.options.videoId}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\r\n\t\t\th(\"iframe\", {\r\n\t\t\t\tdomProps: {\r\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${entry.options.videoId}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t]);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\ttextField(h, translate(\"Video ID\"), () => entry.options.videoId, videoId => entry.setOptions({videoId}))\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import Vue from \"vue\";\r\n\r\nimport { BlockBase } from \"../block\";\r\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\r\nimport { getLatte, translate } from \"../utils\";\r\n\r\nexport class HtmlBlock extends BlockBase\r\n{\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tcode: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Allows you to add custom HTML code.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"html\", \"custom\", \"code\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Custom HTML\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"html\", \"other\", \"language-html5\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn getLatte().util.dom.toDOM(entry.options.code.replace(/\\t/g, \"\").replace(/\\r?\\n|\\r/g, \" \"));\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"latte-tab-container\", {style: {zIndex: \"0\"}}, [\r\n\t\t\th(\"div\", {class: \"position-relative d-flex align-items-center mb-1\", style: {zIndex: \"1\"}}, [\r\n\t\t\t\th(\"strong\", translate(this.name)),\r\n\t\t\t\th(\"latte-tab-bar\", {class: \"ml-auto\"})\r\n\t\t\t]),\r\n\t\t\th(\"latte-tab\", {props: {label: translate(\"Visual\")}}, [\r\n\t\t\t\th(Vue.extend({\r\n\t\t\t\t\ttemplate: entry.options.code\r\n\t\t\t\t\t\t.replace(/href=/g, \"data-be-href=\")\r\n\t\t\t\t\t\t.replace(/data-action=/g, \"data-be-action=\")\r\n\t\t\t\t}))\r\n\t\t\t]),\r\n\t\t\th(\"latte-tab\", {props: {label: translate(\"Code\")}}, [\r\n\t\t\t\th(\"textarea\", {\r\n\t\t\t\t\tclass: \"form-control\",\r\n\t\t\t\t\tdomProps: {\r\n\t\t\t\t\t\trows: 10,\r\n\t\t\t\t\t\tvalue: entry.options.code\r\n\t\t\t\t\t},\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\tinput: evt => entry.setOptions({code: evt.target.value})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t])\r\n\t\t]);\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroup(h, this.name, [\r\n\t\t\tblockActions(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { first } from \"./helper/array\";\r\nimport * as DefaultBlocks from \"./blocks\";\r\nimport { defaultCategories } from \"./block\";\r\n\r\nexport class BlockRegistry\r\n{\r\n\r\n\tstatic #blocks = [];\r\n\r\n\tstatic get blocks()\r\n\t{\r\n\t\treturn BlockRegistry.#blocks\r\n\t\t\t.filter(b => b.showInInserter);\r\n\t}\r\n\r\n\tstatic findById(id)\r\n\t{\r\n\t\treturn first(BlockRegistry.#blocks.filter(b => b.id === id));\r\n\t}\r\n\r\n\tstatic register(block)\r\n\t{\r\n\t\tBlockRegistry.#blocks.push(block);\r\n\t}\r\n\r\n\tstatic registerDefaults()\r\n\t{\r\n\t\tconst defaultBlocks = Object.values(DefaultBlocks);\r\n\t\tdefaultBlocks.forEach(Block => BlockRegistry.register(new Block()));\r\n\t}\r\n\r\n\tstatic unregister(block)\r\n\t{\r\n\t\tBlockRegistry.#blocks = BlockRegistry.#blocks\r\n\t\t\t.filter(b => b.id !== block.id);\r\n\t}\r\n\r\n}\r\n\r\nexport class CategoryRegistry\r\n{\r\n\r\n\tstatic #categories = [];\r\n\r\n\tstatic get categories()\r\n\t{\r\n\t\treturn CategoryRegistry.#categories;\r\n\t}\r\n\r\n\tstatic register(category)\r\n\t{\r\n\t\tCategoryRegistry.#categories.push(category);\r\n\t}\r\n\r\n\tstatic registerDefaults()\r\n\t{\r\n\t\tdefaultCategories.forEach(cat => CategoryRegistry.register(cat));\r\n\t}\r\n\r\n\tstatic unregister(category)\r\n\t{\r\n\t\tCategoryRegistry.#categories = CategoryRegistry.#categories\r\n\t\t\t.filter(c => c.id !== category.id);\r\n\t}\r\n\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-editor\",attrs:{\"spellcheck\":\"false\"}},[_c('div',{staticClass:\"be-content-pane\",on:{\"!click\":function($event){return _vm.onEditorClick($event)}}},[_c('BEToolbar',{ref:\"toolbar\",scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_vm._t(\"toolbar-before\")]},proxy:true},{key:\"after\",fn:function(){return [(false)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Last update: \"+_vm._s(_vm.moment(_vm.lastUpdate).format(\"HH:mm:ss.SSSS\"))+\" (\"+_vm._s(_vm.updateCount)+\")\")]):_vm._e(),_vm._t(\"toolbar-after\")]},proxy:true}],null,true)}),_c('div',{staticClass:\"be-content-mount\"},[_c('div',{staticClass:\"be-content-wrapper be-editing\"},[(_vm.content)?_c('BEBlockMount',{attrs:{\"entry\":_vm.content}}):_vm._e()],1)])],1),_c('BEInserterList',{ref:\"inserterList\"}),_c('BEInserterPopup',{ref:\"inserter\"}),_c('BESettingsPane',{scopedSlots:_vm._u([{key:\"before\",fn:function(api){return [_vm._t(\"settings-pane-before\",null,null,api)]}},{key:\"after\",fn:function(api){return [_vm._t(\"settings-pane-after\",null,null,api)]}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",staticClass:\"be-inserter be-inserter-list\",attrs:{\"animate-transform\":false,\"margin-x\":-27,\"margin-y\":15}},[(_vm.blocks.length > 0)?_c('nav',{staticClass:\"nav nav-list\"},[_vm._l((_vm.blocks),function(block,index){return [_c('latte-ripple',{staticClass:\"nav-link\",class:{'is-active': _vm.selectedIndex === index},attrs:{\"as\":\"button\"},on:{\"mousedown\":function($event){return _vm.select(block.id)}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (block.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])])]})],2):_c('div',{staticClass:\"p-3 text-center\",staticStyle:{\"max-width\":\"240px\"}},[_c('i',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"No blocks found matching your search term.\")))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<latte-popup class=\"be-inserter be-inserter-list\" ref=\"popup\" :animate-transform=\"false\" :margin-x=\"-27\" :margin-y=\"15\">\r\n\t\t<nav class=\"nav nav-list\" v-if=\"blocks.length > 0\">\r\n\r\n\t\t\t<template v-for=\"(block, index) of blocks\">\r\n\r\n\t\t\t\t<latte-ripple as=\"button\" class=\"nav-link\" :class=\"{'is-active': selectedIndex === index}\" @mousedown=\"select(block.id)\">\r\n\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${block.icon}`\"></i>\r\n\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\r\n\t\t\t\t</latte-ripple>\r\n\r\n\t\t\t</template>\r\n\r\n\t\t</nav>\r\n\t\t<div class=\"p-3 text-center\" style=\"max-width: 240px\" v-else>\r\n\r\n\t\t\t<i>{{ \"No blocks found matching your search term.\" | beTranslate }}</i>\r\n\r\n\t\t</div>\r\n\t</latte-popup>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { translate } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEInserterList\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tblocks: [],\r\n\t\t\t\tfn: undefined,\r\n\t\t\t\tselectedIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tisOpen()\r\n\t\t\t{\r\n\t\t\t\treturn this.popup.isOpen;\r\n\t\t\t},\r\n\r\n\t\t\tpopup()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.popup;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tclose()\r\n\t\t\t{\r\n\t\t\t\tif (!this.isOpen)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.popup.close();\r\n\t\t\t},\r\n\r\n\t\t\thandleKeyDown(evt)\r\n\t\t\t{\r\n\t\t\t\tswitch (evt.key)\r\n\t\t\t\t{\r\n\t\t\t\t\tcase \"ArrowDown\":\r\n\t\t\t\t\t\tthis.selectedIndex = (this.selectedIndex + 1) % this.blocks.length;\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"ArrowUp\":\r\n\t\t\t\t\t\tthis.selectedIndex = this.selectedIndex === 0 ? this.blocks.length - 1 : this.selectedIndex - 1;\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"Enter\":\r\n\t\t\t\t\tcase \"Tab\":\r\n\t\t\t\t\t\tif (this.blocks.length > 0)\r\n\t\t\t\t\t\t\tthis.select(this.blocks[this.selectedIndex].id);\r\n\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\topen(rect, blocks, fn)\r\n\t\t\t{\r\n\t\t\t\tthis.blocks = blocks;\r\n\t\t\t\tthis.fn = fn;\r\n\t\t\t\tthis.selectedIndex = 0;\r\n\t\t\t\tthis.popup.rect = rect;\r\n\t\t\t\tthis.popup.open();\r\n\t\t\t},\r\n\r\n\t\t\tselect(id)\r\n\t\t\t{\r\n\t\t\t\tif (this.fn)\r\n\t\t\t\t\tthis.fn(id);\r\n\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterList.vue?vue&type=template&id=33ad8ded&\"\nimport script from \"./BEInserterList.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-pane\"},[_vm._t(\"before\",null,null,{blockSettingsShown: _vm.portalHasPassengers}),[(_vm.portalHasPassengers)?_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Block settings\")))])]):_vm._e(),_c('latte-portal-target',{ref:\"portal\",attrs:{\"name\":_vm.uniqueId,\"multiple\":\"\"}})],_vm._t(\"after\",null,null,{blockSettingsShown: _vm.portalHasPassengers})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-settings-pane\">\r\n\t\t<slot name=\"before\" v-bind=\"{blockSettingsShown: portalHasPassengers}\"></slot>\r\n\r\n\t\t<template>\r\n\t\t\t<div class=\"panel-header\" v-if=\"portalHasPassengers\">\r\n\t\t\t\t<span class=\"panel-title\">{{ \"Block settings\" | beTranslate }}</span>\r\n\t\t\t</div>\r\n\t\t\t<latte-portal-target ref=\"portal\" :name=\"uniqueId\" multiple></latte-portal-target>\r\n\t\t</template>\r\n\r\n\t\t<slot name=\"after\" v-bind=\"{blockSettingsShown: portalHasPassengers}\"></slot>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BESettingsPane\",\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\teditor: editorInstance(this),\r\n\t\t\t\tisInitialized: false\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tthis.isInitialized = true;\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tportalHasPassengers()\r\n\t\t\t{\r\n\t\t\t\tif (!this.isInitialized || !this.$refs.portal)\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\treturn this.$refs.portal.passengers.length > 0;\r\n\t\t\t},\r\n\r\n\t\t\tuniqueId()\r\n\t\t\t{\r\n\t\t\t\treturn `be-settings-pane-${this.editor.uniqueId}`;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsPane.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsPane.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BESettingsPane.vue?vue&type=template&id=1d934cfd&\"\nimport script from \"./BESettingsPane.vue?vue&type=script&lang=js&\"\nexport * from \"./BESettingsPane.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-header be-toolbar\"},[_c('span'),_c('button',{staticClass:\"btn btn-outline btn-primary\",on:{\"click\":_vm.onInserterClick}},[_c('i',{staticClass:\"mdi mdi-plus-circle\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Insert\")))])]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('View code')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-code-tags\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('Undo')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-undo\"})]),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('Redo')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-redo\"})]),_c('latte-portal-target',{staticClass:\"d-flex align-items-center\",attrs:{\"name\":_vm.beforePortalId,\"multiple\":\"\"}}),_vm._t(\"before\"),_c('div',{staticClass:\"mx-auto\"}),_c('latte-portal-target',{staticClass:\"d-flex align-items-center\",attrs:{\"name\":_vm.afterPortalId,\"multiple\":\"\"}}),_vm._t(\"after\"),_c('span')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('View hierarchy')}},[_c('i',{staticClass:\"mdi mdi-notification-clear-all mdi-flip-v\"}),_c('latte-portal',{attrs:{\"to\":\"be-hierarchy\"}},[_c('div',{staticClass:\"panel panel-blank be-hierarchy\"},[_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title mr-3\"},[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Hierarchy\")))]),_c('latte-ripple',{staticClass:\"btn btn-outline btn-error ml-auto\",attrs:{\"as\":\"button\"},on:{\"click\":_vm.deleteEverything}},[_c('i',{staticClass:\"mdi mdi-delete\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Remove all\")))])])],1),(_vm.entry)?_c('div',{staticClass:\"be-hierarchy-group\"},_vm._l((_vm.entry.children),function(child){return _c('BEHierarchyItem',{key:child.hash,attrs:{\"entry\":child}})}),1):_vm._e()])]),_c('latte-popup',{ref:\"popup\",attrs:{\"associate-with\":_vm.$el,\"margin-x\":-9,\"margin-y\":6}},[_c('latte-portal-target',{attrs:{\"name\":\"be-hierarchy\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-hierarchy-item\"},[_c('div',{staticClass:\"be-hierarchy-header\"},[_c('div',{staticClass:\"block-name\"},[_vm._v(_vm._s(_vm.entry.block.name))]),_c('div',{staticClass:\"block-actions\"},[_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",attrs:{\"data-close\":\"\"},on:{\"click\":function($event){return _vm.entry.focus()}}},[_c('i',{staticClass:\"mdi mdi-cursor-default-outline\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isFirst},on:{\"click\":function($event){return _vm.entry.rearrange(-1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-up\"})]),_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isLast},on:{\"click\":function($event){return _vm.entry.rearrange(1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-down\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-sm btn-icon btn-text btn-dark\",on:{\"click\":function($event){return _vm.entry.remove()}}},[_c('i',{staticClass:\"mdi mdi-delete\"})])])]),_c('div',{staticClass:\"be-hierarchy-group\"},_vm._l((_vm.entry.children),function(child){return _c('BEHierarchyItem',{key:child.hash,attrs:{\"entry\":child}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n\t<div class=\"be-hierarchy-item\">\r\n\t\t<div class=\"be-hierarchy-header\">\r\n\t\t\t<div class=\"block-name\">{{ entry.block.name }}</div>\r\n\t\t\t<div class=\"block-actions\">\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" data-close @click=\"entry.focus()\"><i class=\"mdi mdi-cursor-default-outline\"></i></button>\r\n\t\t\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" :disabled=\"entry.isFirst\" @click=\"entry.rearrange(-1)\"><i class=\"mdi mdi-arrow-up\"></i></button>\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" :disabled=\"entry.isLast\" @click=\"entry.rearrange(1)\"><i class=\"mdi mdi-arrow-down\"></i></button>\r\n\t\t\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t\t\t<button class=\"btn btn-sm btn-icon btn-text btn-dark\" @click=\"entry.remove()\"><i class=\"mdi mdi-delete\"></i></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"be-hierarchy-group\">\r\n\t\t\t<BEHierarchyItem :entry=\"child\" :key=\"child.hash\" v-for=\"child of entry.children\"></BEHierarchyItem>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { BlockEntry } from \"./api\";\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEHierarchyItem\",\r\n\r\n\t\tprops: {\r\n\t\t\tentry: {required: true, type: BlockEntry}\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchyItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchyItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEHierarchyItem.vue?vue&type=template&id=78c8913d&\"\nimport script from \"./BEHierarchyItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BEHierarchyItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<button class=\"btn btn-icon btn-text btn-dark\" :data-tooltip=\"'View hierarchy' | beTranslate\">\r\n\t\t<i class=\"mdi mdi-notification-clear-all mdi-flip-v\"></i>\r\n\r\n\t\t<latte-portal to=\"be-hierarchy\">\r\n\t\t\t<div class=\"panel panel-blank be-hierarchy\">\r\n\t\t\t\t<div class=\"panel-header\">\r\n\t\t\t\t\t<span class=\"panel-title mr-3\">{{ \"Hierarchy\" | beTranslate }}</span>\r\n\t\t\t\t\t<latte-ripple as=\"button\" class=\"btn btn-outline btn-error ml-auto\" @click=\"deleteEverything\">\r\n\t\t\t\t\t\t<i class=\"mdi mdi-delete\"></i>\r\n\t\t\t\t\t\t<span>{{ \"Remove all\" | beTranslate }}</span>\r\n\t\t\t\t\t</latte-ripple>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"be-hierarchy-group\" v-if=\"entry\">\r\n\t\t\t\t\t<BEHierarchyItem :entry=\"child\" :key=\"child.hash\" v-for=\"child of entry.children\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</latte-portal>\r\n\r\n\t\t<latte-popup ref=\"popup\" :associate-with=\"$el\" :margin-x=\"-9\" :margin-y=\"6\">\r\n\t\t\t<latte-portal-target name=\"be-hierarchy\"></latte-portal-target>\r\n\t\t</latte-popup>\r\n\t</button>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, translate } from \"./utils\";\r\n\r\n\timport BEHierarchyItem from \"./BEHierarchyItem\";\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {BEHierarchyItem},\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tname: \"BEHierarchy\",\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\teditor: editorInstance(this),\r\n\t\t\t\tentry: undefined\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdestroyed()\r\n\t\t{\r\n\t\t\tthis.editor.$off(\"be:content-ready\", this.updateEntry);\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tthis.editor.$on(\"be:content-ready\", this.updateEntry);\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tdeleteEverything()\r\n\t\t\t{\r\n\t\t\t\tif (!this.entry)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.entry.children.forEach(c => c.remove());\r\n\t\t\t},\r\n\r\n\t\t\tupdateEntry(entry)\r\n\t\t\t{\r\n\t\t\t\tthis.entry = entry;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEHierarchy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEHierarchy.vue?vue&type=template&id=86563558&\"\nimport script from \"./BEHierarchy.vue?vue&type=script&lang=js&\"\nexport * from \"./BEHierarchy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<div class=\"panel-header be-toolbar\">\r\n\t\t<span></span>\r\n\r\n\t\t<button class=\"btn btn-outline btn-primary\" @click=\"onInserterClick\"><i class=\"mdi mdi-plus-circle\"></i><span>{{ \"Insert\" | beTranslate }}</span></button>\r\n\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'View code' | beTranslate\"><i class=\"mdi mdi-code-tags\"></i></button>\r\n\t\t<!--\t\t<BEHierarchy/>-->\r\n\r\n\t\t<div class=\"divider divider-vertical\"></div>\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'Undo' | beTranslate\"><i class=\"mdi mdi-undo\"></i></button>\r\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'Redo' | beTranslate\"><i class=\"mdi mdi-redo\"></i></button>\r\n\r\n\t\t<latte-portal-target class=\"d-flex align-items-center\" :name=\"beforePortalId\" multiple></latte-portal-target>\r\n\t\t<slot name=\"before\"></slot>\r\n\r\n\t\t<div class=\"mx-auto\"></div>\r\n\r\n\t\t<latte-portal-target class=\"d-flex align-items-center\" :name=\"afterPortalId\" multiple></latte-portal-target>\r\n\t\t<slot name=\"after\"></slot>\r\n\r\n\t\t<span></span>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { editorInstance, getLatte, translate } from \"./utils\";\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\timport BEHierarchy from \"./BEHierarchy\";\r\n\r\n\tconst L = getLatte();\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {\r\n\t\t\tBEHierarchy,\r\n\t\t\tBEInserterPopup\r\n\t\t},\r\n\r\n\t\tfilters: {\r\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\r\n\t\t},\r\n\r\n\t\tname: \"BEToolbar\",\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\teditor: editorInstance(this)\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tafterPortalId()\r\n\t\t\t{\r\n\t\t\t\treturn `${this.editor.uniqueId}-toolbar-after`;\r\n\t\t\t},\r\n\r\n\t\t\tbeforePortalId()\r\n\t\t\t{\r\n\t\t\t\treturn `${this.editor.uniqueId}-toolbar-before`;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tnotImplemented()\r\n\t\t\t{\r\n\t\t\t\tL.ui.message.alert(\"Notice\", \"This feature is not yet implemented.\");\r\n\t\t\t},\r\n\r\n\t\t\tonInserterClick(evt)\r\n\t\t\t{\r\n\t\t\t\tconst el = L.util.dom.closest(evt.target, \".btn\").querySelector(\"i.mdi\");\r\n\r\n\t\t\t\tthis.editor.inserter.open(el, id => this.editor.content.insertBlock(id, undefined, {}, {}, this.editor.content), -15, 12);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEToolbar.vue?vue&type=template&id=542dbdb4&\"\nimport script from \"./BEToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./BEToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\r\n\t<div class=\"be-editor\" spellcheck=\"false\">\r\n\r\n\t\t<div class=\"be-content-pane\" @click.capture=\"onEditorClick\">\r\n\t\t\t<BEToolbar ref=\"toolbar\">\r\n\t\t\t\t<template #before>\r\n\t\t\t\t\t<slot name=\"toolbar-before\"></slot>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template #after>\r\n\t\t\t\t\t<span class=\"text-muted\" v-if=\"false\">Last update: {{ moment(lastUpdate).format(\"HH:mm:ss.SSSS\") }} ({{ updateCount }})</span>\r\n\t\t\t\t\t<slot name=\"toolbar-after\"></slot>\r\n\t\t\t\t</template>\r\n\t\t\t</BEToolbar>\r\n\r\n\t\t\t<div class=\"be-content-mount\">\r\n\t\t\t\t<div class=\"be-content-wrapper be-editing\">\r\n\t\t\t\t\t<BEBlockMount :entry=\"content\" v-if=\"content\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<BEInserterList ref=\"inserterList\"/>\r\n\t\t<BEInserterPopup ref=\"inserter\"/>\r\n\r\n\t\t<BESettingsPane>\r\n\t\t\t<template #before=\"api\">\r\n\t\t\t\t<slot name=\"settings-pane-before\" v-bind=\"api\"></slot>\r\n\t\t\t</template>\r\n\t\t\t<template #after=\"api\">\r\n\t\t\t\t<slot name=\"settings-pane-after\" v-bind=\"api\"></slot>\r\n\t\t\t</template>\r\n\t\t</BESettingsPane>\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { getLatte } from \"./utils\";\r\n\r\n\timport BEBlocks from \"./BEBlocks\";\r\n\timport BEBlockMount from \"./BEBlockMount\";\r\n\timport BEInserterExpanded from \"./BEInserterExpanded\";\r\n\timport BEInserterList from \"./BEInserterList\";\r\n\timport BEInserterPopup from \"./BEInserterPopup\";\r\n\timport BESettingsPane from \"./BESettingsPane\";\r\n\timport BEToolbar from \"./BEToolbar\";\r\n\r\n\timport { convertToBlocks, convertToData } from \"./api\";\r\n\r\n\tconst L = getLatte();\r\n\tconst defaultColorPalette = [\r\n\t\t{name: \"Primary\", value: \"rgb(var(--color-primary))\"},\r\n\t\t{name: \"Black\", value: \"rgb(0, 0, 0)\"},\r\n\t\t{name: \"White\", value: \"rgb(255, 255, 255)\"},\r\n\t\t{name: \"Chili\", value: \"rgb(194, 24, 7)\"},\r\n\t\t{name: \"Ginger\", value: \"rgb(247, 54, 43)\"},\r\n\t\t{name: \"Pineapple\", value: \"rgb(255, 173, 0)\"},\r\n\t\t{name: \"Lemon\", value: \"rgb(245, 214, 0)\"},\r\n\t\t{name: \"Lime\", value: \"rgb(110, 204, 84)\"},\r\n\t\t{name: \"Fern\", value: \"rgb(79, 121, 66)\"},\r\n\t\t{name: \"Elderflower\", value: \"rgb(74, 204, 207)\"},\r\n\t\t{name: \"Cream Soda\", value: \"rgb(0, 171, 255)\"},\r\n\t\t{name: \"Sapphire\", value: \"rgb(24, 103, 192)\"},\r\n\t\t{name: \"Blackberry\", value: \"rgb(69, 56, 140)\"},\r\n\t\t{name: \"Grape\", value: \"rgb(102, 61, 166)\"},\r\n\t\t{name: \"Blueberry\", value: \"rgb(143, 120, 232)\"},\r\n\t\t{name: \"Tropical\", value: \"rgb(204, 120, 209)\"},\r\n\t\t{name: \"Bubble Gum\", value: \"rgb(247, 140, 191)\"},\r\n\t\t{name: \"Raspberry\", value: \"rgb(252, 0, 122)\"},\r\n\t\t{name: \"Hibiscus\", value: \"rgb(180, 55, 87)\"},\r\n\t\t{name: \"Tortilla\", value: \"rgb(153, 121, 80)\"},\r\n\t\t{name: \"Flint\", value: \"rgb(126, 123, 158)\"},\r\n\t\t{name: \"Slate\", value: \"rgb(63, 59, 84)\"}\r\n\t];\r\n\tconst testBlocks = [\r\n\t\t{\r\n\t\t\tid: \"columns\",\r\n\t\t\tchildren: [\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"youtube-embed\",\r\n\t\t\t\t\t\toptions: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"heading\",\r\n\t\t\t\t\t\toptions: {type: \"h4\", text: \"Gavin DeGraw - Soldier\"}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"paragraph\",\r\n\t\t\t\t\t\toptions: {text: \"Nice music from YouTube.\"}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: \"heading\",\r\n\t\t\t\t\t\toptions: {type: \"h4\", text: \"Related videos\"}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t],\r\n\t\t\toptions: {\r\n\t\t\t\tpreset: 1\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\texport default {\r\n\r\n\t\tname: \"BEEditor\",\r\n\r\n\t\tcomponents: {\r\n\t\t\tBEBlockMount,\r\n\t\t\tBEBlocks,\r\n\t\t\tBEInserterExpanded,\r\n\t\t\tBEInserterList,\r\n\t\t\tBEInserterPopup,\r\n\t\t\tBESettingsPane,\r\n\t\t\tBEToolbar\r\n\t\t},\r\n\r\n\t\tprops: {\r\n\t\t\tcolorPalette: {default: () => defaultColorPalette, type: Array},\r\n\t\t\tvalue: {default: () => testBlocks, type: Array}\r\n\t\t},\r\n\r\n\t\tdestroyed()\r\n\t\t{\r\n\t\t\tdocument.removeEventListener(\"selectionchange\", this.onSelectionChanged);\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\tlastUpdate: Date.now(),\r\n\t\t\t\tupdateCount: 0,\r\n\t\t\t\tuniqueId: L.api.id(),\r\n\t\t\t\tcontent: undefined,\r\n\t\t\t\tselection: window.getSelection()\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tdocument.addEventListener(\"selectionchange\", this.onSelectionChanged, {passive: true});\r\n\t\t\tdocument.execCommand(\"defaultParagraphSeparator\", false, \"div\");\r\n\r\n\t\t\tthis.onValueChanged();\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\r\n\t\t\tinserter()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.inserter;\r\n\t\t\t},\r\n\r\n\t\t\tinserterList()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.inserterList;\r\n\t\t\t},\r\n\r\n\t\t\ttoolbar()\r\n\t\t\t{\r\n\t\t\t\treturn this.$refs.toolbar;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\r\n\t\t\tonEditorClick(evt = undefined)\r\n\t\t\t{\r\n\t\t\t\tif (evt && L.util.dom.closest(evt.target, \".be-options-side\") !== null)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif (evt && L.util.dom.closest(evt.target, \".be-toolbar\") !== null)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.$emit(\"be:reset-block-selection\");\r\n\t\t\t},\r\n\r\n\t\t\tonInput()\r\n\t\t\t{\r\n\t\t\t\tthis.$emit(\"be:content-ready\", this.content);\r\n\t\t\t\tthis.$emit(\"change\", convertToData(this.content));\r\n\t\t\t\tthis.lastUpdate = Date.now();\r\n\t\t\t\tthis.updateCount++;\r\n\t\t\t},\r\n\r\n\t\t\tonSelectionChanged()\r\n\t\t\t{\r\n\t\t\t\t/** @var {*} anchorElement */\r\n\t\t\t\tconst anchorElement = this.selection.anchorNode;\r\n\r\n\t\t\t\tif (L.util.dom.closest(anchorElement, this.$el) === null)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tthis.$emit(\"be:selection-changed\", this.selection);\r\n\t\t\t},\r\n\r\n\t\t\tonValueChanged()\r\n\t\t\t{\r\n\t\t\t\tthis.content = convertToBlocks(this, this.value);\r\n\t\t\t\tthis.$emit(\"be:content-ready\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\r\n\t\t\tvalue()\r\n\t\t\t{\r\n\t\t\t\tthis.content = undefined;\r\n\t\t\t\tthis.$nextTick(() => this.onValueChanged());\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEEditor.vue?vue&type=template&id=7408aee1&\"\nimport script from \"./BEEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./BEEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { BlockRegistry, CategoryRegistry } from \"./registry\";\r\nimport \"./scss/index.scss\";\r\n\r\nexport { default as BEEditor } from \"./BEEditor.vue\";\r\n\r\nBlockRegistry.registerDefaults();\r\nCategoryRegistry.registerDefaults();\r\n\r\n","<!--\r\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\r\n  -\r\n  - This file is part of the Latte UI package.\r\n  -\r\n  - For the full copyright and license information, please view the\r\n  - LICENSE file that was distributed with this source code.\r\n  -->\r\n\r\n<template>\r\n\r\n\t<div class=\"page mb-3\" id=\"tests\" v-if=\"!testEditor\">\r\n\r\n\t\t<PageHeader>\r\n\t\t\t<h1>Random tests</h1>\r\n\t\t\t<p>These are some development tests.</p>\r\n\t\t</PageHeader>\r\n\r\n\t\t<div class=\"container\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col-12\">\r\n\r\n\t\t\t\t\t<div class=\"panel\" v-if=\"true\">\r\n\t\t\t\t\t\t<div class=\"panel-header\"><span class=\"panel-title\">Virtual scroller</span></div>\r\n\t\t\t\t\t\t<latte-virtual-scroller :items=\"rows\" :item-height=\"48\" style=\"height: 390px\">\r\n\r\n\t\t\t\t\t\t\t<template v-slot=\"{item, style}\">\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex align-items-center justify-content-center bg-dark text-white border\" :style=\"style\">Item {{item.id}}</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t</latte-virtual-scroller>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"panel\" v-if=\"true\">\r\n\t\t\t\t\t\t<div class=\"panel-header\"><span class=\"panel-title\">Virtual scroller (grid)</span></div>\r\n\t\t\t\t\t\t<latte-virtual-scroller :items=\"rows\" :item-height=\"48\" :item-width=\"222\" items-class=\"d-flex flex-row flex-wrap\" style=\"height: 390px\">\r\n\r\n\t\t\t\t\t\t\t<template v-slot=\"{item, style}\">\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex align-items-center justify-content-center bg-dark text-white border\" :style=\"style\">Item {{item.id}}</div>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t</latte-virtual-scroller>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"panel\" v-if=\"true\">\r\n\t\t\t\t\t\t<div class=\"panel-header\">\r\n\t\t\t\t\t\t\t<span class=\"panel-title\">Emoji stuff</span>\r\n\t\t\t\t\t\t\t<div class=\"ml-auto\"></div>\r\n\t\t\t\t\t\t\t<latte-emoji-picker></latte-emoji-picker>\r\n\t\t\t\t\t\t\t<latte-emoji-picker close-on-select></latte-emoji-picker>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"panel-body\">\r\n\t\t\t\t\t\t\t<p v-emojify>{{ \"Emoji's are now replaced in latte-ui \" }}</p>\r\n\t\t\t\t\t\t\t<p v-emojify>{{ \"\" }}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<div class=\"panel radius-none\" style=\"height: calc(100vh - 60px)\" v-else>\r\n\t\t<BEEditor v-model=\"content\">\r\n\t\t\t<template #settings-pane-after=\"{ blockSettingsShown }\">\r\n\t\t\t\t<template v-if=\"!blockSettingsShown\">\r\n\t\t\t\t\t<div class=\"panel-header\"><span class=\"panel-title\">Page settings</span></div>\r\n\t\t\t\t\t<BESettingsGroup title=\"General\" :padded=\"true\">\r\n\t\t\t\t\t\tThis panel was added with a slot.\r\n\t\t\t\t\t</BESettingsGroup>\r\n\t\t\t\t\t<BESettingsGroup title=\"View\" :opened=\"false\" :padded=\"true\">\r\n\t\t\t\t\t\tThis panel was also added with a slot.\r\n\t\t\t\t\t</BESettingsGroup>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</BEEditor>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { BEEditor } from \"../../../block-editor/src\";\r\n\r\n\timport BESettingsGroup from \"../../../block-editor/src/BESettingsGroup\";\r\n\timport PageHeader from \"../components/PageHeader\";\r\n\r\n\texport default {\r\n\r\n\t\tcomponents: {\r\n\t\t\tBESettingsGroup,\r\n\t\t\tBEEditor,\r\n\t\t\tPageHeader\r\n\t\t},\r\n\r\n\t\tdata()\r\n\t\t{\r\n\t\t\tlet i = 0;\r\n\t\t\tlet rows = Array.from(Array(50), () => ({id: ++i, name: `Bas ${i}`}));\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcontent: [{\"id\":\"heading\",\"options\":{\"color\":\"rgb(247, 54, 43)\",\"type\":\"h1\",\"text\":\"This is my amazing page!\"}},\r\n\t\t\t\t\t{\"id\":\"paragraph\",\"options\":{\"align\":\"left\",\"fontSize\":1,\"indent\":0,\"text\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in lorem eget est commodo vulputate eu quis ipsum. Nam dictum quis dui eget cursus. Phasellus tellus sapien, auctor et cursus eget, tempus ut justo. Donec placerat scelerisque nibh, eu consectetur elit imperdiet eu. Curabitur id ligula quis eros ullamcorper elementum. Fusce diam nibh, porttitor vel sagittis et, hendrerit in mauris. Nam elementum nibh in ipsum tempus, non semper lorem fringilla. In turpis dolor, venenatis lobortis malesuada non, posuere tempor tortor. Cras interdum mauris ut lorem volutpat, sit amet varius ex scelerisque.&nbsp;Suspendisse quam urna, varius ut pretium quis, lacinia a eros. Duis non nisi eu neque luctus ultricies et vel lectus.&nbsp;\"}},\r\n\t\t\t\t\t{\"id\":\"paragraph\",\"options\":{\"align\":\"right\",\"color\":\"rgb(126, 123, 158)\",\"fontSize\":1.35,\"indent\":10,\"text\":\"<i>\\\"Aenean varius pretium tortor eu porttitor. Vivamus finibus sagittis tellus, sit amet porta tortor tempor ac. Aenean ac mauris lobortis ipsum feugiat volutpat nec sit amet ex.\\\"</i>\"}},\r\n\t\t\t\t\t{\"id\":\"button\",\"options\":{\"class\":\"mx-auto mb-3\",\"pillButton\":false,\"rippleButton\":true,\"size\":\"lg\",\"text\":\"My awesome button\",\"type\":\"outline\",\"url\":\"\"}},\r\n\t\t\t\t\t{\"id\":\"columns\",\"options\":{\"class\":\"mb-3\",\"columns\":2,\"gutters\":true,\"preset\":1},\"children\":[[{\"id\":\"youtube-embed\",\"options\":{\"videoId\":\"2TuyT0knklM\"}}],[{\"id\":\"heading\",\"options\":{\"type\":\"h5\",\"text\":\"Gavin DeGraw - Soldier\"}},\r\n\t\t\t\t\t\t\t{\"id\":\"paragraph\",\"options\":{\"align\":\"left\",\"fontSize\":1,\"indent\":0,\"text\":\"Phasellus commodo, lacus non viverra imperdiet, libero orci lacinia velit, sit amet malesuada dui diam eu lectus. Sed maximus eu orci ut condimentum.&nbsp;\"}},\r\n\t\t\t\t\t\t\t{\"id\":\"paragraph\",\"options\":{\"align\":\"left\",\"fontSize\":1,\"indent\":0,\"text\":\"Vivamus auctor sapien nisl, varius interdum libero malesuada sit amet. Integer vulputate facilisis urna id sollicitudin.\"}}]]},\r\n\t\t\t\t\t{\"id\":\"paragraph\",\"options\":{\"align\":\"left\",\"fontSize\":1,\"indent\":0,\"text\":\"Integer ac vestibulum dolor, et euismod sem. Vivamus volutpat, lectus eget vulputate eleifend, nibh quam aliquet lorem, quis efficitur neque magna ac elit. Vestibulum ac risus eu ligula auctor cursus. Curabitur purus enim, accumsan nec magna vel, ornare sagittis nisi. Pellentesque libero lorem, rhoncus placerat mauris et, vehicula tempor turpis. Duis nec luctus metus. Maecenas consequat libero id nulla pharetra luctus. Donec ultricies tincidunt tincidunt. Suspendisse sollicitudin lacus nunc, sed ultricies tellus efficitur nec. Phasellus eget sem nec enim molestie venenatis nec ut tortor. Aliquam dictum tempus neque, at luctus elit mollis sed. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed pellentesque, metus pharetra auctor luctus, sem nunc mattis purus, at mattis turpis mauris nec dolor. Curabitur cursus enim non libero sodales tristique.\"}},\r\n\t\t\t\t\t{\"id\":\"paragraph\",\"options\":{\"align\":\"left\",\"fontSize\":1,\"indent\":0,\"text\":\"Aliquam urna sapien, gravida eget cursus at, fringilla eu metus. In sapien odio, gravida hendrerit iaculis id, sodales sit amet nibh. Nunc nec efficitur diam. Fusce sagittis at nibh eget tristique. Integer elit felis, consequat nec fermentum ut, dignissim sit amet purus. Ut aliquam imperdiet faucibus. Etiam maximus mauris id sem aliquam, vel posuere leo viverra. Nulla eleifend leo in sapien cursus, congue mollis nunc ultrices.\"}}\r\n\t\t\t\t],\r\n\t\t\t\trows: rows,\r\n\t\t\t\tacTwo: [],\r\n\t\t\t\tacTree: [3, 6],\r\n\t\t\t\ttestEditor: true\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tdestroyed()\r\n\t\t{\r\n\t\t\tdocument.body.style.removeProperty(\"overflow\");\r\n\t\t},\r\n\r\n\t\tmounted()\r\n\t\t{\r\n\t\t\tif (this.testEditor)\r\n\t\t\t\tdocument.body.style.setProperty(\"overflow\", \"hidden\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tests.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tests.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tests.vue?vue&type=template&id=c5b569dc&\"\nimport script from \"./Tests.vue?vue&type=script&lang=js&\"\nexport * from \"./Tests.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/object/get-prototype-of\");","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n"],"sourceRoot":""}