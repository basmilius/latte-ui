{"version":3,"sources":["webpack:///./src/views/BlockEditor.vue?fe3c","webpack:///../block-editor/src/util/latte.js","webpack:///../block-editor/src/core/i18n.js","webpack:///../block-editor/src/core/category/options.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js","webpack:///../block-editor/src/core/category/category.js","webpack:///../block-editor/src/core/category/registry.js","webpack:///../block-editor/src/util/array.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///../block-editor/src/util/element.js","webpack:///../block-editor/src/util/event.js","webpack:///../block-editor/src/util/error.js","webpack:///../block-editor/src/util/selection.js","webpack:///../block-editor/src/component/Fragment.vue","webpack:///../block-editor/src/component/Fragment.vue?dc69","webpack:///../block-editor/src/ui/Icon.vue?cd97","webpack:///../block-editor/src/component/Fragment.vue?1a6f","webpack:///../block-editor/src/ui/Icon.vue","webpack:///../block-editor/src/ui/Icon.vue?6d33","webpack:///../block-editor/src/component/SettingsGroup.vue?e324","webpack:///../block-editor/src/util/vue.js","webpack:///../block-editor/src/component/SettingsGroup.vue","webpack:///../block-editor/src/component/SettingsGroup.vue?9cef","webpack:///../block-editor/src/component/SettingsGroup.vue?d7e8","webpack:///../block-editor/src/ui/render/settings.js","webpack:///../block-editor/src/core/block/block.js","webpack:///../block-editor/src/ui/Button.vue?50ab","webpack:///../block-editor/src/ui/Button.vue","webpack:///../block-editor/src/ui/Button.vue?17a4","webpack:///../block-editor/src/ui/Button.vue?8ca5","webpack:///../block-editor/src/ui/Notice.vue?eb28","webpack:///../block-editor/src/ui/Notice.vue","webpack:///../block-editor/src/ui/Notice.vue?1287","webpack:///../block-editor/src/ui/Notice.vue?ecbe","webpack:///../block-editor/src/ui/render/element.js","webpack:///../block-editor/src/ui/render/block.js","webpack:///../block-editor/src/block/system/missing.js","webpack:///../block-editor/src/util/create-element.js","webpack:///../block-editor/src/core/block/options.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/animejs/lib/anime.es.js","webpack:///../block-editor/src/util/animation.js","webpack:///../block-editor/src/core/block/instance.js","webpack:///../block-editor/src/component/BlockView.vue?e80b","webpack:///../block-editor/src/component/BlockMount.vue?a973","webpack:///../block-editor/src/component/BlockMount.vue","webpack:///../block-editor/src/component/BlockMount.vue?c56b","webpack:///../block-editor/src/component/BlockMount.vue?284c","webpack:///../block-editor/src/component/BlockView.vue","webpack:///../block-editor/src/component/BlockView.vue?f7bd","webpack:///../block-editor/src/ui/render/inserter.js","webpack:///../block-editor/src/core/block/api.js","webpack:///../block-editor/src/block/system/root.js","webpack:///../block-editor/src/core/options.js","webpack:///../block-editor/src/ui/render/color.js","webpack:///../block-editor/src/block/text/button.js","webpack:///../block-editor/src/util/html-entities.js","webpack:///../block-editor/src/block/primitive/text.js","webpack:///../block-editor/src/ui/render/command.js","webpack:///../block-editor/src/ui/render/function.js","webpack:///../block-editor/src/ui/render/text.js","webpack:///../block-editor/src/block/text/heading.js","webpack:///../block-editor/src/block/primitive/list.js","webpack:///../block-editor/src/block/text/ordered-list.js","webpack:///../block-editor/src/block/text/paragraph.js","webpack:///../block-editor/src/block/text/unordered-list.js","webpack:///../block-editor/src/block/layout/columns.js","webpack:///../block-editor/src/block/layout/page-break.js","webpack:///../block-editor/src/block/layout/wrapper.js","webpack:///../block-editor/src/block/embeds/youtube.js","webpack:///../block-editor/src/ui/render/tabs.js","webpack:///../block-editor/src/ui/render/vue.js","webpack:///../block-editor/src/ui/render/portal.js","webpack:///../block-editor/src/block/other/html.js","webpack:///../block-editor/src/core/block/registry.js","webpack:///../block-editor/src/component/Editor.vue?fcd6","webpack:///../block-editor/src/component/CodeMount.vue?7604","webpack:///../block-editor/src/component/CodeMount.vue","webpack:///../block-editor/src/component/CodeMount.vue?88c5","webpack:///../block-editor/src/component/CodeMount.vue?9e55","webpack:///../block-editor/src/component/ContentMount.vue?9fca","webpack:///../block-editor/src/component/ContentMount.vue","webpack:///../block-editor/src/component/ContentMount.vue?14a4","webpack:///../block-editor/src/component/ContentMount.vue?018f","webpack:///../block-editor/src/component/Inserter.vue?93ce","webpack:///../block-editor/src/component/Inserter.vue","webpack:///../block-editor/src/component/Inserter.vue?81d3","webpack:///../block-editor/src/component/Inserter.vue?0676","webpack:///../block-editor/src/component/InserterPopup.vue?52fe","webpack:///../block-editor/src/component/InserterPopup.vue","webpack:///../block-editor/src/component/InserterPopup.vue?999d","webpack:///../block-editor/src/component/InserterPopup.vue?e323","webpack:///../block-editor/src/component/InserterQuick.vue?24fb","webpack:///../block-editor/src/component/InserterQuick.vue","webpack:///../block-editor/src/component/InserterQuick.vue?8d8e","webpack:///../block-editor/src/component/InserterQuick.vue?1d93","webpack:///../block-editor/src/component/Settings.vue?2550","webpack:///../block-editor/src/component/SettingsPane.vue?935e","webpack:///../block-editor/src/component/KeepAliveTab.vue?a1e8","webpack:///../block-editor/src/component/KeepAliveTab.vue","webpack:///../block-editor/src/component/KeepAliveTab.vue?4729","webpack:///../block-editor/src/component/KeepAliveTab.vue?4311","webpack:///../block-editor/src/component/SettingsPane.vue","webpack:///../block-editor/src/component/SettingsPane.vue?d27d","webpack:///../block-editor/src/component/SettingsPane.vue?073b","webpack:///../block-editor/src/component/Settings.vue","webpack:///../block-editor/src/component/Settings.vue?3f7a","webpack:///../block-editor/src/component/Settings.vue?854b","webpack:///../block-editor/src/component/Toolbar.vue?19fd","webpack:///../block-editor/src/component/Toolbar.vue","webpack:///../block-editor/src/component/Toolbar.vue?7286","webpack:///../block-editor/src/component/Toolbar.vue?835a","webpack:///../block-editor/src/component/Editor.vue","webpack:///../block-editor/src/component/Editor.vue?ab54","webpack:///../block-editor/src/component/Editor.vue?af7a","webpack:///../block-editor/src/index.js","webpack:///src/views/BlockEditor.vue","webpack:///./src/views/BlockEditor.vue?ebaa","webpack:///./src/views/BlockEditor.vue","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.object.set-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.weak-map.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/internals/collection.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.array.fill.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/internals/collection-weak.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.string.starts-with.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.object.get-prototype-of.js"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","model","value","callback","$$v","content","expression","staticRenderFns","Latte","LatteInstance","initializeInternationalization","Vue","filter","text","params","translate","i18n","defaultCategories","id","icon","title","description","_classPrivateFieldSet","receiver","privateMap","descriptor","get","TypeError","set","call","writable","_classPrivateFieldGet","Category","CategoryRegistry","category","find","c","push","forEach","register","initializeCategoryRegistry","registerDefaults","first","arr","last","length","flatten","depth","isNaN","arguments","Number","Array","prototype","reduce","acc","cur","isArray","apply","slice","includes","haystack","needle","indexOf","entriesAreDifferent","base","other","k","range","from","to","fn","undefined","fill","map","_","index","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_typeof","assertThisInitialized","_getPrototypeOf","o","Object","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","constructor","configurable","ensureTextNode","elm","Element","childNodes","dummy","document","createTextNode","appendChild","getElementDimensionsAndOffset","getBoundingClientRect","height","width","top","left","window","getComputedStyle","marginTop","marginLeft","marginRight","marginBottom","parseInt","offset","dimensions","margin","horizontal","vertical","right","bottom","outer","isInputOrTextarea","tagName","combine","a","b","evt","terminate","preventDefault","stopPropagation","handleComponentError","err","component","data","console","error","message","dir","lastSelectionRange","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","atEdge","atEnd","onlyLines","selectionStart","selectionEnd","selection","getSelection","rangeCount","getRangeAt","cloneRange","isCollapsed","isForward","isForwardSelection","collapse","rangeRect","getRectFromRange","computedStyle","lineHeight","padding","buffer","elmRect","verticalEdge","direction","isReverseDirection","x","y","testRange","hiddenCaretRangeFromPoint","side","testRect","Math","round","caretPosition","currentNode","iterator","createNodeIterator","position","anchorOffset","focusOffset","anchorNode","focusNode","isBeyondStart","nextNode","caretRangeFromPoint","doc","caretPositionFromPoint","point","createRange","setStart","offsetNode","collapsed","startContainer","nodeName","parentNode","setEnd","rect","getClientRects","padNode","insertNode","remove","style","zIndex","compareDocumentPosition","placeCaretAt","currentOffset","previousOffset","realOffset","removeAllRanges","addRange","placeCaretAtEdge","focus","isContentEditable","target","selectNodeContents","saveLastSelection","instance","editor","current","util","dom","closest","parentElement","startOffset","endContainer","endOffset","node","NodeFilter","SHOW_TEXT","acceptNode","FILTER_ACCEPT","_v","_s","_f","class","padded","_t","findEditor","findGrandparent","name","$parent","$options","either","condition","fn1","fn2","optional","defaultValue","h","block","Icon","props","fragment","children","Fragment","group","isPadded","SettingsGroup","row","isRow","tag","settings","uniqueId","nag","calc","classes","nagId","api","withElement","element","isSelected","querySelector","wrap","$el","dim","edim","rdim","tdim","setProperty","requestAnimationFrame","domProps","on","click","mousedown","sidebar","sidebarCalc","toolbar","toolbarCalc","snapPoint","Block","buttonClasses","attrs","disabled","ariaLabel","ariaTooltip","onClick","iconBefore","_e","label","iconAfter","type","button","Button","divider","isHorizontal","optionButtons","buttons","color","rangeSlider","min","max","step","tooltip","action","dispatch","input","val","parseFloat","textField","placeholder","toggleButton","checked","additionalClasses","options","setOptions","advancedOptions","blockActions","isFirst","rearrange","isLast","MissingBlock","createElement","el","classList","add","split","t","trim","prop","setAttribute","innerHTML","child","fixHTMLString","html","replace","defaultFocusOptions","placeAtEnd","select","selectAll","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","validTransforms","cache","CSS","springs","minMax","stringContains","str","applyArguments","func","args","obj","toString","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","nodeType","fnc","und","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","keys","easeIn","parseEasings","ease","selectString","nodes","querySelectorAll","e","filterArray","len","thisArg","result","flattenArray","concat","toArray","NodeList","HTMLCollection","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","m","r","g","hslToRgba","hslValue","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","total","getAttribute","convertPxToUnit","unit","valueUnit","baseline","tempEl","parentEl","body","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","getTransformValue","defaultVal","list","getOriginalTargetValue","getRelativeValue","operator","u","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","viewBoxAttr","viewBox","w","getPath","path","percent","property","getPathProgress","getPointAtLength","p0","atan2","decomposeValue","original","numbers","strings","parseTargets","targets","targetsArray","item","pos","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","isFromTo","propArray","v","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","setTargetsValue","animatables","animType","createAnimation","lastTween","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","activeInstances","pausedInstances","engine","play","activeInstancesLength","activeInstance","paused","instanceIndex","splice","tick","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","anime","running","startTime","lastTime","now","childrenLength","resolve","makePromise","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","reverse","restart","removeTargetsFromAnimations","removeTargets","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","instanceParams","tlIndex","insParams","tlDuration","addEventListener","version","convertPx","random","easeSwiftOut","swapBlocks","firstY","secondY","firstElement","scrollingContainer","secondElement","firstDim","secondDim","scrollingDim","targetScrollTop","scrollTop","translateY","then","removeProperty","blockToFocus","blocksToUpdateChildren","blocksToUpdateEditor","isTransaction","BlockInstance","parent","BlockRegistry","findById","canHaveGroups","assign","defaultOptions","groupBlock","canHaveChildren","convertBlocks","$on","calculateHash","getRelative","context","containsAnythingSelected","isSelectionInside","d","$nextTick","raf","shift","updateEditor","updateChildren","execCommand","setBaseAndExtent","focusOptions","insertBlocks","spec","focusLast","blocks","setChildren","animate","focusAndExecute","focusSibbling","inserter","close","previousSibbling","nextSibbling","$emit","is","updateIndices","render","renderEditor","onInput","$forceUpdate","dataUpdate","bubble","Error","inserterInline","indexAdjust","inserterInlineAbstract","defaultOnClickHandler","inserterNag","inserterNagAbstract","selector","ax","ay","open","insertBlock","convertBlock","convertToBlocks","convertToData","root","entry","convertToHtml","tmp","renderChildren","convertToJson","pretty","JSON","stringify","renderInstance","canShowInserters","BlockView","hash","renderInstances","RootBlock","classColorPalette","defaultColorPalette","classColorSelect","simpleColorSelect","buttonSizes","buttonStyles","getButtonClasses","pillButton","size","join","decoder","ButtonBlock","rippleButton","url","href","as","contentEditable","blur","innerText","minWidth","decodeEntities","implementation","createHTMLDocument","decoded","textContent","removeEmptyDivs","allowAppend","canUpdate","getStyles","indent","fontSize","textAlign","align","onBlur","inserterQuick","isRemoving","removeEmptyElements","startsWith","searchTerm","foundBlocks","keywords","sort","localeCompare","onKeyDown","isOpen","handleKeyDown","shiftKey","kdHandleBackspaceWhenEmpty","kdHandleBackspaceWhenAtStart","kdHandleArrowDownAtEnd","kdHandleArrowUpAtStart","kdHandleEnterWhenNotShift","onPaste","textData","clipboardData","getData","contents","paragraph","paragrap","transaction","keydown","paste","br","sibbling","sibblingText","offsetAdjustment","endsWith","combinedText","nextTick","childElements","getElementsByTagName","newElement","commandButtonToggle","command","can","queryCommandEnabled","queryCommandState","functionButtonToggle","alignments","boldItalicUnderline","headerTypes","HeadingBlock","isValidHeading","AbstractListBlock","items","firstItem","lastItem","textOnKeyDown","OrderedListBlock","ParagraphBlock","UnorderedListBlock","presets","columns","preview","presetsSelect","preset","presetColumn","column","flexGrow","instanceChildOrDefault","ColumnBlock","ColumnsBlock","gutters","prerender","PageBreakBlock","createComment","WrapperBlock","YouTubeEmbedBlock","videoId","src","tab","tabContainer","scopedSlots","default","simpleRender","template","extend","portal","HtmlBlock","code","toDOM","minHeight","tabs","setCurrent","rows","defaultBlocks","DefaultBlocks","showInInserter","initializeBlockRegistry","ref","_u","proxy","view","_l","active","$event","badge","json","onContentClick","directives","rawName","composing","currentCategory","assiciatedElement","marginX","marginY","onClose","onOpen","onSelect","selectedIndex","preferredTabIndex","blockSettingsId","onBlockSettingsChange","launchInserter","$","stat","InternalWeakMap","global","redefineAll","InternalMetadataModule","collection","collectionWeak","isObject","enforceIternalState","enforce","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","isExtensible","wrapper","init","$WeakMap","module","exports","getConstructor","REQUIRED","WeakMapPrototype","nativeDelete","nativeHas","has","nativeGet","nativeSet","state","frozen","isForced","redefine","iterate","anInstance","fails","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","CONSTRUCTOR_NAME","common","IS_MAP","IS_WEAK","ADDER","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","entries","next","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iterable","BUGGY_ZERO","$instance","that","clear","forced","setStrong","addToUnscopables","proto","getWeakData","anObject","ArrayIterationModule","$has","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","findIndex","uncaughtFrozenStore","store","UncaughtFrozenStore","findUncaughtFrozen","it","getInternalState","define","getOwnPropertyDescriptor","f","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","nativeStartsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","String","searchString","search","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","sham"],"mappings":"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","file":"assets/js/chunk-67aa97cc.8e3e78a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel radius-none\",staticStyle:{\"height\":\"calc(100vh - 60px)\"}},[_c('Editor',{model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Latte as LatteInstance } from \"@bybas/latte-ui\";\n\nexport const Latte = LatteInstance;\n","import { Latte } from \"../util/latte\";\n\nimport Vue from \"vue\";\n\nexport function initializeInternationalization()\n{\n\tVue.filter(\"beTranslate\", (text, ...params) => text ? translate(text, params) : text);\n}\n\nexport function translate(text, ...params)\n{\n\treturn Latte.i18n.translate(\"block-editor\", text, params);\n}\n","import { translate } from \"../i18n\";\n\nexport const defaultCategories = [\n\t{id: \"layout\", icon: \"layers\", title: translate(\"Layout\"), description: \"\"},\n\t{id: \"text\", icon: \"format-text\", title: translate(\"Text\"), description: \"\"},\n\t{id: \"embeds\", icon: \"code-tags\", title: translate(\"Embeds\"), description: \"\"},\n\t{id: \"other\", icon: \"package-variant\", title: translate(\"Other\"), description: \"\"}\n];\n","export default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}","export default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}","export class Category\n{\n\n\t#id;\n\t#icon;\n\t#title;\n\t#description;\n\n\tget id()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tget icon()\n\t{\n\t\treturn this.#icon;\n\t}\n\n\tget title()\n\t{\n\t\treturn this.#title;\n\t}\n\n\tget description()\n\t{\n\t\treturn this.#description;\n\t}\n\n\tconstructor(id, icon, title, description = \"\")\n\t{\n\t\tthis.#id = id;\n\t\tthis.#icon = icon;\n\t\tthis.#title = title;\n\t\tthis.#description = description;\n\t}\n\n}\n","import { defaultCategories } from \"./options\";\nimport { Category } from \"./category\";\n\nexport class CategoryRegistry\n{\n\n\tstatic #categories = [];\n\n\tstatic get categories()\n\t{\n\t\treturn this.#categories;\n\t}\n\n\tstatic register(category)\n\t{\n\t\tif (this.#categories.find(c => c.id === category.id))\n\t\t\treturn;\n\n\t\tthis.#categories.push(category);\n\t}\n\n\tstatic registerDefaults()\n\t{\n\t\tdefaultCategories.forEach(c => this.register(new Category(c.id, c.icon, c.title, c.description || \"\")));\n\t}\n\n\tstatic unregister(category)\n\t{\n\t\tthis.#categories = this.#categories\n\t\t\t.filter(c => c.id !== category.id);\n\t}\n\n}\n\nexport function initializeCategoryRegistry()\n{\n\tCategoryRegistry.registerDefaults();\n}\n","export function first(arr)\r\n{\r\n\treturn arr[0];\r\n}\r\n\r\nexport function last(arr)\r\n{\r\n\treturn arr[arr.length - 1];\r\n}\r\n\r\nexport function flatten(arr)\r\n{\r\n\tlet depth = isNaN(arguments[0]) ? 1 : Number(arguments[0]);\r\n\r\n\treturn depth ? Array.prototype.reduce.call(arr, function (acc, cur)\r\n\t{\r\n\t\tif (Array.isArray(cur))\r\n\t\t\tacc.push.apply(acc, flatten.call(cur, depth - 1));\r\n\t\telse\r\n\t\t\tacc.push(cur);\r\n\r\n\t\treturn acc;\r\n\t}, []) : Array.prototype.slice.call(this);\r\n}\r\n\r\nexport function includes(haystack, needle)\r\n{\r\n\treturn haystack.indexOf(needle) > -1;\r\n}\r\n\r\nexport function entriesAreDifferent(base, other)\r\n{\r\n\tfor (let k in other)\r\n\t\tif (other[k] !== base[k])\r\n\t\t\treturn true;\r\n\r\n\treturn false;\r\n}\r\n\r\nexport function range(from, to, fn = undefined)\r\n{\r\n\treturn Array(to - from)\r\n\t\t.fill(undefined)\r\n\t\t.map((_, index) => index + from)\r\n\t\t.map(fn);\r\n}\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import { includes } from \"./array\";\n\nexport function ensureTextNode(elm)\n{\n\tif (elm instanceof Element)\n\t{\n\t\tif (elm.childNodes[0])\n\t\t\treturn elm.childNodes[0];\n\n\t\tconst dummy = document.createTextNode(\"\");\n\t\telm.appendChild(dummy);\n\n\t\treturn dummy;\n\t}\n\n\treturn elm;\n}\n\nexport function getElementDimensionsAndOffset(elm)\n{\n\tconst {height, width, top, left} = elm.getBoundingClientRect();\n\tlet {marginTop, marginLeft, marginRight, marginBottom} = window.getComputedStyle(elm);\n\n\tmarginTop = parseInt(marginTop);\n\tmarginLeft = parseInt(marginLeft);\n\tmarginRight = parseInt(marginRight);\n\tmarginBottom = parseInt(marginBottom);\n\n\treturn {\n\t\toffset: {top, left},\n\t\tdimensions: {height, width},\n\t\tmargin: {\n\t\t\thorizontal: marginLeft + marginRight,\n\t\t\tvertical: marginTop + marginBottom,\n\t\t\ttop: marginTop,\n\t\t\tleft: marginLeft,\n\t\t\tright: marginRight,\n\t\t\tbottom: marginBottom\n\t\t},\n\t\touter: {\n\t\t\theight: height + marginTop + marginBottom,\n\t\t\twidth: width + marginLeft + marginRight\n\t\t}\n\t};\n}\n\nexport function isInputOrTextarea(elm)\n{\n\treturn includes([\"INPUT\", \"TEXTAREA\"], elm.tagName)\n}\n\nexport function querySelector(parent, selector)\n{\n\treturn parent.querySelector(selector);\n}\n\nexport function querySelectorAll(parent, selector)\n{\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n","export function combine(a, b)\n{\n\treturn function (evt)\n\t{\n\t\tif (a)\n\t\t\ta(evt);\n\n\t\tif (b)\n\t\t\tb(evt);\n\t};\n}\n\nexport function terminate(evt, fn = undefined)\n{\n\tevt.preventDefault();\n\tevt.stopPropagation();\n\n\tif (fn)\n\t\tfn();\n}\n","export function handleComponentError(err, component = undefined, data = undefined)\n{\n\tconsole.error(`${component ? `Got a selection error in component ${component}` : \"Got a selection error\"}: ${err.message}`);\n\n\tif (data)\n\t\tconsole.dir(data);\n}\n","import { ensureTextNode, isInputOrTextarea } from \"./element\";\r\nimport { handleComponentError } from \"./error\";\r\nimport { Latte } from \"./latte\";\r\n\r\nconst {\r\n\tDOCUMENT_POSITION_FOLLOWING,\r\n\tDOCUMENT_POSITION_PRECEDING\r\n} = window.Node;\r\n\r\nexport let lastSelectionRange;\r\n\r\nexport function atEdge(elm, atEnd = false, onlyLines = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\tif (elm.selectionStart !== elm.selectionEnd)\r\n\t\t\treturn false;\r\n\r\n\t\tif (atEnd)\r\n\t\t\treturn elm.value.length === elm.selectionStart;\r\n\r\n\t\treturn elm.selectionStart === 0;\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\r\n\tif (selection.rangeCount === 0)\r\n\t\treturn false;\r\n\r\n\tconst range = selection.getRangeAt(0).cloneRange();\r\n\tconst isCollapsed = selection.isCollapsed;\r\n\tconst isForward = isForwardSelection(selection);\r\n\r\n\tif (!isCollapsed)\r\n\t\trange.collapse(!isForward);\r\n\r\n\tconst rangeRect = getRectFromRange(range);\r\n\r\n\tconst computedStyle = window.getComputedStyle(elm);\r\n\tconst lineHeight = parseInt(computedStyle.lineHeight, 10) || 0;\r\n\r\n\tif (!isCollapsed && rangeRect.height > lineHeight && isForward !== atEnd)\r\n\t\treturn false;\r\n\r\n\tconst padding = parseInt(computedStyle[`padding${atEnd ? \"Bottom\" : \"Top\"}`], 10) || 0;\r\n\tconst buffer = 3 * lineHeight / 4;\r\n\tconst elmRect = elm.getBoundingClientRect();\r\n\tconst verticalEdge = atEnd ? elmRect.bottom - padding < rangeRect.bottom + buffer : elmRect.top + padding > rangeRect.top - buffer;\r\n\r\n\tif (!verticalEdge)\r\n\t\treturn false;\r\n\r\n\tif (onlyLines)\r\n\t\treturn true;\r\n\r\n\tconst {direction} = computedStyle;\r\n\tconst isReverseDirection = direction === \"rtl\" ? atEnd : !atEnd;\r\n\r\n\tconst x = isReverseDirection ? elmRect.left + 1 : elmRect.right - 1;\r\n\tconst y = atEnd ? elmRect.bottom - buffer : elmRect.top + buffer;\r\n\tconst testRange = hiddenCaretRangeFromPoint(document, x, y, elm);\r\n\r\n\tif (!testRange)\r\n\t\treturn false;\r\n\r\n\tconst side = isReverseDirection ? \"left\" : \"right\";\r\n\tconst testRect = getRectFromRange(testRange);\r\n\r\n\treturn Math.round(testRect[side]) === Math.round(rangeRect[side]);\r\n}\r\n\r\nexport function caretPosition(elm)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tconst position = {anchorOffset: 0, focusOffset: 0};\r\n\tconst {anchorNode, anchorOffset, isCollapsed, focusNode, focusOffset} = window.getSelection();\r\n\r\n\tlet currentNode;\r\n\tlet isBeyondStart = false;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tif (!isBeyondStart && currentNode === anchorNode)\r\n\t\t{\r\n\t\t\tisBeyondStart = true;\r\n\t\t\tposition.anchorOffset += anchorOffset;\r\n\r\n\t\t\tif (!isCollapsed)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tposition.focusOffset = position.anchorOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isBeyondStart)\r\n\t\t{\r\n\t\t\tposition.anchorOffset += currentNode.length;\r\n\t\t}\r\n\r\n\t\tif (!isCollapsed && currentNode === focusNode)\r\n\t\t{\r\n\t\t\tposition.focusOffset += focusOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isCollapsed)\r\n\t\t{\r\n\t\t\tposition.focusOffset += currentNode.length;\r\n\t\t}\r\n\t}\r\n\r\n\treturn position;\r\n}\r\n\r\nexport function caretRangeFromPoint(doc, x, y)\r\n{\r\n\tif (doc.caretRangeFromPoint)\r\n\t\treturn doc.caretRangeFromPoint(x, y);\r\n\r\n\tif (!doc.caretPositionFromPoint)\r\n\t\treturn null;\r\n\r\n\tconst point = doc.caretPositionFromPoint(x, y);\r\n\r\n\tif (!point)\r\n\t\treturn null;\r\n\r\n\tconst range = doc.createRange();\r\n\trange.setStart(point.offsetNode, point.offset);\r\n\trange.collapse(true);\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function getRectFromRange(range)\r\n{\r\n\tif (!range.collapsed)\r\n\t\treturn range.getBoundingClientRect();\r\n\r\n\tconst {startContainer} = range;\r\n\r\n\tif (startContainer.nodeName === \"BR\")\r\n\t{\r\n\t\tconst {parentNode} = startContainer;\r\n\t\tconst index = Array.from(parentNode.childNodes).indexOf(startContainer);\r\n\r\n\t\trange = document.createRange();\r\n\t\trange.setStart(parentNode, index);\r\n\t\trange.setEnd(parentNode, index);\r\n\t}\r\n\r\n\tlet rect = range.getClientRects()[0];\r\n\r\n\tif (!rect)\r\n\t{\r\n\t\tconst padNode = document.createTextNode(\"\\u200b\");\r\n\t\trange = range.cloneRange();\r\n\t\trange.insertNode(padNode);\r\n\t\trect = range.getClientRects()[0];\r\n\t\tpadNode.remove();\r\n\t}\r\n\r\n\treturn rect;\r\n}\r\n\r\nexport function hiddenCaretRangeFromPoint(doc, x, y, elm)\r\n{\r\n\telm.style.zIndex = \"10000\";\r\n\r\n\tconst range = caretRangeFromPoint(doc, x, y);\r\n\r\n\telm.style.zIndex = null;\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function isForwardSelection(selection)\r\n{\r\n\tconst {anchorNode, anchorOffset, focusNode, focusOffset} = selection;\r\n\tconst position = anchorNode.compareDocumentPosition(focusNode);\r\n\r\n\tif (position & DOCUMENT_POSITION_PRECEDING)\r\n\t\treturn false;\r\n\r\n\tif (position & DOCUMENT_POSITION_FOLLOWING)\r\n\t\treturn true;\r\n\r\n\tif (position === 0)\r\n\t\treturn anchorOffset <= focusOffset;\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function placeCaretAt(elm, offset = 0)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tlet currentNode;\r\n\tlet currentOffset = 0;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tcurrentOffset += currentNode.length;\r\n\r\n\t\tif (currentOffset < offset)\r\n\t\t\tcontinue;\r\n\r\n\t\tconst previousOffset = currentOffset - currentNode.length;\r\n\t\tconst realOffset = offset - previousOffset;\r\n\r\n\t\tconst range = document.createRange();\r\n\t\trange.setStart(currentNode, realOffset);\r\n\t\trange.collapse(true);\r\n\r\n\t\tconst selection = window.getSelection();\r\n\t\tselection.removeAllRanges();\r\n\t\tselection.addRange(range);\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport function placeCaretAtEdge(elm, atEnd = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\telm.focus();\r\n\r\n\t\tif (atEnd)\r\n\t\t\telm.selectionStart = elm.selectionEnd = elm.value.length;\r\n\t\telse\r\n\t\t\telm.selectionStart = elm.selectionEnd = 0;\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!elm.isContentEditable)\r\n\t\treturn;\r\n\r\n\tlet target = elm[atEnd ? \"lastChild\" : \"firstChild\"];\r\n\r\n\tif (!target)\r\n\t{\r\n\t\ttarget = document.createTextNode(\"\");\r\n\t\telm.appendChild(target);\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\tconst range = document.createRange();\r\n\r\n\trange.selectNodeContents(target);\r\n\trange.collapse(!atEnd);\r\n\r\n\tselection.removeAllRanges();\r\n\tselection.addRange(range);\r\n}\r\n\r\nexport function saveLastSelection(instance)\r\n{\r\n\tif (instance.editor.selection.rangeCount === 0)\r\n\t\treturn;\r\n\r\n\tconst current = instance.editor.selection.getRangeAt(0);\r\n\r\n\tif (Latte.util.dom.closest(current.startContainer.parentElement, \"[contenteditable]\") === null)\r\n\t\treturn;\r\n\r\n\ttry\r\n\t{\r\n\t\tconst range = document.createRange();\r\n\r\n\t\trange.setStart(ensureTextNode(current.startContainer), current.startOffset);\r\n\t\trange.setEnd(ensureTextNode(current.endContainer), current.endOffset);\r\n\r\n\t\tlastSelectionRange = current;\r\n\t}\r\n\tcatch (err)\r\n\t{\r\n\t\thandleComponentError(err, \"ui/command/saveLastSelection\", current);\r\n\t}\r\n}\r\n\r\nfunction createNodeIterator(node)\r\n{\r\n\treturn document.createNodeIterator(node, NodeFilter.SHOW_TEXT, {\r\n\r\n\t\tacceptNode()\r\n\t\t{\r\n\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t}\r\n\r\n\t});\r\n}\r\n","<script>\n\n\tconst freeze = (object, property, value) =>\n\t{\n\t\tObject.defineProperty(object, property, {\n\t\t\tconfigurable: true,\n\t\t\tget()\n\t\t\t{\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tset(v)\n\t\t\t{\n\t\t\t\tconsole.warn(`tried to set frozen property ${property} with ${v}`);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst unfreeze = (object, property, value = null) =>\n\t{\n\t\tObject.defineProperty(object, property, {\n\t\t\tconfigurable: true,\n\t\t\twritable: true,\n\t\t\tvalue: value\n\t\t});\n\t};\n\n\texport default {\n\n\t\tabstract: true,\n\n\t\tname: \"Fragment\",\n\n\t\tprops: {\n\t\t\tname: {type: String, default: () => Math.floor(Date.now() * Math.random()).toString(16)}\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tconst container = this.$el;\n\t\t\tconst parent = container.parentNode;\n\n\t\t\tconst head = document.createComment(`fragment#${this.name}#head`);\n\t\t\tconst tail = document.createComment(`fragment#${this.name}#tail`);\n\n\t\t\tparent.insertBefore(head, container);\n\t\t\tparent.insertBefore(tail, container);\n\n\t\t\tcontainer.appendChild = (node) =>\n\t\t\t{\n\t\t\t\tparent.insertBefore(node, tail);\n\t\t\t\tfreeze(node, \"parentNode\", container);\n\t\t\t};\n\n\t\t\tcontainer.insertBefore = (node, ref) =>\n\t\t\t{\n\t\t\t\tparent.insertBefore(node, ref);\n\t\t\t\tfreeze(node, \"parentNode\", container);\n\t\t\t};\n\n\t\t\tcontainer.removeChild = (node) =>\n\t\t\t{\n\t\t\t\tparent.removeChild(node);\n\t\t\t\tunfreeze(node, \"parentNode\");\n\t\t\t};\n\n\t\t\tArray.from(container.childNodes)\n\t\t\t\t.forEach(node => container.appendChild(node));\n\n\t\t\tparent.removeChild(container);\n\n\t\t\tfreeze(container, \"parentNode\", parent);\n\t\t\tfreeze(container, \"nextSibling\", tail.nextSibling);\n\n\t\t\tconst insertBefore = parent.insertBefore;\n\t\t\tparent.insertBefore = (node, ref) =>\n\t\t\t{\n\t\t\t\tinsertBefore.call(parent, node, ref !== container ? ref : head)\n\t\t\t};\n\n\t\t\tconst removeChild = parent.removeChild;\n\t\t\tparent.removeChild = (node) =>\n\t\t\t{\n\t\t\t\tif (node === container)\n\t\t\t\t{\n\t\t\t\t\twhile (head.nextSibling !== tail)\n\t\t\t\t\t\tcontainer.removeChild(head.nextSibling);\n\n\t\t\t\t\tparent.removeChild(head);\n\t\t\t\t\tparent.removeChild(tail);\n\t\t\t\t\tunfreeze(container, \"parentNode\");\n\n\t\t\t\t\tparent.insertBefore = insertBefore;\n\t\t\t\t\tparent.removeChild = removeChild;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tremoveChild.call(parent, node);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\trender(h)\n\t\t{\n\t\t\tconst children = this.$slots.default;\n\n\t\t\tif (children && children.length)\n\t\t\t\tchildren.forEach(child => child.data = {...child.data, attrs: {fragment: this.name, ...(child.data || {}).attrs}});\n\n\t\t\treturn h(\n\t\t\t\t\"div\",\n\t\t\t\t{attrs: {fragment: this.name}},\n\t\t\t\tchildren\n\t\t\t);\n\t\t}\n\n\t}\n\n</script>\n","var render, staticRenderFns\nimport script from \"./Fragment.vue?vue&type=script&lang=js&\"\nexport * from \"./Fragment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./Icon.vue?vue&type=script&lang=js&\"\nexport * from \"./Icon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Fragment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Fragment.vue?vue&type=script&lang=js&\"","<script>\n\n\texport default {\n\n\t\tname: \"Icon\",\n\n\t\tprops: {\n\t\t\tname: {required: true, type: String}\n\t\t},\n\n\t\trender(h)\n\t\t{\n\t\t\treturn h(\"i\", {\n\t\t\t\tclass: [\"mdi\", `mdi-${this.name}`],\n\t\t\t\tattrs: {\n\t\t\t\t\t\"aria-hidden\": \"true\"\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Icon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Icon.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-group\"},[_c('div',{staticClass:\"settings-header\"},[_vm._v(\" \"+_vm._s(_vm._f(\"beTranslate\")(_vm.title))+\" \")]),_c('div',{staticClass:\"settings-body\",class:{'is-padded': _vm.padded}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function findEditor(component)\n{\n\treturn findGrandparent(component, \"Editor\");\n}\n\nexport function findGrandparent(component, name)\n{\n\twhile ((component = component.$parent) !== undefined)\n\t\tif (component.$options.name === name)\n\t\t\treturn component;\n\n\treturn undefined;\n}\n\nexport function either(condition, fn1, fn2)\n{\n\treturn condition ? fn1() : fn2();\n}\n\nexport function optional(condition, fn, defaultValue = undefined)\n{\n\tif (!condition)\n\t\treturn defaultValue;\n\n\treturn fn();\n}\n","<template>\n\n\t<div class=\"be-settings-group\">\n\n\t\t<div class=\"settings-header\">\n\t\t\t{{ title | beTranslate }}\n\t\t</div>\n\n\t\t<div class=\"settings-body\" :class=\"{'is-padded': padded}\">\n\t\t\t<slot></slot>\n\t\t</div>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { findEditor } from \"../util/vue\";\n\n\texport default {\n\n\t\tname: \"SettingsGroup\",\n\n\t\tprops: {\n\t\t\tpadded: {default: false, type: Boolean},\n\t\t\ttitle: {default: \"Group\", type: String}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: findEditor(this)\n\t\t\t};\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsGroup.vue?vue&type=template&id=299f34d7&\"\nimport script from \"./SettingsGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getElementDimensionsAndOffset } from \"../../util/element\";\nimport { terminate } from \"../../util/event\";\nimport { saveLastSelection } from \"../../util/selection\";\nimport { Latte } from \"../../util/latte\";\n\nimport Fragment from \"../../component/Fragment\";\nimport Icon from \"../Icon\";\nimport SettingsGroup from \"../../component/SettingsGroup\";\n\nexport function description(h, block)\n{\n\treturn h(\"div\", {class: \"be-block-description\"}, [\n\t\th(Icon, {props: {name: block.icon}}),\n\t\th(\"div\", {class: \"caption\"}, [\n\t\t\th(\"strong\", block.name),\n\t\t\th(\"p\", {class: \"text-muted\"}, block.description)\n\t\t])\n\t]);\n}\n\nexport function fragment(h, children)\n{\n\treturn h(Fragment, children);\n}\n\nexport function group(h, title, isPadded, children)\n{\n\treturn h(SettingsGroup, {\n\t\tprops: {\n\t\t\ttitle: title,\n\t\t\tpadded: isPadded\n\t\t}\n\t}, children);\n}\n\nexport function row(h, isRow, children, tag = \"label\")\n{\n\treturn h(tag, {class: `be-settings-row ${isRow ? \"flex-row\" : \"flex-column\"}`}, children);\n}\n\nexport function settings(h, instance, children)\n{\n\treturn h(\"latte-portal\", {props: {to: `${instance.editor.uniqueId}-settings-block`}}, children);\n}\n\nexport function nag(h, instance, calc, classes, children)\n{\n\tconst nagId = Latte.api.id();\n\n\tinstance.withElement(element =>\n\t{\n\t\tconst fn = () =>\n\t\t{\n\t\t\tif (!element || !instance.isSelected || !instance.element || !element.parentNode)\n\t\t\t\treturn;\n\n\t\t\tconst nag = element.parentNode.querySelector(`#${nagId}`);\n\t\t\tconst wrap = instance.editor.$el.querySelector(\".be-content-wrapper\");\n\n\t\t\tif (nag && wrap)\n\t\t\t{\n\t\t\t\tconst dim = getElementDimensionsAndOffset(element);\n\t\t\t\tconst edim = getElementDimensionsAndOffset(wrap);\n\t\t\t\tconst rdim = getElementDimensionsAndOffset(instance.editor.$el);\n\t\t\t\tconst tdim = getElementDimensionsAndOffset(nag);\n\n\t\t\t\tconst {top, left} = calc(dim, edim, rdim, tdim);\n\n\t\t\t\tnag.style.setProperty(\"--nagX\", `${left}px`);\n\t\t\t\tnag.style.setProperty(\"--nagY\", `${top}px`);\n\t\t\t}\n\n\t\t\twindow.requestAnimationFrame(fn);\n\t\t};\n\n\t\tfn();\n\t});\n\n\treturn h(\"div\", {\n\t\tdomProps: {id: nagId},\n\t\tclass: `be-editor-nag ${classes}`,\n\t\ton: {\n\t\t\tclick: evt => terminate(evt),\n\t\t\tmousedown: evt => terminate(evt, () => saveLastSelection(instance))\n\t\t}\n\t}, children);\n}\n\nexport function sidebar(h, instance, children)\n{\n\treturn nag(h, instance, sidebarCalc, \"be-sidebar\", children);\n}\n\nexport function toolbar(h, instance, children)\n{\n\treturn nag(h, instance, toolbarCalc, \"be-toolbar\", children);\n}\n\nfunction sidebarCalc(dim, edim, rdim)\n{\n\tconst offset = 72;\n\tconst snapPoint = rdim.offset.top + 138;\n\n\tif (dim.offset.top + dim.dimensions.height < snapPoint - offset)\n\t\tdim.offset.top = dim.offset.top + offset + dim.dimensions.height;\n\telse if (dim.offset.top < snapPoint)\n\t\tdim.offset.top = snapPoint;\n\n\tif (dim.offset.left > edim.offset.left + edim.dimensions.width / 2)\n\t\tdim.offset.left = edim.offset.left + edim.dimensions.width + 69 + 24;\n\n\treturn {\n\t\ttop: dim.offset.top - offset,\n\t\tleft: dim.offset.left - offset\n\t};\n}\n\nfunction toolbarCalc(dim, edim, rdim, tdim)\n{\n\tconst offset = 72;\n\tconst snapPoint = rdim.offset.top + 138;\n\n\tif (dim.offset.top + dim.dimensions.height < snapPoint - offset)\n\t\tdim.offset.top = dim.offset.top + offset + dim.dimensions.height;\n\telse if (dim.offset.top < snapPoint)\n\t\tdim.offset.top = snapPoint;\n\n\tif (dim.offset.left > edim.offset.left + edim.dimensions.width / 2)\n\t\tdim.offset.left = edim.offset.left + edim.dimensions.width - tdim.dimensions.width + 15;\n\telse\n\t\tdim.offset.left = dim.offset.left - 15;\n\n\treturn {\n\t\ttop: dim.offset.top - offset,\n\t\tleft: dim.offset.left\n\t};\n}\n","import { description, settings } from \"../../ui/render/settings\";\n\nexport class Block\n{\n\n\t#id;\n\t#category;\n\t#icon;\n\n\tget id()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tget canHaveChildren()\n\t{\n\t\treturn false;\n\t}\n\n\tget canHaveGroups()\n\t{\n\t\treturn false;\n\t}\n\n\tget showInInserter()\n\t{\n\t\treturn true;\n\t}\n\n\tget category()\n\t{\n\t\treturn this.#category;\n\t}\n\n\tget icon()\n\t{\n\t\treturn this.#icon;\n\t}\n\n\tget description()\n\t{\n\t\treturn undefined;\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [this.id];\n\t}\n\n\tget name()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tconstructor(id, category, icon)\n\t{\n\t\tthis.#id = id;\n\t\tthis.#category = category;\n\t\tthis.#icon = icon;\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn undefined;\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn undefined;\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn settings(h, instance, [\n\t\t\tdescription(h, instance.block)\n\t\t]);\n\t}\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:_vm.buttonClasses,attrs:{\"disabled\":_vm.disabled,\"aria-label\":_vm._f(\"beTranslate\")((_vm.ariaLabel || _vm.ariaTooltip)),\"data-tooltip\":_vm._f(\"beTranslate\")(_vm.ariaTooltip)},on:{\"click\":_vm.onClick}},[(_vm.iconBefore)?_c('Icon',{attrs:{\"name\":_vm.iconBefore}}):_vm._e(),(_vm.label)?_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(_vm.label)))]):_vm._e(),(_vm.iconAfter)?_c('Icon',{attrs:{\"name\":_vm.iconAfter}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<button :class=\"buttonClasses\" :disabled=\"disabled\" @click=\"onClick\" :aria-label=\"(ariaLabel || ariaTooltip) | beTranslate\" :data-tooltip=\"ariaTooltip | beTranslate\">\n\t\t<Icon v-if=\"iconBefore\" :name=\"iconBefore\"/>\n\t\t<span v-if=\"label\">{{ label | beTranslate }}</span>\n\t\t<Icon v-if=\"iconAfter\" :name=\"iconAfter\"/>\n\t</button>\n\n</template>\n\n<script>\n\n\timport Icon from \"./Icon\";\n\n\texport default {\n\n\t\tname: \"Button\",\n\n\t\tcomponents: {Icon},\n\n\t\tprops: {\n\t\t\tdisabled: {default: false, type: Boolean},\n\t\t\tariaLabel: {default: null, type: String | null},\n\t\t\tariaTooltip: {default: null, type: String | null},\n\t\t\tclasses: {default: () => [], type: Array},\n\t\t\tcolor: {default: null, type: String | null},\n\t\t\ticonAfter: {default: null, type: String | null},\n\t\t\ticonBefore: {default: null, type: String | null},\n\t\t\tlabel: {default: null, type: String | null},\n\t\t\ttype: {default: \"contained\", type: String}\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tbuttonClasses()\n\t\t\t{\n\t\t\t\tconst classes = [\"btn\", `btn-${this.type}`, ...this.classes];\n\n\t\t\t\tif (this.color !== null)\n\t\t\t\t\tclasses.push(`btn-${this.color}`);\n\n\t\t\t\tif (this.label === null && (this.iconBefore !== null || this.iconAfter !== null))\n\t\t\t\t\tclasses.push(\"btn-icon\");\n\n\t\t\t\treturn classes;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick(evt)\n\t\t\t{\n\t\t\t\tthis.$emit(\"click\", evt);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Button.vue?vue&type=template&id=f0542d7e&\"\nimport script from \"./Button.vue?vue&type=script&lang=js&\"\nexport * from \"./Button.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notice\",class:(\"notice-\" + _vm.type)},[(_vm.icon)?_c('Icon',{attrs:{\"name\":_vm.icon}}):_vm._e(),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"notice\" :class=\"`notice-${type}`\">\n\t\t<Icon :name=\"icon\" v-if=\"icon\"/>\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\timport Icon from \"./Icon\";\n\n\texport default {\n\n\t\tname: \"Notice\",\n\n\t\tcomponents: {Icon},\n\n\t\tprops: {\n\t\t\ticon: {default: null, type: String | null},\n\t\t\ttype: {default: \"info\", type: String}\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Notice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notice.vue?vue&type=template&id=cf5a1250&\"\nimport script from \"./Notice.vue?vue&type=script&lang=js&\"\nexport * from \"./Notice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { row } from \"./settings\";\nimport { translate } from \"../../core/i18n\";\nimport { Latte } from \"../../util/latte\";\n\nimport Button from \"../Button\";\nimport Notice from \"../Notice\";\n\nexport function button(h, props, onClick)\n{\n\treturn h(Button, {\n\t\tprops,\n\t\ton: {\n\t\t\tclick: onClick\n\t\t}\n\t});\n}\n\nexport function comboBox(h, title, options, get, set)\n{\n\treturn row(h, false, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"select\", {class: \"form-control\", domProps: {value: get()}, on: {change: evt => set(evt.target.value)}}, options.map(option =>\n\t\t\th(\"option\", {domProps: {value: option.value}}, option.label)\n\t\t))\n\t]);\n}\n\nexport function divider(h, isHorizontal)\n{\n\treturn h(\"div\", {\n\t\tclass: `divider divider-${isHorizontal ? \"horizontal\" : \"vertical\"}`\n\t});\n}\n\nexport function notice(h, message, options = {})\n{\n\treturn h(Notice, {props: options}, [\n\t\th(\"p\", message)\n\t]);\n}\n\nexport function optionButtons(h, title, buttons, get, set, isRow = true)\n{\n\tconst value = get();\n\n\treturn row(h, isRow, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"div\", {class: `d-flex my-n1 ${isRow ? \"ml-auto\" : \"\"}`}, buttons.map(b => button(h, {\n\t\t\t...b,\n\t\t\ticonBefore: b.icon,\n\t\t\tclass: \"m-0\",\n\t\t\tcolor: value === b.value ? \"primary\" : null,\n\t\t\ttype: value === b.value ? \"outline\" : \"text\"\n\t\t}, () => set(b.value))))\n\t], \"div\");\n}\n\nexport function rangeSlider(h, title, get, set, min = 1, max = 10, step = 1, tooltip = \"@0\")\n{\n\tconst value = get();\n\n\treturn row(h, true, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"input\", {\n\t\t\tclass: \"custom-range\",\n\t\t\tdomProps: {min, max, step, value, type: \"range\"},\n\t\t\ton: {\n\t\t\t\t\"!mouseup\": () => Latte.action.dispatch(\"latte:tooltip:hide\"),\n\t\t\t\tinput(evt)\n\t\t\t\t{\n\t\t\t\t\tconst val = parseFloat(evt.target.value);\n\t\t\t\t\tconst {top, left, width} = evt.target.getBoundingClientRect();\n\t\t\t\t\tconst p = (val - min) / (max - min);\n\n\t\t\t\t\tLatte.action.dispatch(\"latte:tooltip\", {\n\t\t\t\t\t\tx: left + (p * (width - 24)) + 12,\n\t\t\t\t\t\ty: top,\n\t\t\t\t\t\tclasses: [\"tooltip-top\"],\n\t\t\t\t\t\tcontent: translate(tooltip, val),\n\t\t\t\t\t\tposition: null\n\t\t\t\t\t});\n\n\t\t\t\t\tset(val);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t]);\n}\n\nexport function textField(h, title, get, set, placeholder = undefined)\n{\n\tplaceholder = placeholder || title;\n\n\treturn row(h, false, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"input\", {\n\t\t\tclass: \"form-control\",\n\t\t\tdomProps: {\n\t\t\t\tplaceholder: translate(placeholder),\n\t\t\t\ttype: \"text\",\n\t\t\t\tvalue: get()\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tinput: evt => set(evt.target.value)\n\t\t\t}\n\t\t})\n\t]);\n}\n\nexport function toggleButton(h, title, get, set)\n{\n\treturn row(h, true, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"input\", {\n\t\t\tclass: \"toggle-button toggle-button-primary ml-auto\",\n\t\t\tdomProps: {\n\t\t\t\tchecked: get(),\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tinput: evt => set(evt.target.checked)\n\t\t\t}\n\t\t})\n\t]);\n}\n","import { fragment, group } from \"./settings\";\nimport { button, divider, textField } from \"./element\";\n\nexport function additionalClasses(h, instance)\n{\n\treturn textField(h, \"Additional classes\", () => instance.options.class, classes => instance.setOptions({class: classes}));\n}\n\nexport function advancedOptions(h, children)\n{\n\treturn group(h, \"Advanced\", true, children);\n}\n\nexport function blockActions(h, instance)\n{\n\treturn fragment(h, [\n\t\tbutton(h, {ariaLabel: \"Move up\", disabled: instance.isFirst, iconBefore: \"arrow-up\", type: \"text\"}, () => instance.rearrange(-1)),\n\t\tbutton(h, {ariaLabel: \"Move down\", disabled: instance.isLast, iconBefore: \"arrow-down\", type: \"text\"}, () => instance.rearrange(1)),\n\t\tdivider(h, true),\n\t\tbutton(h, {ariaLabel: \"Remove block\", iconBefore: \"delete\", type: \"text\"}, () => instance.remove())\n\t]);\n}\n","import { Block } from \"../../core/block/block\";\nimport { translate } from \"../../core/i18n\";\nimport { fragment, sidebar } from \"../../ui/render/settings\";\nimport { blockActions } from \"../../ui/render/block\";\n\nimport Icon from \"../../ui/Icon\";\n\nexport class MissingBlock extends Block\n{\n\n\tget showInInserter()\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"missing\", \"\", \"\");\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn h(\"div\", {class: \"notice notice-error notice-outline mb-3\"}, [\n\t\t\th(Icon, {props: {name: \"alert-circle\"}}),\n\t\t\th(\"div\", {class: \"d-flex flex-column\"}, [\n\t\t\t\th(\"strong\", translate(\"Missing block\")),\n\t\t\t\th(\"p\", translate(\"The @0 block is missing from the library. It won't be included in the rendered content. Remove this block to fix the issue.\", instance.id))\n\t\t\t])\n\t\t]);\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","export function createElement(tag, props = undefined, content = undefined)\n{\n\tif (tag === \"template\")\n\t\ttag = \"be-template\";\n\n\tif (typeof props !== \"object\" && content === undefined)\n\t{\n\t\tcontent = props;\n\t\tprops = {};\n\t}\n\n\tconst el = document.createElement(tag);\n\n\tif (props.class)\n\t{\n\t\tif (typeof props.class === \"string\")\n\t\t\tel.classList.add(...props.class.split(\" \").filter(t => t.trim() !== \"\"));\n\t\telse\n\t\t\tel.classList.add(...props.class);\n\t}\n\n\tif (props.domProps)\n\t{\n\t\tfor (let prop in props.domProps)\n\t\t{\n\t\t\tconst val = props.domProps[prop];\n\n\t\t\tif (val === undefined)\n\t\t\t\tcontinue;\n\n\t\t\tif (prop === \"innerHTML\")\n\t\t\t\tcontent = val;\n\t\t\telse\n\t\t\t\tel.setAttribute(prop, val);\n\t\t}\n\t}\n\n\tif (props.style)\n\t\tfor (let prop in props.style)\n\t\t\tel.style[prop] = props.style[prop];\n\n\tif (content !== undefined)\n\t{\n\t\tif (typeof content === \"string\")\n\t\t{\n\t\t\tel.innerHTML = content;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let child of content)\n\t\t\t\tel.appendChild(child);\n\t\t}\n\t}\n\n\treturn el;\n}\n\nexport function fixHTMLString(html)\n{\n\treturn html\n\t\t.replace(/v-bind:/g, \":\")\n\t\t.replace(/v-on:/g, \"@\")\n\t\t.replace(/<be-template/g, \"<template\")\n\t\t.replace(/<\\/be-template/g, \"</template\")\n\t\t.replace(/=\"\"/g, \"\");\n}\n","export const defaultFocusOptions = {\n\tplaceAtEnd: true,\n\tselect: true,\n\tselectAll: false\n};\n","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","import { getElementDimensionsAndOffset } from \"./element\";\n\nimport anime from \"animejs\";\n\nexport const easeSwiftOut = \"cubicBezier(.55, 0, .1, 1)\";\n\nexport function swapBlocks(options, fn)\n{\n\tconst {firstElement, scrollingContainer, secondElement} = options;\n\tconst duration = 360;\n\n\tconst firstDim = getElementDimensionsAndOffset(firstElement);\n\tconst secondDim = getElementDimensionsAndOffset(secondElement);\n\tconst scrollingDim = getElementDimensionsAndOffset(scrollingContainer);\n\n\tlet firstY;\n\tlet secondY;\n\n\tif (firstDim.offset.top > secondDim.offset.top)\n\t{\n\t\tfirstY = -secondDim.outer.height;\n\t\tsecondY = firstDim.outer.height;\n\t}\n\telse\n\t{\n\t\tfirstY = secondDim.outer.height;\n\t\tsecondY = -firstDim.outer.height;\n\t}\n\n\tconst targetScrollTop = Math.max(0, ((firstDim.offset.top - scrollingDim.offset.top) + scrollingContainer.scrollTop + firstY) + (firstDim.dimensions.height / 2) - (scrollingDim.dimensions.height / 2));\n\n\tanime({targets: firstElement, translateY: firstY, duration, easing: easeSwiftOut, loop: false});\n\tanime({targets: secondElement, translateY: secondY, duration, easing: easeSwiftOut, loop: false});\n\tanime({targets: scrollingContainer, scrollTop: targetScrollTop, duration, easing: easeSwiftOut, loop: false}).finished.then(() =>\n\t{\n\t\tfirstElement.style.removeProperty(\"transform\");\n\t\tsecondElement.style.removeProperty(\"transform\");\n\n\t\tfn();\n\t});\n}\n","import { defaultFocusOptions } from \"./options\";\nimport { BlockRegistry } from \"./registry\";\nimport { convertBlocks } from \"./api\";\nimport { Latte } from \"../../util/latte\";\nimport { swapBlocks } from \"../../util/animation\";\nimport { lastSelectionRange, placeCaretAtEdge, saveLastSelection } from \"../../util/selection\";\nimport { handleComponentError } from \"../../util/error\";\nimport { entriesAreDifferent } from \"../../util/array\";\n\nlet blockToFocus = undefined;\nlet blocksToUpdateChildren = [];\nlet blocksToUpdateEditor = [];\nlet isTransaction = false;\n\nexport class BlockInstance\n{\n\n\t#hash;\n\t#block;\n\t#editor;\n\t#id;\n\t#depth;\n\t#index;\n\t#children;\n\t#options;\n\t#parent;\n\n\t#node;\n\n\t#isRemoving = false;\n\t#isSelected = false;\n\t#isSwapping = false;\n\n\tget hash()\n\t{\n\t\treturn this.#hash;\n\t}\n\n\tget block()\n\t{\n\t\treturn this.#block;\n\t}\n\n\tget editor()\n\t{\n\t\treturn this.#editor;\n\t}\n\n\tget id()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tget depth()\n\t{\n\t\treturn this.#depth;\n\t}\n\n\tget index()\n\t{\n\t\treturn this.#index;\n\t}\n\n\tget children()\n\t{\n\t\treturn this.#children;\n\t}\n\n\tget options()\n\t{\n\t\treturn this.#options;\n\t}\n\n\tget nextSibbling()\n\t{\n\t\treturn this.getRelative(1);\n\t}\n\n\tget previousSibbling()\n\t{\n\t\treturn this.getRelative(-1);\n\t}\n\n\tget context()\n\t{\n\t\treturn this.#node ? this.#node.context : undefined;\n\t}\n\n\tget element()\n\t{\n\t\treturn this.#node ? this.#node.elm : undefined;\n\t}\n\n\tget parent()\n\t{\n\t\treturn this.#parent;\n\t}\n\n\tget isFirst()\n\t{\n\t\treturn this.#parent ? this.index === 0 : false;\n\t}\n\n\tget isLast()\n\t{\n\t\treturn this.#parent ? this.index === this.#parent.children.length - 1 : false;\n\t}\n\n\tget isRemoving()\n\t{\n\t\treturn this.#isRemoving;\n\t}\n\n\tget isSelected()\n\t{\n\t\tif (this.#block.id === \"root\")\n\t\t\treturn false;\n\n\t\treturn this.#isSelected && !this.containsAnythingSelected;\n\t}\n\n\tget isSelectionInside()\n\t{\n\t\tif (this.#block.id === \"root\")\n\t\t\treturn false;\n\n\t\treturn this.#isSelected || this.containsAnythingSelected;\n\t}\n\n\tget containsAnythingSelected()\n\t{\n\t\treturn this.#block.canHaveChildren && this.#children.filter(c => c.isSelected || c.isSelectionInside).length > 0;\n\t}\n\n\tconstructor(editor, index, id, options, children = [], parent = undefined)\n\t{\n\t\tthis.#block = BlockRegistry.findById(id) || BlockRegistry.findById(\"missing\");\n\t\tthis.#editor = editor;\n\t\tthis.#id = id;\n\t\tthis.#depth = parent ? parent.#block.canHaveGroups ? parent.depth : parent.depth + 1 : 0;\n\t\tthis.#index = index;\n\t\tthis.#options = Object.assign({}, this.#block.defaultOptions, options);\n\t\tthis.#parent = parent;\n\n\t\tif (this.#block.canHaveGroups)\n\t\t\tchildren = children.map(g => ({\n\t\t\t\tid: this.#block.groupBlock,\n\t\t\t\tchildren: g\n\t\t\t}));\n\n\t\tif (this.#block.canHaveChildren)\n\t\t\tthis.#children = convertBlocks(editor, children, this);\n\t\telse\n\t\t\tthis.#children = undefined;\n\n\t\teditor.$on(\"be:reset-block-selection\", () => this.select(false));\n\n\t\tthis.calculateHash();\n\t}\n\n\tcalculateHash()\n\t{\n\t\tthis.#hash = Latte.api.id();\n\t}\n\n\tdata()\n\t{\n\t\tconst data = {\n\t\t\tid: this.#id,\n\t\t\toptions: this.#options\n\t\t};\n\n\t\tif (this.#block.canHaveGroups)\n\t\t\tdata.children = this.#children.map(c => c.children.map(d => d.data()));\n\t\telse if (this.#block.canHaveChildren)\n\t\t\tdata.children = this.#children.map(c => c.data());\n\n\t\treturn data;\n\t}\n\n\tnextTick(fn)\n\t{\n\t\tif (this.context)\n\t\t\tthis.context.$nextTick(fn);\n\t}\n\n\traf(fn)\n\t{\n\t\tLatte.util.dom.raf(fn);\n\t}\n\n\ttransaction(fn)\n\t{\n\t\tisTransaction = true;\n\n\t\tfn();\n\n\t\tisTransaction = false;\n\n\t\twhile (blocksToUpdateEditor.length > 0)\n\t\t\tblocksToUpdateEditor.shift().updateEditor();\n\n\t\twhile (blocksToUpdateChildren.length > 0)\n\t\t\tblocksToUpdateChildren.shift().updateChildren();\n\n\t\tif (blockToFocus)\n\t\t{\n\t\t\tblockToFocus[0].focus(blockToFocus[1], blockToFocus[2]);\n\t\t\tblockToFocus = undefined;\n\t\t}\n\t}\n\n\tfocus(options = defaultFocusOptions, fn = undefined)\n\t{\n\t\tif (isTransaction)\n\t\t\treturn blockToFocus = [this, options, fn];\n\n\t\toptions = Object.assign(defaultFocusOptions, options || {});\n\n\t\tthis.withElement(elm =>\n\t\t{\n\t\t\tthis.#editor.selection.removeAllRanges();\n\n\t\t\telm.click();\n\t\t\telm.focus();\n\n\t\t\tif (elm.isContentEditable && options.select)\n\t\t\t{\n\t\t\t\tif (options.selectAll === false)\n\t\t\t\t\tplaceCaretAtEdge(elm, options.placeAtEnd);\n\t\t\t\telse\n\t\t\t\t\tdocument.execCommand(\"selectAll\");\n\t\t\t}\n\n\t\t\tif (fn)\n\t\t\t\tfn(elm);\n\t\t});\n\t}\n\n\tfocusAndExecute(fn)\n\t{\n\t\tthis.focus({select: false}, () =>\n\t\t{\n\t\t\tif (lastSelectionRange)\n\t\t\t{\n\t\t\t\tthis.#editor.selection.setBaseAndExtent(\n\t\t\t\t\tlastSelectionRange.startContainer,\n\t\t\t\t\tlastSelectionRange.startOffset,\n\t\t\t\t\tlastSelectionRange.endContainer,\n\t\t\t\t\tlastSelectionRange.endOffset\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfn();\n\t\t\tsaveLastSelection(this);\n\t\t});\n\t}\n\n\tgetRelative(dir)\n\t{\n\t\treturn this.#parent.children[this.#index + dir] || undefined;\n\t}\n\n\tinsertBlock(id, index = undefined, options = {}, focusOptions = defaultFocusOptions, parent = undefined)\n\t{\n\t\tthis.insertBlocks([{id, options}], index, focusOptions, true, parent);\n\t}\n\n\tinsertBlocks(spec, index = undefined, focusOptions = defaultFocusOptions, focusLast = true, parent = undefined)\n\t{\n\t\tparent = parent || this.#parent;\n\n\t\tconst blocks = convertBlocks(this.#editor, spec, parent);\n\t\tconst children = parent.children;\n\n\t\tif (index === undefined)\n\t\t\tchildren.push(...blocks);\n\t\telse\n\t\t\tchildren.splice(index, 0, ...blocks);\n\n\t\tparent.setChildren(children, true);\n\n\t\tif (!focusOptions)\n\t\t\treturn;\n\n\t\tblocks[focusLast ? blocks.length - 1 : 0].focus(focusOptions);\n\t}\n\n\trearrange(dir, animate = true)\n\t{\n\t\tif (this.#isRemoving || this.#isSwapping)\n\t\t\treturn;\n\n\t\tthis.#isSwapping = true;\n\n\t\tconst children = this.#parent.children;\n\t\tconst self = children[this.#index];\n\t\tconst other = children[this.#index + dir];\n\n\t\tconst rearrange = () =>\n\t\t{\n\t\t\tchildren.splice(this.#index + dir, 0, children.splice(this.#index, 1)[0]);\n\n\t\t\tthis.#parent.setChildren(children, true);\n\t\t\tthis.focusAndExecute(() => this.raf(() => this.#isSwapping = false));\n\t\t};\n\n\t\tif (!self || !other)\n\t\t\treturn;\n\n\t\tif (!animate)\n\t\t\treturn rearrange();\n\n\t\tswapBlocks({\n\t\t\tfirstElement: self.element,\n\t\t\tsecondElement: other.element,\n\t\t\tscrollingContainer: this.#editor.$el.querySelector(\".be-editor-content\")\n\t\t}, () => rearrange());\n\t}\n\n\tremove(focusSibbling = true)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tthis.#isRemoving = true;\n\n\t\tthis.editor.inserter.close();\n\n\t\tif (focusSibbling)\n\t\t{\n\t\t\tif (this.previousSibbling)\n\t\t\t\tthis.previousSibbling.focus();\n\t\t\telse if (this.nextSibbling)\n\t\t\t\tthis.nextSibbling.focus();\n\t\t\telse\n\t\t\t\tthis.#editor.$emit(\"be:reset-block-selection\");\n\t\t}\n\n\t\tconst children = this.#parent.children;\n\t\tchildren.splice(this.#index, 1);\n\n\t\tthis.#parent.setChildren(children, true);\n\t}\n\n\tselect(is = true)\n\t{\n\t\tif (this.#isRemoving || this.#isSelected === is)\n\t\t\treturn;\n\n\t\tif (is)\n\t\t\tthis.#editor.$emit(\"be:reset-block-selection\");\n\n\t\tthis.raf(() =>\n\t\t{\n\t\t\tthis.#isSelected = is;\n\t\t\tthis.updateEditor(false, true);\n\t\t});\n\t}\n\n\tsetChildren(children, updateIndices = false, fn = undefined)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tthis.#children = children;\n\n\t\tif (updateIndices)\n\t\t{\n\t\t\tthis.#children.forEach((child, index) =>\n\t\t\t{\n\t\t\t\tchild.#index = index;\n\t\t\t\tchild.updateEditor(false);\n\t\t\t});\n\t\t}\n\n\t\tthis.updateChildren();\n\n\t\tif (fn)\n\t\t\tfn();\n\t}\n\n\tsetOptions(options, fn = undefined)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tif (!entriesAreDifferent(this.#options, options))\n\t\t{\n\t\t\tif (fn)\n\t\t\t\tfn();\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#options = Object.assign({}, this.#options, options);\n\t\tthis.updateEditor();\n\n\t\tif (fn)\n\t\t\tfn();\n\t}\n\n\trender(h)\n\t{\n\t\treturn this.block.render(h, this);\n\t}\n\n\trenderEditor(h)\n\t{\n\t\treturn this.#node = this.block.renderEditor(h, this);\n\t}\n\n\tupdateChildren()\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tif (isTransaction)\n\t\t\treturn blocksToUpdateChildren.push(this);\n\n\t\tthis.#editor.onInput();\n\n\t\tif (this.context)\n\t\t\tthis.context.$forceUpdate();\n\t}\n\n\tupdateEditor(dataUpdate = true, bubble = false)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tif (isTransaction)\n\t\t\treturn blocksToUpdateEditor.push(this);\n\n\t\tif (bubble && this.#parent)\n\t\t\tthis.#parent.updateEditor(dataUpdate, bubble);\n\n\t\tif (dataUpdate)\n\t\t\tthis.#editor.onInput();\n\n\t\tif (this.context)\n\t\t\tthis.context.$forceUpdate();\n\t}\n\n\twithElement(fn)\n\t{\n\t\tif (this.element)\n\t\t\treturn fn(this.element);\n\n\t\tthis.raf(() =>\n\t\t{\n\t\t\tif (!this.element)\n\t\t\t\treturn handleComponentError(new Error(\"Failed, element not found.\"), \"api/withElement\", {block: this});\n\n\t\t\tfn(this.element);\n\t\t});\n\t}\n\n}\n","var render, staticRenderFns\nimport script from \"./BlockView.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-block-mount\",class:{'is-selected': _vm.instance.isSelected, 'is-selection-inside': _vm.instance.isSelectionInside}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"be-block-mount\" :class=\"{'is-selected': instance.isSelected, 'is-selection-inside': instance.isSelectionInside}\">\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { BlockInstance } from \"../core/block/instance\";\n\n\texport default {\n\n\t\tname: \"BlockMount\",\n\n\t\tprops: {\n\t\t\tinstance: {required: true, type: BlockInstance}\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockMount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockMount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockMount.vue?vue&type=template&id=5c78dd93&\"\nimport script from \"./BlockMount.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockMount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\n\n\timport { BlockInstance } from \"../core/block/instance\";\n\timport { combine, terminate } from \"../util/event\";\n\timport { either } from \"../util/vue\";\n\n\timport BlockMount from \"./BlockMount\";\n\n\texport default {\n\n\t\tname: \"BlockView\",\n\n\t\tprops: {\n\t\t\tinstance: {required: true, type: BlockInstance}\n\t\t},\n\n\t\trender(h)\n\t\t{\n\t\t\tlet vnode = this.instance.renderEditor(h, this.instance);\n\n\t\t\tif (vnode === undefined)\n\t\t\t\treturn undefined;\n\n\t\t\tlet classes = [\"be-block-view\"];\n\n\t\t\tif (this.instance.block.canHaveGroups)\n\t\t\t\tclasses.push(\"be-group\");\n\n\t\t\tif (this.instance.block.canHaveChildren)\n\t\t\t\tclasses.push(\"be-parent\");\n\n\t\t\tif (vnode.data)\n\t\t\t\tvnode.data.class = `${classes.join(\" \")} ${vnode.data.class || \"\"}`;\n\n\t\t\tvnode.data.on = Object.assign({}, vnode.data.on || {}, {\n\t\t\t\tclick: combine(vnode.data.on ? vnode.data.on.click : undefined, evt =>\n\t\t\t\t{\n\t\t\t\t\tthis.instance.select();\n\t\t\t\t\tterminate(evt);\n\t\t\t\t})\n\t\t\t});\n\n\t\t\treturn h(BlockMount, {props: {instance: this.instance}}, [\n\t\t\t\tvnode,\n\t\t\t\teither(\n\t\t\t\t\tthis.instance.isSelected,\n\t\t\t\t\t() => this.instance.block.renderOptions(h, this.instance),\n\t\t\t\t\t() => h(\"div\")\n\t\t\t\t)\n\t\t\t]);\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockView.vue?vue&type=script&lang=js&\"","import { translate } from \"../../core/i18n\";\nimport { terminate } from \"../../util/event\";\nimport { Latte } from \"../../util/latte\";\n\nimport Icon from \"../Icon\";\n\nexport function inserterInline(h, instance, indexAdjust = 0)\n{\n\treturn inserterInlineAbstract(h, \"plus\", evt => defaultOnClickHandler(evt, instance, instance.parent, \".be-inserter-inline\", -12, 12, instance.index + indexAdjust));\n}\n\nexport function inserterInlineAbstract(h, icon, onClick)\n{\n\treturn h(\"div\", {class: \"be-inserter-inline\", on: {click: onClick}}, [\n\t\th(Icon, {props: {name: icon}})\n\t]);\n}\n\nexport function inserterNag(h, instance)\n{\n\treturn inserterNagAbstract(h, \"plus-circle\", \"Add block\", evt =>\n\t{\n\t\tinstance.select();\n\t\tdefaultOnClickHandler(evt, instance, instance, \".be-inserter-nag\");\n\t});\n}\n\nexport function inserterNagAbstract(h, icon, message, onClick)\n{\n\treturn h(\"div\", {class: \"be-inserter-nag\", on: {click: onClick}}, [\n\t\th(Icon, {props: {name: icon}}),\n\t\th(\"span\", translate(message))\n\t]);\n}\n\nfunction defaultOnClickHandler(evt, instance, parent, selector, ax = -15, ay = 12, index = undefined)\n{\n\tterminate(evt);\n\n\tconst elm = Latte.util.dom.closest(evt.target, selector);\n\n\tinstance.editor.inserter.open(elm.querySelector(\"i.mdi\"), block =>\n\t{\n\t\tinstance.insertBlock(block.id, index, {}, {}, parent);\n\t}, ax, ay);\n}\n","import { createElement, fixHTMLString } from \"../../util/create-element\";\nimport { BlockInstance } from \"./instance\";\nimport { flatten } from \"../../util/array\";\n\nimport BlockView from \"../../component/BlockView\";\nimport { optional } from \"../../util/vue\";\nimport { inserterInline } from \"../../ui/render/inserter\";\n\nexport function convertBlock(editor, index, block, parent = undefined)\n{\n\treturn new BlockInstance(editor, index, block.id, block.options, block.children || [], parent);\n}\n\nexport function convertBlocks(editor, blocks, parent = undefined)\n{\n\treturn blocks.map((block, index) => convertBlock(editor, index, block, parent));\n}\n\nexport function convertToBlocks(editor, data)\n{\n\treturn new BlockInstance(editor, -1, \"root\", {}, data);\n}\n\nexport function convertToData(root)\n{\n\treturn root.children\n\t\t.filter(entry => entry !== undefined)\n\t\t.map(entry => entry.data());\n}\n\nexport function convertToHtml(root)\n{\n\tconst tmp = document.createElement(\"div\");\n\n\trenderChildren(root)\n\t\t.forEach(dom => tmp.appendChild(dom));\n\n\treturn fixHTMLString(tmp.innerHTML);\n}\n\nexport function convertToJson(root, pretty = false)\n{\n\tconst data = convertToData(root);\n\n\tif (pretty)\n\t\treturn JSON.stringify(data, null, 2);\n\n\treturn JSON.stringify(data);\n}\n\nexport function renderChildren(entry)\n{\n\treturn entry.children\n\t\t.map(child => child.render(createElement))\n\t\t.filter(dom => !!dom);\n}\n\nexport function renderInstance(h, instance)\n{\n\tlet canShowInserters = instance.parent && !instance.parent.block.canHaveGroups;\n\n\treturn [\n\t\toptional(canShowInserters && instance.index === 0, () => inserterInline(h, instance)),\n\t\th(BlockView, {\n\t\t\tkey: instance.hash,\n\t\t\tprops: {instance: instance}\n\t\t}),\n\t\toptional(canShowInserters, () => inserterInline(h, instance, 1))\n\t];\n}\n\nexport function renderInstances(h, instance)\n{\n\treturn flatten(instance.children.map(child => renderInstance(h, child)));\n}\n","import { renderInstances } from \"../../core/block/api\";\nimport { Block } from \"../../core/block/block\";\nimport { inserterNag } from \"../../ui/render/inserter\";\nimport { fragment } from \"../../ui/render/settings\";\nimport { either } from \"../../util/vue\";\n\nexport class RootBlock extends Block\n{\n\n\tget canHaveChildren()\n\t{\n\t\treturn true;\n\t}\n\n\tget showInInserter()\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"root\", \"\", \"\");\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn either(\n\t\t\tinstance.children.length > 0,\n\t\t\t() => fragment(h, renderInstances(h, instance)),\n\t\t\t() => fragment(h, [\n\t\t\t\tinserterNag(h, instance)\n\t\t\t])\n\t\t);\n\t}\n\n}\n","export const classColorPalette = [\n\t{id: \"primary\", name: \"Primary\", value: \"rgb(var(--colorPrimary))\"},\n\t{id: \"dark\", name: \"Dark\", value: \"rgb(var(--colorDark))\"},\n\t{id: \"light\", name: \"Light\", value: \"rgb(var(--colorLight))\"},\n\t{id: \"error\", name: \"Error\", value: \"rgb(var(--colorError))\"},\n\t{id: \"info\", name: \"Info\", value: \"rgb(var(--colorInfo))\"},\n\t{id: \"success\", name: \"Success\", value: \"rgb(var(--colorSuccess))\"},\n\t{id: \"warning\", name: \"Warning\", value: \"rgb(var(--colorWarning))\"}\n];\n\nexport const defaultColorPalette = [\n\t{name: \"Primary\", value: \"rgb(var(--colorPrimary))\"},\n\t{name: \"Black\", value: \"rgb(0, 0, 0)\"},\n\t{name: \"White\", value: \"rgb(255, 255, 255)\"},\n\t{name: \"Chili\", value: \"rgb(194, 24, 7)\"},\n\t{name: \"Ginger\", value: \"rgb(247, 54, 43)\"},\n\t{name: \"Pineapple\", value: \"rgb(255, 173, 0)\"},\n\t{name: \"Lemon\", value: \"rgb(245, 214, 0)\"},\n\t{name: \"Lime\", value: \"rgb(110, 204, 84)\"},\n\t{name: \"Fern\", value: \"rgb(79, 121, 66)\"},\n\t{name: \"Elderflower\", value: \"rgb(74, 204, 207)\"},\n\t{name: \"Cream Soda\", value: \"rgb(0, 171, 255)\"},\n\t{name: \"Sapphire\", value: \"rgb(24, 103, 192)\"},\n\t{name: \"Blackberry\", value: \"rgb(69, 56, 140)\"},\n\t{name: \"Grape\", value: \"rgb(102, 61, 166)\"},\n\t{name: \"Blueberry\", value: \"rgb(143, 120, 232)\"},\n\t{name: \"Tropical\", value: \"rgb(204, 120, 209)\"},\n\t{name: \"Bubble Gum\", value: \"rgb(247, 140, 191)\"},\n\t{name: \"Raspberry\", value: \"rgb(252, 0, 122)\"},\n\t{name: \"Hibiscus\", value: \"rgb(180, 55, 87)\"},\n\t{name: \"Tortilla\", value: \"rgb(153, 121, 80)\"},\n\t{name: \"Flint\", value: \"rgb(126, 123, 158)\"},\n\t{name: \"Slate\", value: \"rgb(63, 59, 84)\"}\n];\n","import { row } from \"./settings\";\nimport { translate } from \"../../core/i18n\";\nimport { classColorPalette, defaultColorPalette } from \"../../core/options\";\n\nexport function classColorSelect(h, title, get, set)\n{\n\tconst value = get();\n\n\treturn row(h, false, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"div\", {class: \"be-color-grid\"}, classColorPalette.map(color => h(\"button\", {\n\t\t\tattrs: {\"aria-label\": translate(color.name), \"data-tooltip\": translate(color.name)},\n\t\t\tclass: `color ${color.id === value ? \"is-active\" : \"\"}`,\n\t\t\tstyle: {color: color.value},\n\t\t\ton: {\n\t\t\t\tclick()\n\t\t\t\t{\n\t\t\t\t\tset(color.id === value ? undefined : color.id);\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t], \"div\");\n}\n\nexport function simpleColorSelect(h, title, get, set)\n{\n\tconst value = get();\n\n\treturn row(h, false, [\n\t\th(\"h6\", translate(title)),\n\t\th(\"div\", {class: \"be-color-grid\"}, defaultColorPalette.map(color => h(\"button\", {\n\t\t\tattrs: {\"aria-label\": translate(color.name), \"data-tooltip\": translate(color.name)},\n\t\t\tclass: `color ${color.value === value ? \"is-active\" : \"\"}`,\n\t\t\tstyle: {color: color.value},\n\t\t\ton: {\n\t\t\t\tclick()\n\t\t\t\t{\n\t\t\t\t\tset(color.value === value ? undefined : color.value);\n\t\t\t\t}\n\t\t\t}\n\t\t})))\n\t], \"div\");\n}\n","import { Block } from \"../../core/block/block\";\nimport { description, fragment, group, settings, sidebar } from \"../../ui/render/settings\";\nimport { additionalClasses, advancedOptions, blockActions } from \"../../ui/render/block\";\nimport { optionButtons, textField, toggleButton } from \"../../ui/render/element\";\nimport { classColorSelect } from \"../../ui/render/color\";\nimport { translate } from \"../../core/i18n\";\n\nexport const buttonSizes = [\n\t{value: \"sm\", icon: \"alpha-s\", tooltip: \"Small\"},\n\t{value: \"md\", icon: \"alpha-m\", tooltip: \"Medium\"},\n\t{value: \"lg\", icon: \"alpha-l\", tooltip: \"Large\"}\n];\n\nexport const buttonStyles = [\n\t{value: \"contained\", icon: \"alpha-a-box\", tooltip: \"Solid\"},\n\t{value: \"outline\", icon: \"alpha-a-box-outline\", tooltip: \"Outline\"},\n\t{value: \"text\", icon: \"alpha-a\", tooltip: \"Text\"}\n];\n\nexport function getButtonClasses(options)\n{\n\tconst classes = [\"btn\", `btn-${options.type}`, options.class];\n\n\tif (options.color)\n\t\tclasses.push(`btn-${options.color}`);\n\n\tif (options.pillButton)\n\t\tclasses.push(\"btn-pill\");\n\n\tif (options.size && options.size !== \"md\")\n\t\tclasses.push(`btn-${options.size}`);\n\n\treturn classes.filter(c => c.trim() !== \"\").join(\" \");\n}\n\nexport class ButtonBlock extends Block\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tclass: \"\",\n\t\t\tcolor: undefined,\n\t\t\tpillButton: false,\n\t\t\trippleButton: true,\n\t\t\tsize: \"md\",\n\t\t\ttext: \"Button\",\n\t\t\ttype: \"contained\",\n\t\t\turl: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"A button that can link to an action or url.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"Link\"), translate(\"Action\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Button\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"button\", \"text\", \"card-text\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\n\t\t\tclass: getButtonClasses(entry.options),\n\t\t\tdomProps: {href: entry.options.url},\n\t\t\tprops: {as: \"button\"}\n\t\t}, [\n\t\t\th(\"span\", entry.options.text)\n\t\t]);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\n\t\t\tclass: getButtonClasses(entry.options),\n\t\t\tprops: {as: \"button\"}\n\t\t}, [\n\t\t\th(\"span\", {\n\t\t\t\tdomProps: {\n\t\t\t\t\tcontentEditable: \"plaintext-only\",\n\t\t\t\t\tinnerHTML: entry.options.text\n\t\t\t\t},\n\t\t\t\ton: {\n\t\t\t\t\tblur: evt => entry.setOptions({text: evt.target.innerText})\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tminWidth: \"18px\"\n\t\t\t\t}\n\t\t\t})\n\t\t]);\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this),\n\t\t\t\tgroup(h, \"Button settings\", true, [\n\t\t\t\t\tclassColorSelect(h, \"Color\", () => instance.options.color, color => instance.setOptions({color})),\n\t\t\t\t\ttoggleButton(h, \"Pill\", () => instance.options.pillButton, pillButton => instance.setOptions({pillButton})),\n\t\t\t\t\ttoggleButton(h, \"Ripple\", () => instance.options.rippleButton, rippleButton => instance.setOptions({rippleButton})),\n\t\t\t\t\toptionButtons(h, \"Size\", buttonSizes, () => instance.options.size, size => instance.setOptions({size})),\n\t\t\t\t\toptionButtons(h, \"Style\", buttonStyles, () => instance.options.type, type => instance.setOptions({type}))\n\t\t\t\t]),\n\t\t\t\tgroup(h, \"Target options\", true, [\n\t\t\t\t\ttextField(h, \"URL\", () => instance.options.url, url => instance.setOptions({url}))\n\t\t\t\t]),\n\t\t\t\tadvancedOptions(h, [\n\t\t\t\t\tadditionalClasses(h, instance)\n\t\t\t\t])\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","let decoder;\n\nexport function decodeEntities(text)\n{\n\tif (typeof text !== \"string\" || text.indexOf(\"&\") === -1)\n\t\treturn text;\n\n\tif (!decoder)\n\t{\n\t\tif (document.implementation && document.implementation.createHTMLDocument)\n\t\t\tdecoder = document.implementation.createHTMLDocument().createElement(\"textarea\");\n\t\telse\n\t\t\tdecoder = document.createElement(\"textarea\");\n\t}\n\n\tdecoder.innerHTML = text;\n\tconst decoded = decoder.textContent;\n\tdecoder.innerHTML = \"\";\n\n\treturn decoded.trim();\n}\n\nexport function removeEmptyDivs(text)\n{\n\treturn text.replace(/<div><\\/div>/g, \"\");\n}\n","import { translate } from \"../../core/i18n\";\nimport { atEdge, caretPosition, getRectFromRange, placeCaretAt, placeCaretAtEdge } from \"../../util/selection\";\nimport { decodeEntities, removeEmptyDivs } from \"../../util/html-entities\";\nimport { BlockRegistry } from \"../../core/block/registry\";\n\nconst allowAppend = [\"heading\", \"paragraph\"];\n\nlet canUpdate = true;\n\nexport function getStyles(options)\n{\n\treturn {\n\t\tmarginLeft: options.indent ? `${options.indent}rem` : undefined,\n\t\tcolor: options.color ? options.color : undefined,\n\t\tfontSize: options.fontSize ? `${options.fontSize}rem` : undefined,\n\t\ttextAlign: options.align || undefined\n\t};\n}\n\nexport function onBlur(evt, instance)\n{\n\tif (!canUpdate)\n\t\treturn;\n\n\tinstance.editor.inserterQuick.close();\n\n\tif (instance.isRemoving)\n\t\treturn;\n\n\tremoveEmptyElements(evt);\n\tinstance.setOptions({text: evt.target.innerHTML});\n}\n\nexport function onInput(evt, tag, instance)\n{\n\tconst text = evt.target.innerText;\n\n\tinstance.updateEditor(false, false);\n\n\tif (tag !== \"p\")\n\t\treturn;\n\n\tconst selection = instance.editor.selection;\n\n\tif (!text.startsWith(\"/\") || selection.focusOffset < text.length)\n\t\treturn instance.editor.inserterQuick.close();\n\n\tconst searchTerm = text.substr(1).toLowerCase();\n\tconst foundBlocks = BlockRegistry.blocks\n\t\t.filter(b => b.name.toLowerCase().startsWith(searchTerm) || b.keywords.find(k => k.toLowerCase().startsWith(searchTerm)))\n\t\t.slice(0, 5)\n\t\t.sort((a, b) => a.name.localeCompare(b.name));\n\n\tinstance.editor.inserterQuick.open(getRectFromRange(selection.getRangeAt(0)), foundBlocks, block =>\n\t{\n\t\tinstance.remove();\n\t\tinstance.insertBlock(block.id, instance.index);\n\t});\n}\n\nexport function onKeyDown(evt, instance)\n{\n\tconst {anchorOffset, focusOffset} = instance.editor.selection;\n\tconst text = evt.target.innerHTML;\n\n\tinstance.context.$forceUpdate();\n\n\tif (instance.editor.inserterQuick.isOpen)\n\t\treturn instance.editor.inserterQuick.handleKeyDown(evt);\n\n\tif (evt.key === \"Enter\" && !evt.shiftKey)\n\t\treturn kdHandleEnterWhenNotShift(evt, text, instance);\n\n\tif (evt.key === \"Backspace\" && text.trim() === \"\")\n\t\treturn kdHandleBackspaceWhenEmpty(evt, instance);\n\n\tif (evt.key === \"Backspace\" && anchorOffset === 0 && focusOffset === 0)\n\t\treturn kdHandleBackspaceWhenAtStart(evt, text, instance);\n\n\tif (evt.key === \"ArrowDown\" && atEdge(evt.target, true, true))\n\t\treturn kdHandleArrowDownAtEnd(evt, instance);\n\n\tif (evt.key === \"ArrowUp\" && atEdge(evt.target, false, true))\n\t\treturn kdHandleArrowUpAtStart(evt, instance);\n\n\tif (evt.key === \"ArrowRight\" && atEdge(evt.target, true))\n\t\treturn kdHandleArrowDownAtEnd(evt, instance);\n\n\tif (evt.key === \"ArrowLeft\" && atEdge(evt.target, false))\n\t\treturn kdHandleArrowUpAtStart(evt, instance);\n}\n\nexport function onPaste(evt, instance)\n{\n\tconst textData = evt.clipboardData.getData(\"Text\");\n\n\tif (!textData.match(/\\r\\n|\\r|\\n/))\n\t\treturn;\n\n\tevt.preventDefault();\n\n\tconst contents = textData\n\t\t.split(/\\r\\n|\\r|\\n/g)\n\t\t.map(paragraph => paragraph.trim())\n\t\t.filter(paragrap => paragrap.length > 0);\n\n\tconst parent = instance.parent;\n\n\tparent.transaction(() =>\n\t{\n\t\tconst blocks = contents.map(text => ({id: \"paragraph\", options: {text}}));\n\t\tparent.insertBlocks(blocks, instance.index, {placeAtEnd: true}, true, parent);\n\t\tinstance.remove();\n\t});\n}\n\nexport function render(tag, h, {options})\n{\n\treturn h(tag, {\n\t\tclass: options.class,\n\t\tdomProps: {\n\t\t\tinnerHTML: options.text\n\t\t},\n\t\tstyle: getStyles(options)\n\t});\n}\n\nexport function renderEditor(tag, h, instance, placeholder = \"Start writing...\")\n{\n\tcanUpdate = true;\n\n\treturn h(tag, {\n\t\tattrs: {\n\t\t\t\"data-placeholder\": translate(placeholder)\n\t\t},\n\t\tclass: instance.options.class,\n\t\tdomProps: {\n\t\t\tcontentEditable: \"true\",\n\t\t\tinnerHTML: removeEmptyDivs(instance.options.text)\n\t\t},\n\t\tstyle: getStyles(instance.options),\n\t\ton: {\n\t\t\tblur: evt => onBlur(evt, instance),\n\t\t\tclick: () => instance.context.$forceUpdate(),\n\t\t\tinput: evt => onInput(evt, tag, instance),\n\t\t\tkeydown: evt => onKeyDown(evt, instance),\n\t\t\tpaste: evt => onPaste(evt, instance)\n\t\t}\n\t});\n}\n\nexport function removeEmptyElements(evt)\n{\n\tArray.from(evt.target.querySelectorAll(\"br,b:empty,i:empty,p:empty\"))\n\t\t.forEach(br => br.remove());\n}\n\nfunction kdHandleArrowDownAtEnd(evt, instance)\n{\n\tif (!instance.nextSibbling)\n\t\treturn;\n\n\tevt.preventDefault();\n\n\tinstance.nextSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, false));\n}\n\nfunction kdHandleArrowUpAtStart(evt, instance)\n{\n\tif (!instance.previousSibbling)\n\t\treturn;\n\n\tevt.preventDefault();\n\n\tinstance.previousSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, true));\n}\n\nfunction kdHandleBackspaceWhenAtStart(evt, text, instance)\n{\n\tevt.preventDefault();\n\n\tconst sibbling = instance.previousSibbling;\n\n\tif (!sibbling || allowAppend.indexOf(sibbling.block.id) === -1)\n\t\treturn;\n\n\tplaceCaretAtEdge(sibbling.element, true);\n\n\tconst sibblingText = sibbling.options.text.trim();\n\tconst {anchorOffset} = caretPosition(sibbling.element);\n\tconst offsetAdjustment = (text !== \"\" && sibblingText !== \"\" && !sibblingText.endsWith(\"&nbsp;\")) ? 1 : 0;\n\tconst combinedText = decodeEntities(sibblingText + (offsetAdjustment === 1 ? \" \" : \"\") + text).trim();\n\n\tconst offset = anchorOffset + offsetAdjustment;\n\n\tsibbling.setOptions({text: combinedText});\n\tsibbling.nextTick(() =>\n\t{\n\t\tinstance.remove(false);\n\t\tsibbling.nextTick(() => sibbling.focus({}, () => placeCaretAt(sibbling.element, offset)));\n\t});\n}\n\nfunction kdHandleBackspaceWhenEmpty(evt, instance)\n{\n\tevt.preventDefault();\n\n\tconst sibbling = instance.previousSibbling;\n\n\tif (!sibbling)\n\t\treturn;\n\n\tsibbling.focus({select: true, placeAtEnd: true});\n\tinstance.remove(false);\n}\n\nfunction kdHandleEnterWhenNotShift(evt, text, instance)\n{\n\tinstance.editor.inserterQuick.close();\n\n\tif (atEdge(evt.target))\n\t{\n\t\tevt.preventDefault();\n\t\tinstance.insertBlock(\"paragraph\", instance.index, {}, null);\n\t\tinstance.focus({placeAtEnd: false});\n\t}\n\telse if (atEdge(evt.target, true))\n\t{\n\t\tevt.preventDefault();\n\t\tinstance.insertBlock(\"paragraph\", instance.index + 1, {text: \"\"}, {});\n\t}\n\telse\n\t{\n\t\tinstance.raf(() =>\n\t\t{\n\t\t\tconst childElements = Array.from(evt.target.getElementsByTagName(\"div\"));\n\t\t\tconst newElement = childElements[childElements.length - 1];\n\n\t\t\tif (!newElement)\n\t\t\t\treturn;\n\n\t\t\tconst html = decodeEntities(newElement.innerHTML);\n\t\t\tnewElement.remove();\n\n\t\t\tinstance.setOptions({text: decodeEntities(evt.target.innerHTML)});\n\t\t\tinstance.insertBlock(\"paragraph\", instance.index + 1, {...instance.options, text: html}, {placeAtEnd: false});\n\t\t});\n\t}\n}\n","import { button } from \"./element\";\n\nexport function commandButtonToggle(h, instance, icon, command, ariaLabel = null)\n{\n\tconst can = document.queryCommandEnabled(command);\n\tconst is = document.queryCommandState(command);\n\n\treturn button(h, {\n\t\tcolor: is ? \"primary\" : null,\n\t\tariaLabel: ariaLabel,\n\t\tdisabled: !can,\n\t\ticonBefore: icon,\n\t\ttype: is ? \"outline\" : \"text\"\n\t}, () => instance.focusAndExecute(() => document.execCommand(command)));\n}\n","import { button } from \"./element\";\n\nexport function functionButtonToggle(h, instance, icon, can, is, fn, ariaLabel)\n{\n\treturn button(h, {\n\t\tariaLabel: ariaLabel,\n\t\tcolor: is ? \"primary\" : null,\n\t\tdisabled: !can,\n\t\ticonBefore: icon,\n\t\ttype: is ? \"outline\" : \"text\"\n\t}, () => instance.focusAndExecute(fn));\n}\n","import { commandButtonToggle } from \"./command\";\nimport { functionButtonToggle } from \"./function\";\n\nimport Fragment from \"../../component/Fragment\";\n\nexport function alignments(h, instance)\n{\n\treturn h(Fragment, [\n\t\tfunctionButtonToggle(h, instance, \"format-align-left\", true, instance.options.align === \"left\", () => instance.setOptions({align: \"left\"}), \"Align left\"),\n\t\tfunctionButtonToggle(h, instance, \"format-align-center\", true, instance.options.align === \"center\", () => instance.setOptions({align: \"center\"}), \"Align center\"),\n\t\tfunctionButtonToggle(h, instance, \"format-align-right\", true, instance.options.align === \"right\", () => instance.setOptions({align: \"right\"}), \"Align right\"),\n\t\tfunctionButtonToggle(h, instance, \"format-align-justify\", true, instance.options.align === \"justify\", () => instance.setOptions({align: \"justify\"}), \"Align justify\")\n\t]);\n}\n\nexport function boldItalicUnderline(h, instance)\n{\n\treturn h(Fragment, [\n\t\tcommandButtonToggle(h, instance, \"format-bold\", \"bold\", \"Bold\"),\n\t\tcommandButtonToggle(h, instance, \"format-italic\", \"italic\", \"Italic\"),\n\t\tcommandButtonToggle(h, instance, \"format-underline\", \"underline\", \"Underline\")\n\t]);\n}\n\nexport function indent(h, instance)\n{\n\treturn h(Fragment, [\n\t\tfunctionButtonToggle(h, instance, \"format-indent-decrease\", instance.options.indent > 0, false, () => instance.setOptions({indent: instance.options.indent - 1}), \"Outdent\"),\n\t\tfunctionButtonToggle(h, instance, \"format-indent-increase\", instance.options.indent <= 10, false, () => instance.setOptions({indent: instance.options.indent + 1}), \"Indent\")\n\t]);\n}\n","import { Block } from \"../../core/block/block\";\nimport { render, renderEditor } from \"../primitive/text\";\nimport { description, fragment, group, settings, sidebar, toolbar } from \"../../ui/render/settings\";\nimport { simpleColorSelect } from \"../../ui/render/color\";\nimport { alignments } from \"../../ui/render/text\";\nimport { additionalClasses, advancedOptions, blockActions } from \"../../ui/render/block\";\nimport { translate } from \"../../core/i18n\";\nimport { button, divider, optionButtons } from \"../../ui/render/element\";\n\nconst headerTypes = [\n\t{value: \"h1\", icon: \"format-header-1\", tooltip: \"Header 1\"},\n\t{value: \"h2\", icon: \"format-header-2\", tooltip: \"Header 2\"},\n\t{value: \"h3\", icon: \"format-header-3\", tooltip: \"Header 3\"},\n\t{value: \"h4\", icon: \"format-header-4\", tooltip: \"Header 4\"},\n\t{value: \"h5\", icon: \"format-header-5\", tooltip: \"Header 5\"},\n\t{value: \"h6\", icon: \"format-header-6\", tooltip: \"Header 6\"}\n];\n\nexport class HeadingBlock extends Block\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\talign: \"left\",\n\t\t\tclass: \"\",\n\t\t\tcolor: undefined,\n\t\t\ttype: \"h3\",\n\t\t\ttext: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"Represents a header text.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\n\t\t\ttranslate(\"Heading\"),\n\t\t\ttranslate(\"Text\"),\n\t\t\ttranslate(\"h1\"),\n\t\t\ttranslate(\"h2\"),\n\t\t\ttranslate(\"h3\"),\n\t\t\ttranslate(\"h4\"),\n\t\t\ttranslate(\"h5\"),\n\t\t\ttranslate(\"h6\")\n\t\t];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Header\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"heading\", \"text\", \"format-header-pound\");\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn render(instance.options.type, h, instance);\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\tconst isValidHeading = headerTypes.find(h => h.value === instance.options.type) !== undefined;\n\n\t\treturn renderEditor(isValidHeading ? instance.options.type : \"h3\", h, instance);\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this),\n\t\t\t\tgroup(h, \"Text settings\", true, [\n\t\t\t\t\toptionButtons(h, \"Header\", headerTypes, () => instance.options.type, type => instance.setOptions({type}), false)\n\t\t\t\t]),\n\t\t\t\tgroup(h, \"Color settings\", true, [\n\t\t\t\t\tsimpleColorSelect(h, \"Color\", () => instance.options.color, color => instance.setOptions({color}))\n\t\t\t\t]),\n\t\t\t\tadvancedOptions(h, [\n\t\t\t\t\tadditionalClasses(h, instance)\n\t\t\t\t])\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t]),\n\t\t\ttoolbar(h, instance, [\n\t\t\t\tfragment(h, headerTypes.slice(1, 4).map(b => button(h, {\n\t\t\t\t\t...b,\n\t\t\t\t\ticonBefore: b.icon,\n\t\t\t\t\tclass: \"m-0\",\n\t\t\t\t\tcolor: instance.options.type === b.value ? \"primary\" : null,\n\t\t\t\t\ttype: instance.options.type === b.value ? \"outline\" : \"text\"\n\t\t\t\t}, () => instance.setOptions({type: b.value})))),\n\t\t\t\tdivider(h, false),\n\t\t\t\talignments(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","import { getStyles, onBlur, onKeyDown as textOnKeyDown, removeEmptyElements } from \"./text\";\nimport { first, last } from \"../../util/array\";\nimport { atEdge } from \"../../util/selection\";\nimport { Block } from \"../../core/block/block\";\nimport { description, fragment, group, settings, sidebar, toolbar } from \"../../ui/render/settings\";\nimport { divider, rangeSlider } from \"../../ui/render/element\";\nimport { simpleColorSelect } from \"../../ui/render/color\";\nimport { additionalClasses, advancedOptions, blockActions } from \"../../ui/render/block\";\nimport { alignments, boldItalicUnderline } from \"../../ui/render/text\";\n\nexport class AbstractListBlock extends Block\n{\n\n\t#tag;\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\talign: \"left\",\n\t\t\tcolor: undefined,\n\t\t\tfontSize: 1,\n\t\t\ttext: \"<li></li>\"\n\t\t};\n\t}\n\n\tconstructor(tag, id, category, icon)\n\t{\n\t\tsuper(id, category, icon);\n\n\t\tthis.#tag = tag;\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn h(this.#tag, {\n\t\t\tclass: instance.options.class,\n\t\t\tdomProps: {\n\t\t\t\tinnerHTML: instance.options.text\n\t\t\t},\n\t\t\tstyle: getStyles(instance.options)\n\t\t});\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn h(this.#tag, {\n\t\t\tclass: instance.options.class,\n\t\t\tdomProps: {\n\t\t\t\tcontentEditable: \"true\",\n\t\t\t\tinnerHTML: instance.options.text\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tblur: evt => onBlur(evt, instance),\n\t\t\t\tinput: () => instance.updateEditor(false),\n\t\t\t\tkeydown: evt => onKeyDown(evt, instance)\n\t\t\t},\n\t\t\tstyle: getStyles(instance.options)\n\t\t});\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this),\n\t\t\t\tgroup(h, \"Text settings\", true, [\n\t\t\t\t\trangeSlider(h, \"Size\", () => instance.options.fontSize, fontSize => instance.setOptions({fontSize}), .7, 3, .1, \"@0em\")\n\t\t\t\t]),\n\t\t\t\tgroup(h, \"Color settings\", true, [\n\t\t\t\t\tsimpleColorSelect(h, \"Color\", () => instance.options.color, color => instance.setOptions({color}))\n\t\t\t\t]),\n\t\t\t\tadvancedOptions(h, [\n\t\t\t\t\tadditionalClasses(h, instance)\n\t\t\t\t])\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t]),\n\t\t\ttoolbar(h, instance, [\n\t\t\t\tboldItalicUnderline(h, instance),\n\t\t\t\tdivider(h, false),\n\t\t\t\talignments(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n\nfunction onKeyDown(evt, instance)\n{\n\tconst list = evt.target;\n\tconst items = Array.from(list.getElementsByTagName(\"li\"));\n\n\tconst firstItem = first(items);\n\tconst lastItem = last(items);\n\n\tif (evt.key === \"Enter\")\n\t{\n\t\tremoveEmptyElements(evt);\n\n\t\tif (atEdge(list, true) && lastItem.innerHTML.trim() === \"\")\n\t\t{\n\t\t\tevt.preventDefault();\n\t\t\tlastItem.remove();\n\t\t\tinstance.insertBlock(\"paragraph\", instance.index + 1, {text: \" \"}, {placeAtEnd: false});\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif (evt.key === \"Backspace\")\n\t{\n\t\tremoveEmptyElements(evt);\n\n\t\tif (atEdge(list) && items.length === 1 && firstItem.innerHTML.trim() === \"\")\n\t\t{\n\t\t\tevt.preventDefault();\n\t\t\tinstance.remove();\n\t\t}\n\n\t\treturn;\n\t}\n\n\ttextOnKeyDown(evt, instance);\n}\n","import { AbstractListBlock } from \"../primitive/list\";\nimport { translate } from \"../../core/i18n\";\n\nexport class OrderedListBlock extends AbstractListBlock\n{\n\n\tget description()\n\t{\n\t\treturn translate(\"An list that is ordered with numbers.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"List\"), translate(\"Ordered\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Ordered List\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"ol\", \"ordered-list\", \"text\", \"format-list-numbered\");\n\t}\n\n}\n","import { Block } from \"../../core/block/block\";\nimport { render, renderEditor } from \"../primitive/text\";\nimport { description, fragment, group, settings, sidebar, toolbar } from \"../../ui/render/settings\";\nimport { simpleColorSelect } from \"../../ui/render/color\";\nimport { divider, rangeSlider } from \"../../ui/render/element\";\nimport { alignments, boldItalicUnderline, indent } from \"../../ui/render/text\";\nimport { additionalClasses, advancedOptions, blockActions } from \"../../ui/render/block\";\nimport { translate } from \"../../core/i18n\";\n\nexport class ParagraphBlock extends Block\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\talign: \"left\",\n\t\t\tclass: \"\",\n\t\t\tcolor: undefined,\n\t\t\tfontSize: 1,\n\t\t\tindent: 0,\n\t\t\ttext: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"A simple paragraph of text.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"Text\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Paragraph\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"paragraph\", \"text\", \"format-pilcrow\");\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn render(\"p\", h, instance);\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn renderEditor(\"p\", h, instance, \"Start writing or type / to insert a block...\");\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this),\n\t\t\t\tgroup(h, \"Text settings\", true, [\n\t\t\t\t\trangeSlider(h, \"Size\", () => instance.options.fontSize, fontSize => instance.setOptions({fontSize}), .7, 3, .1, \"@0em\")\n\t\t\t\t]),\n\t\t\t\tgroup(h, \"Color settings\", true, [\n\t\t\t\t\tsimpleColorSelect(h, \"Color\", () => instance.options.color, color => instance.setOptions({color}))\n\t\t\t\t]),\n\t\t\t\tadvancedOptions(h, [\n\t\t\t\t\tadditionalClasses(h, instance)\n\t\t\t\t])\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t]),\n\t\t\ttoolbar(h, instance, [\n\t\t\t\tboldItalicUnderline(h, instance),\n\t\t\t\tdivider(h, false),\n\t\t\t\talignments(h, instance),\n\t\t\t\tdivider(h, false),\n\t\t\t\tindent(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","import { AbstractListBlock } from \"../primitive/list\";\nimport { translate } from \"../../core/i18n\";\n\nexport class UnorderedListBlock extends AbstractListBlock\n{\n\n\tget description()\n\t{\n\t\treturn translate(\"An list that is not ordered.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"List\"), translate(\"Unordered\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Unordered List\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"ul\", \"unordered-list\", \"text\", \"format-list-bulleted\");\n\t}\n\n}\n","import { Block } from \"../../core/block/block\";\nimport { convertBlock, renderChildren, renderInstances } from \"../../core/block/api\";\nimport { range } from \"../../util/array\";\nimport { description, fragment, group, row, settings, sidebar } from \"../../ui/render/settings\";\nimport { additionalClasses, advancedOptions, blockActions } from \"../../ui/render/block\";\nimport { either, optional } from \"../../util/vue\";\nimport { inserterNag } from \"../../ui/render/inserter\";\nimport { rangeSlider, toggleButton } from \"../../ui/render/element\";\nimport { translate } from \"../../core/i18n\";\n\nimport BlockView from \"../../component/BlockView\";\n\nconst presets = [\n\t{\n\t\tcolumns: 2,\n\t\tclasses: [\n\t\t\t\"col-12 col-lg-4\",\n\t\t\t\"col-12 col-lg-8\"\n\t\t],\n\t\tpreview: [33, 67]\n\t},\n\t{\n\t\tcolumns: 2,\n\t\tclasses: [\n\t\t\t\"col-12 col-lg-8\",\n\t\t\t\"col-12 col-lg-4\"\n\t\t],\n\t\tpreview: [67, 33]\n\t},\n\t{\n\t\tcolumns: 3,\n\t\tclasses: [\n\t\t\t\"col-12 col-lg-3\",\n\t\t\t\"col-12 col-lg-6\",\n\t\t\t\"col-12 col-lg-3\"\n\t\t],\n\t\tpreview: [25, 50, 25]\n\t}\n];\n\nfunction presetsSelect(h, instance)\n{\n\treturn row(h, false, [\n\t\th(\"h6\", translate(\"Presets\")),\n\t\th(\"div\", {class: \"d-flex flex-wrap be-columns-presets\"}, presets.map((preset, index) => presetColumn(h, instance, preset, index)))\n\t]);\n}\n\nfunction presetColumn(h, instance, preset, index)\n{\n\tconst columns = Array(preset.columns)\n\t\t.fill(undefined)\n\t\t.map((_, column) => h(\"div\", {class: \"column\", style: {flexGrow: preset.preview[column]}}));\n\n\treturn h(\"div\", {\n\t\tclass: `preset ${instance.options.preset === index ? \"is-active\" : \"\"}`,\n\t\ton: {\n\t\t\tclick: () => instance.transaction(() =>\n\t\t\t{\n\t\t\t\tinstance.setChildren(instance.children.slice(0, preset.columns));\n\t\t\t\tinstance.setOptions({preset: index === instance.options.preset ? -1 : index});\n\n\t\t\t\tinstance.children.forEach(child => child.updateEditor());\n\t\t\t})\n\t\t}\n\t}, columns);\n}\n\nexport function instanceChildOrDefault(block, instance, index)\n{\n\tif (instance.children[index])\n\t\treturn instance.children[index];\n\n\treturn convertBlock(instance.editor, index, {id: block.groupBlock, children: []}, instance);\n}\n\nexport class ColumnBlock extends Block\n{\n\n\tget canHaveChildren()\n\t{\n\t\treturn true;\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"A single column used in the columns block.\");\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Column\");\n\t}\n\n\tget showInInserter()\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"column\", \"\", \"\");\n\t}\n\n\trender(h, instance)\n\t{\n\t\tconst preset = presets[instance.parent.options.preset] || undefined;\n\n\t\treturn h(\"div\", {class: preset ? preset.classes[instance.index] : \"col-12 col-lg\"}, renderChildren(instance));\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\tconst preset = presets[instance.parent.options.preset] || undefined;\n\t\tconst classes = `be-block-column ${preset ? preset.classes[instance.index] : \"col-12 col-lg\"}`;\n\n\t\treturn either(\n\t\t\tinstance.children.length > 0,\n\t\t\t() => h(\"div\", {class: classes}, renderInstances(h, instance)),\n\t\t\t() => h(\"div\", {class: classes}, [\n\t\t\t\tinserterNag(h, instance)\n\t\t\t])\n\t\t);\n\t}\n\n}\n\nexport class ColumnsBlock extends Block\n{\n\n\tget canHaveChildren()\n\t{\n\t\treturn true;\n\t}\n\n\tget canHaveGroups()\n\t{\n\t\treturn true;\n\t}\n\n\tget groupBlock()\n\t{\n\t\treturn \"column\";\n\t}\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tclass: \"\",\n\t\t\tcolumns: 2,\n\t\t\tgutters: true,\n\t\t\tpreset: -1\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"Displays blocks in a column view.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"Grid\"), translate(\"Container\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Columns\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"columns\", \"layout\", \"view-column\");\n\t}\n\n\tprerender(instance)\n\t{\n\t\tconst preset = presets[instance.options.preset] || undefined;\n\t\tconst classes = `row be-block-columns ${instance.options.class} ${instance.options.gutters ? \"\" : \"no-gutters\"}`;\n\t\tconst columns = preset ? preset.columns : instance.options.columns;\n\n\t\treturn {preset, classes, columns};\n\t}\n\n\trender(h, instance)\n\t{\n\t\tconst {classes, columns} = this.prerender(instance);\n\n\t\trange(0, columns, index =>\n\t\t{\n\t\t\tconst child = instanceChildOrDefault(this, instance, index);\n\n\t\t\tif (!instance.children[index])\n\t\t\t\tinstance.children.push(child);\n\t\t});\n\n\t\treturn h(\"div\", {class: classes}, renderChildren(instance));\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\tconst {classes, columns} = this.prerender(instance);\n\n\t\trange(0, columns, index =>\n\t\t{\n\t\t\tconst child = instanceChildOrDefault(this, instance, index);\n\n\t\t\tif (!instance.children[index])\n\t\t\t\tinstance.children.push(child);\n\t\t});\n\n\t\treturn h(\"div\", {class: classes}, instance.children.map(child => h(BlockView, {\n\t\t\tkey: child.hash,\n\t\t\tprops: {instance: child}\n\t\t})));\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this),\n\t\t\t\tgroup(h, \"Grid settings\", true, [\n\t\t\t\t\tpresetsSelect(h, instance),\n\t\t\t\t\toptional(instance.options.preset === -1, () => rangeSlider(h, \"Amount of columns\", () => instance.options.columns, columns =>\n\t\t\t\t\t{\n\t\t\t\t\t\tinstance.setOptions({columns});\n\t\t\t\t\t\tinstance.setChildren(instance.children.slice(0, columns));\n\t\t\t\t\t}, 2, 6, 1, \"@0 columns\")),\n\t\t\t\t\ttoggleButton(h, \"Gutters\", () => instance.options.gutters, gutters => instance.setOptions({gutters}))\n\t\t\t\t]),\n\t\t\t\tadvancedOptions(h, [\n\t\t\t\t\tadditionalClasses(h, instance)\n\t\t\t\t])\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","import { Block } from \"../../core/block/block\";\nimport { description, fragment, settings, sidebar } from \"../../ui/render/settings\";\nimport { blockActions } from \"../../ui/render/block\";\nimport { translate } from \"../../core/i18n\";\n\nexport class PageBreakBlock extends Block\n{\n\n\tget description()\n\t{\n\t\treturn translate(\"Breaks the page into multiple views.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"Break\"), translate(\"Pages\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"Page Break\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"page-break\", \"layout\", \"format-page-break\");\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn document.createComment(\"page-break\");\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn h(\"div\", {class: \"be-page-break-mount\"}, [\n\t\t\th(\"div\", {\n\t\t\t\tattrs: {\"data-text\": translate(\"Page Break\")},\n\t\t\t\tclass: \"be-page-break\"\n\t\t\t})\n\t\t]);\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this)\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","import { Block } from \"../../core/block/block\";\r\nimport { renderChildren, renderInstances } from \"../../core/block/api\";\r\nimport { either } from \"../../util/vue\";\r\nimport { inserterNag } from \"../../ui/render/inserter\";\r\nimport { description, fragment, settings, sidebar } from \"../../ui/render/settings\";\r\nimport { additionalClasses, advancedOptions, blockActions } from \"../../ui/render/block\";\r\nimport { translate } from \"../../core/i18n\";\r\n\r\nexport class WrapperBlock extends Block\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn translate(\"Wraps blocks into a wrapper.\");\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [translate(\"Container\")];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn translate(\"Wrapper\");\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"wrapper\", \"layout\", \"border-none-variant\");\r\n\t}\r\n\r\n\trender(h, instance)\r\n\t{\r\n\t\treturn h(\"div\", {class: `be-block-wrapper ${instance.options.class}`}, renderChildren(instance));\r\n\t}\r\n\r\n\trenderEditor(h, instance)\r\n\t{\r\n\t\treturn either(\r\n\t\t\tinstance.children.length > 0,\r\n\t\t\t() => h(\"div\", {class: `be-block-wrapper ${instance.options.class}`}, renderInstances(h, instance)),\r\n\t\t\t() => h(\"div\", {class: `be-block-wrapper ${instance.options.class}`}, [\r\n\t\t\t\tinserterNag(h, instance)\r\n\t\t\t])\r\n\t\t);\r\n\t}\r\n\r\n\trenderOptions(h, instance)\r\n\t{\r\n\t\treturn fragment(h, [\r\n\t\t\tsettings(h, instance, [\r\n\t\t\t\tdescription(h, this),\r\n\t\t\t\tadvancedOptions(h, [\r\n\t\t\t\t\tadditionalClasses(h, instance)\r\n\t\t\t\t])\r\n\t\t\t]),\r\n\t\t\tsidebar(h, instance, [\r\n\t\t\t\tblockActions(h, instance)\r\n\t\t\t])\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { Block } from \"../../core/block/block\";\nimport { description, fragment, group, settings, sidebar } from \"../../ui/render/settings\";\nimport { textField } from \"../../ui/render/element\";\nimport { blockActions } from \"../../ui/render/block\";\nimport { translate } from \"../../core/i18n\";\n\nexport class YouTubeEmbedBlock extends Block\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tvideoId: \"2TuyT0knklM\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"Embeds a YouTube-video.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"Embed\"), translate(\"Video\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"YouTube video\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"youtube-embed\", \"embeds\", \"youtube\");\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\n\t\t\th(\"iframe\", {\n\t\t\t\tdomProps: {\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${instance.options.videoId}`\n\t\t\t\t}\n\t\t\t})\n\t\t]);\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\treturn this.render(h, instance);\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this),\n\t\t\t\tgroup(h, \"YouTube\", true, [\n\t\t\t\t\ttextField(h, \"Video-ID\", () => instance.options.videoId, videoId => instance.setOptions({videoId}))\n\t\t\t\t])\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","import { translate } from \"../../core/i18n\";\n\nexport function tab(h, label, options = {}, children = [])\n{\n\tif (!options.props)\n\t\toptions.props = {};\n\n\toptions.props.label = translate(label);\n\n\treturn h(\"latte-tab\", options, children);\n}\n\nexport function tabBar(h, options = {})\n{\n\treturn h(\"latte-tab-bar\", options);\n}\n\nexport function tabContainer(h, options = {}, children = [])\n{\n\tif (typeof children === \"function\")\n\t{\n\t\toptions.scopedSlots = {\n\t\t\tdefault: children\n\t\t};\n\n\t\tchildren = undefined;\n\t}\n\n\treturn h(\"latte-tab-container\", options, children);\n}\n","import Vue from \"vue\";\n\nexport function simpleRender(h, template)\n{\n\treturn h(Vue.extend({\n\t\ttemplate\n\t}));\n}\n","export function portal(h, to, children)\n{\n\treturn h(\"latte-portal\", {props: {to}}, children);\n}\n\nexport function target(h, name)\n{\n\treturn h(\"latte-portal-target\", {props: {name}});\n}\n","import { Block } from \"../../core/block/block\";\nimport { Latte } from \"../../util/latte\";\nimport { description, fragment, settings, sidebar, toolbar } from \"../../ui/render/settings\";\nimport { blockActions } from \"../../ui/render/block\";\nimport { tab, tabContainer } from \"../../ui/render/tabs\";\nimport { simpleRender } from \"../../ui/render/vue\";\nimport { portal, target } from \"../../ui/render/portal\";\nimport { button } from \"../../ui/render/element\";\nimport { either } from \"../../util/vue\";\nimport { inserterNagAbstract } from \"../../ui/render/inserter\";\nimport { translate } from \"../../core/i18n\";\n\nexport class HtmlBlock extends Block\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tcode: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn translate(\"Allows you to add custom HTML code.\");\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [translate(\"Custom\"), translate(\"Code\")];\n\t}\n\n\tget name()\n\t{\n\t\treturn translate(\"HTML\");\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"html\", \"other\", \"language-html5\");\n\t}\n\n\trender(h, instance)\n\t{\n\t\treturn Latte.util.dom.toDOM(instance.options.code.replace(/\\t/g, \"\").replace(/\\r?\\n|\\r/g, \" \"));\n\t}\n\n\trenderEditor(h, instance)\n\t{\n\t\tconst dom = Latte.util.dom.toDOM(instance.options.code);\n\n\t\treturn tabContainer(h, {style: {minHeight: \"24px\", zIndex: \"0\"}}, ({current, tabs, setCurrent}) => [\n\t\t\tportal(h, `${instance.hash}-toolbar`, tabs.map((tab, index) => button(h, {\n\t\t\t\tclasses: index === 0 ? [\"\"] : [\"ml-2\"],\n\t\t\t\tlabel: tab.label,\n\t\t\t\tcolor: current === index ? \"primary\" : undefined,\n\t\t\t\ttype: current === index ? \"outline\" : \"text\"\n\t\t\t}, () => setCurrent(index)))),\n\t\t\ttab(h, \"Visual\", undefined, [\n\t\t\t\teither(\n\t\t\t\t\tdom.children.length === 0,\n\t\t\t\t\t() => inserterNagAbstract(h, \"code-tags\", \"Edit HTML\", () => setCurrent(1)),\n\t\t\t\t\t() => simpleRender(h, (instance.options.code.trim() !== \"\" ? `<div class=\"be-block-html\">${instance.options.code}</div>` : \"<div></div>\")\n\t\t\t\t\t\t.replace(/href=/g, \"data-be-href=\")\n\t\t\t\t\t\t.replace(/data-action=/g, \"data-be-action=\"))\n\t\t\t\t)\n\t\t\t]),\n\t\t\ttab(h, \"Code\", undefined, [\n\t\t\t\th(\"textarea\", {\n\t\t\t\t\tclass: \"form-control text-monospace\",\n\t\t\t\t\tdomProps: {rows: 10, value: instance.options.code},\n\t\t\t\t\ton: {input: evt => instance.setOptions({code: evt.target.value})}\n\t\t\t\t})\n\t\t\t])\n\t\t]);\n\t}\n\n\trenderOptions(h, instance)\n\t{\n\t\treturn fragment(h, [\n\t\t\tsettings(h, instance, [\n\t\t\t\tdescription(h, this)\n\t\t\t]),\n\t\t\tsidebar(h, instance, [\n\t\t\t\tblockActions(h, instance)\n\t\t\t]),\n\t\t\ttoolbar(h, instance, [\n\t\t\t\ttarget(h, `${instance.hash}-toolbar`)\n\t\t\t])\n\t\t]);\n\t}\n\n}\n","import { first } from \"../../util/array\";\n\nimport * as DefaultBlocks from \"../../block\";\n\nexport class BlockRegistry\n{\n\n\tstatic #blocks = [];\n\n\tstatic get blocks()\n\t{\n\t\treturn this.#blocks\n\t\t\t.filter(b => b.showInInserter);\n\t}\n\n\tstatic findById(id)\n\t{\n\t\treturn first(this.#blocks.filter(b => b.id === id));\n\t}\n\n\tstatic register(block)\n\t{\n\t\tif (this.#blocks.find(b => b.id === block.id))\n\t\t\treturn;\n\n\t\tthis.#blocks.push(block);\n\t}\n\n\tstatic registerDefaults()\n\t{\n\t\tconst defaultBlocks = Object.values(DefaultBlocks);\n\t\tdefaultBlocks.forEach(Block => this.register(new Block()));\n\t}\n\n\tstatic unregister(block)\n\t{\n\t\tthis.#blocks = this.#blocks\n\t\t\t.filter(b => b.id !== block.id);\n\t}\n\n}\n\nexport function initializeBlockRegistry()\n{\n\tBlockRegistry.registerDefaults();\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-editor\"},[_c('InserterPopup',{ref:\"inserter\"}),_c('InserterQuick',{ref:\"inserterQuick\"}),_c('div',{staticClass:\"be-editor-content\"},[_c('Toolbar',{scopedSlots:_vm._u([{key:\"start-before\",fn:function(){return [_vm._t(\"toolbar-start-before\")]},proxy:true},{key:\"start-after\",fn:function(){return [_vm._t(\"toolbar-start-after\")]},proxy:true},{key:\"end-before\",fn:function(){return [_vm._t(\"toolbar-end-before\")]},proxy:true},{key:\"end-after\",fn:function(){return [_vm._t(\"toolbar-end-after\")]},proxy:true}],null,true)}),(_vm.view === 'visual')?_c('ContentMount',{attrs:{\"content\":_vm.content}}):(_vm.view === 'code')?_c('CodeMount',{attrs:{\"content\":_vm.content}}):_vm._e()],1),_c('Settings',{scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_vm._t(\"settings-before\")]},proxy:true},{key:\"document\",fn:function(){return [_vm._t(\"settings-document\")]},proxy:true},{key:\"after\",fn:function(){return [_vm._t(\"settings-after\")]},proxy:true}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-tab-container',{staticClass:\"be-content-mount d-flex flex-column code-view\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar tabs = ref.tabs;\nvar setCurrent = ref.setCurrent;\nreturn [_c('latte-portal',{attrs:{\"slim\":\"\",\"to\":\"toolbar-center\"}},[_c('nav',{staticClass:\"nav nav-tabs\",staticStyle:{\"--tabsAccent\":\"var(--colorPrimary)\",\"--tabsHeight\":\"var(--appBarHeight)\"}},[_vm._l((tabs),function(tab,index){return [_c('a',{staticClass:\"nav-link\",class:{'is-active': tab.active},on:{\"click\":function($event){return setCurrent(index)}}},[(tab.icon !== '')?_c('Icon',{attrs:{\"name\":tab.icon}}):_vm._e(),(tab.label !== '')?_c('span',[_vm._v(_vm._s(tab.label))]):_vm._e(),(tab.badge !== '')?_c('span',{staticClass:\"badge badge-primary ml-2\"},[_vm._v(_vm._s(tab.badge))]):_vm._e()],1)]})],2)]),_c('latte-tab',{staticClass:\"flex-grow-1\",attrs:{\"label\":\"HTML\"}},[_c('textarea',{staticClass:\"text-monospace\",attrs:{\"readonly\":\"\",\"aria-label\":_vm._f(\"beTranslate\")('Code view')}},[_vm._v(_vm._s(_vm.html))])]),_c('latte-tab',{staticClass:\"flex-grow-1\",attrs:{\"label\":\"JSON\"}},[_c('textarea',{staticClass:\"text-monospace\",attrs:{\"readonly\":\"\",\"aria-label\":_vm._f(\"beTranslate\")('Code view')}},[_vm._v(_vm._s(_vm.json))])])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<latte-tab-container class=\"be-content-mount d-flex flex-column code-view\">\n\t\t<template #default=\"{tabs, setCurrent}\">\n\n\t\t\t<latte-portal slim to=\"toolbar-center\">\n\n\t\t\t\t<nav class=\"nav nav-tabs\" style=\"--tabsAccent: var(--colorPrimary); --tabsHeight: var(--appBarHeight)\">\n\n\t\t\t\t\t<template v-for=\"(tab, index) in tabs\">\n\t\t\t\t\t\t<a class=\"nav-link\" :class=\"{'is-active': tab.active}\" @click=\"setCurrent(index)\">\n\t\t\t\t\t\t\t<Icon :name=\"tab.icon\" v-if=\"tab.icon !== ''\"/>\n\t\t\t\t\t\t\t<span v-if=\"tab.label !== ''\">{{ tab.label }}</span>\n\t\t\t\t\t\t\t<span class=\"badge badge-primary ml-2\" v-if=\"tab.badge !== ''\">{{ tab.badge }}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</template>\n\n\t\t\t\t</nav>\n\n\t\t\t</latte-portal>\n\n\t\t\t<latte-tab label=\"HTML\" class=\"flex-grow-1\">\n\t\t\t\t<textarea readonly class=\"text-monospace\" :aria-label=\"'Code view' | beTranslate\">{{ html }}</textarea>\n\t\t\t</latte-tab>\n\n\t\t\t<latte-tab label=\"JSON\" class=\"flex-grow-1\">\n\t\t\t\t<textarea readonly class=\"text-monospace\" :aria-label=\"'Code view' | beTranslate\">{{ json }}</textarea>\n\t\t\t</latte-tab>\n\n\t\t</template>\n\t</latte-tab-container>\n\n</template>\n\n<script>\n\n\timport { BlockInstance } from \"../core/block/instance\";\n\timport { convertToHtml, convertToJson } from \"../core/block/api\";\n\n\texport default {\n\n\t\tname: \"CodeMount\",\n\n\t\tprops: {\n\t\t\tcontent: {required: true, type: BlockInstance | null}\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\thtml()\n\t\t\t{\n\t\t\t\treturn convertToHtml(this.content);\n\t\t\t},\n\n\t\t\tjson()\n\t\t\t{\n\t\t\t\treturn convertToJson(this.content, true);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeMount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeMount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CodeMount.vue?vue&type=template&id=5555bf26&\"\nimport script from \"./CodeMount.vue?vue&type=script&lang=js&\"\nexport * from \"./CodeMount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.content)?_c('div',{staticClass:\"be-content-mount\",on:{\"click\":_vm.onContentClick}},[_c('div',{staticClass:\"be-content-wrapper\"},[_c('BlockView',{attrs:{\"instance\":_vm.content}})],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"be-content-mount\" @click=\"onContentClick\" v-if=\"content\">\n\t\t<div class=\"be-content-wrapper\">\n\t\t\t<BlockView :instance=\"content\"/>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { BlockInstance } from \"../core/block/instance\";\n\timport { findEditor } from \"../util/vue\";\n\n\timport BlockView from \"./BlockView\";\n\n\texport default {\n\n\t\tname: \"ContentMount\",\n\n\t\tcomponents: {BlockView},\n\n\t\tprops: {\n\t\t\tcontent: {required: true, type: BlockInstance | null}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: findEditor(this)\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonContentClick()\n\t\t\t{\n\t\t\t\tthis.editor.$emit(\"be:reset-block-selection\");\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentMount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentMount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentMount.vue?vue&type=template&id=ecf71a6c&\"\nimport script from \"./ContentMount.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentMount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel panel-blank be-inserter\"},[_c('div',{staticClass:\"app-bar\"},[_c('div',{staticClass:\"app-bar-row app-bar-auto px-3 py-3\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-addon\"},[_c('Icon',{attrs:{\"name\":\"magnify\"}})],1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchTerm),expression:\"searchTerm\"}],staticClass:\"form-control\",attrs:{\"type\":\"search\",\"placeholder\":_vm._f(\"beTranslate\")('Search for blocks...'),\"aria-label\":_vm._f(\"beTranslate\")('Search for blocks...')},domProps:{\"value\":(_vm.searchTerm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchTerm=$event.target.value}}})])])]),_c('div',{staticClass:\"panel-body p-0\"},[(_vm.searchTerm === '')?_vm._l((_vm.categories),function(category){return _c('div',{staticClass:\"be-inserter-group\"},[_c('div',{staticClass:\"inserter-group-header\",on:{\"click\":function($event){_vm.currentCategory = category.id}}},[_c('Icon',{attrs:{\"name\":category.icon}}),_c('h6',[_vm._v(_vm._s(category.title))]),_c('Icon',{staticClass:\"ml-auto\",attrs:{\"name\":category.id === _vm.currentCategory ? 'chevron-up' : 'chevron-down'}})],1),(category.id === _vm.currentCategory)?_c('div',{staticClass:\"inserter-group-body\"},[(category.blocks.length > 0)?_vm._l((category.blocks),function(block){return _c('latte-ripple',{key:block.id,staticClass:\"inserter-block\",attrs:{\"as\":\"button\"},on:{\"click\":function($event){return _vm.onClick(block)}}},[_c('Icon',{attrs:{\"name\":block.icon}}),_c('span',[_vm._v(_vm._s(block.name))])],1)}):[_c('Notice',{staticStyle:{\"grid-column\":\"span 3\"},attrs:{\"icon\":\"alert-circle\"}},[_c('p',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"There are no blocks in this category.\")))])])]],2):_vm._e()])}):[_c('div',{staticClass:\"be-inserter-group\"},[_c('div',{staticClass:\"inserter-group-body\"},[(_vm.blocks.length > 0)?_vm._l((_vm.blocks),function(block){return _c('latte-ripple',{key:block.id,staticClass:\"inserter-block\",attrs:{\"as\":\"button\"},on:{\"click\":function($event){return _vm.onClick(block)}}},[_c('Icon',{attrs:{\"name\":block.icon}}),_c('span',[_vm._v(_vm._s(block.name))])],1)}):[_c('Notice',{staticStyle:{\"grid-column\":\"span 3\"},attrs:{\"icon\":\"alert-circle\"}},[_c('p',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"No blocks found matching your search term.\")))])])]],2)])]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"panel panel-blank be-inserter\">\n\t\t<div class=\"app-bar\">\n\t\t\t<div class=\"app-bar-row app-bar-auto px-3 py-3\">\n\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t<div class=\"input-group-addon\">\n\t\t\t\t\t\t<Icon name=\"magnify\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input type=\"search\" class=\"form-control\" :placeholder=\"'Search for blocks...' | beTranslate\" :aria-label=\"'Search for blocks...' | beTranslate\" v-model=\"searchTerm\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"panel-body p-0\">\n\n\t\t\t<template v-if=\"searchTerm === ''\">\n\n\t\t\t\t<div class=\"be-inserter-group\" v-for=\"category of categories\">\n\t\t\t\t\t<div class=\"inserter-group-header\" @click=\"currentCategory = category.id\">\n\t\t\t\t\t\t<Icon :name=\"category.icon\"/>\n\t\t\t\t\t\t<h6>{{ category.title }}</h6>\n\t\t\t\t\t\t<Icon class=\"ml-auto\" :name=\"category.id === currentCategory ? 'chevron-up' : 'chevron-down'\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"inserter-group-body\" v-if=\"category.id === currentCategory\">\n\t\t\t\t\t\t<template v-if=\"category.blocks.length > 0\">\n\t\t\t\t\t\t\t<latte-ripple as=\"button\" class=\"inserter-block\" @click=\"onClick(block)\" :key=\"block.id\" v-for=\"block of category.blocks\">\n\t\t\t\t\t\t\t\t<Icon :name=\"block.icon\"/>\n\t\t\t\t\t\t\t\t<span>{{ block.name }}</span>\n\t\t\t\t\t\t\t</latte-ripple>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<Notice icon=\"alert-circle\" style=\"grid-column: span 3\">\n\t\t\t\t\t\t\t\t<p>{{ \"There are no blocks in this category.\" | beTranslate }}</p>\n\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</template>\n\n\t\t\t<template v-else>\n\n\t\t\t\t<div class=\"be-inserter-group\">\n\t\t\t\t\t<div class=\"inserter-group-body\">\n\t\t\t\t\t\t<template v-if=\"blocks.length > 0\">\n\t\t\t\t\t\t\t<latte-ripple as=\"button\" class=\"inserter-block\" @click=\"onClick(block)\" :key=\"block.id\" v-for=\"block of blocks\">\n\t\t\t\t\t\t\t\t<Icon :name=\"block.icon\"/>\n\t\t\t\t\t\t\t\t<span>{{ block.name }}</span>\n\t\t\t\t\t\t\t</latte-ripple>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<Notice icon=\"alert-circle\" style=\"grid-column: span 3\">\n\t\t\t\t\t\t\t\t<p>{{ \"No blocks found matching your search term.\" | beTranslate }}</p>\n\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</template>\n\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { CategoryRegistry } from \"../core/category/registry\";\n\timport { BlockRegistry } from \"../core/block/registry\";\n\n\timport Icon from \"../ui/Icon\";\n\timport Notice from \"../ui/Notice\";\n\n\texport default {\n\n\t\tname: \"Inserter\",\n\n\t\tcomponents: {Notice, Icon},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcurrentCategory: \"layout\",\n\t\t\t\tsearchTerm: \"\"\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tblocks()\n\t\t\t{\n\t\t\t\tconst searchTerm = this.searchTerm.toLowerCase();\n\n\t\t\t\treturn BlockRegistry.blocks\n\t\t\t\t\t.filter(b =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (b.name.toLowerCase().indexOf(searchTerm) > -1)\n\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\tfor (let keyword of b.keywords)\n\t\t\t\t\t\t\tif (keyword.toLowerCase().indexOf(searchTerm) > -1)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t})\n\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name));\n\t\t\t},\n\n\t\t\tcategories()\n\t\t\t{\n\t\t\t\treturn CategoryRegistry.categories.map(c =>\n\t\t\t\t{\n\t\t\t\t\tc.blocks = BlockRegistry.blocks\n\t\t\t\t\t\t.filter(b => b.category === c.id)\n\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name));\n\n\t\t\t\t\treturn c;\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick(block)\n\t\t\t{\n\t\t\t\tthis.$emit(\"select\", block);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Inserter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Inserter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Inserter.vue?vue&type=template&id=83c197f2&\"\nimport script from \"./Inserter.vue?vue&type=script&lang=js&\"\nexport * from \"./Inserter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",attrs:{\"associate-with\":_vm.assiciatedElement,\"margin-x\":_vm.marginX,\"margin-y\":_vm.marginY},on:{\"close\":_vm.onClose,\"open\":_vm.onOpen}},[_c('Inserter',{on:{\"select\":_vm.onSelect}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<latte-popup ref=\"popup\" :associate-with=\"assiciatedElement\" :margin-x=\"marginX\" :margin-y=\"marginY\" @close=\"onClose\" @open=\"onOpen\">\n\t\t<Inserter @select=\"onSelect\"/>\n\t</latte-popup>\n\n</template>\n\n<script>\n\n\timport { CategoryRegistry } from \"../core/category/registry\";\n\timport { findEditor } from \"../util/vue\";\n\n\timport Inserter from \"./Inserter\";\n\n\texport default {\n\n\t\tname: \"InserterPopup\",\n\n\t\tcomponents: {Inserter},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tassiciatedElement: undefined,\n\t\t\t\tcurrentCategory: null,\n\t\t\t\teditor: findEditor(this),\n\t\t\t\tfn: undefined,\n\t\t\t\tisOpen: false,\n\t\t\t\tmarginX: 0,\n\t\t\t\tmarginY: 0\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonSelect(block)\n\t\t\t{\n\t\t\t\tthis.$emit(\"select\", block);\n\n\t\t\t\tif (this.fn)\n\t\t\t\t\tthis.fn(block);\n\n\t\t\t\tthis.close();\n\t\t\t},\n\n\t\t\tonClose()\n\t\t\t{\n\t\t\t\tthis.isOpen = false;\n\t\t\t},\n\n\t\t\tonOpen()\n\t\t\t{\n\t\t\t\tthis.currentCategory = this.currentCategory || CategoryRegistry.categories[0].id;\n\t\t\t\tthis.isOpen = true;\n\t\t\t},\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tthis.$refs.popup.close();\n\t\t\t},\n\n\t\t\topen(associateWith, fn, marginX = 0, marginY = 0)\n\t\t\t{\n\t\t\t\tthis.assiciatedElement = associateWith;\n\t\t\t\tthis.fn = fn;\n\t\t\t\tthis.marginX = marginX;\n\t\t\t\tthis.marginY = marginY;\n\t\t\t\tthis.$refs.popup.open();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InserterPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InserterPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InserterPopup.vue?vue&type=template&id=da70530a&\"\nimport script from \"./InserterPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./InserterPopup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",staticClass:\"bg-inserter-quick\",attrs:{\"animate-transform\":false,\"margin-x\":-27,\"margin-y\":15}},[(_vm.blocks.length > 0)?_c('nav',{staticClass:\"nav nav-list\"},[_vm._l((_vm.blocks),function(block,index){return [_c('latte-ripple',{staticClass:\"nav-link\",class:{'is-active': _vm.selectedIndex === index},attrs:{\"as\":\"button\"},on:{\"mousedown\":function($event){return _vm.select(block)}}},[_c('Icon',{attrs:{\"name\":block.icon}}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])],1)]})],2):_c('div',{staticClass:\"m-2\",staticStyle:{\"max-width\":\"240px\"}},[_c('Notice',{staticStyle:{\"grid-column\":\"span 3\"}},[_c('p',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"No blocks found matching your search term.\")))])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<latte-popup ref=\"popup\" class=\"bg-inserter-quick\" :animate-transform=\"false\" :margin-x=\"-27\" :margin-y=\"15\">\n\t\t<nav class=\"nav nav-list\" v-if=\"blocks.length > 0\">\n\n\t\t\t<template v-for=\"(block, index) of blocks\">\n\n\t\t\t\t<latte-ripple as=\"button\" class=\"nav-link\" :class=\"{'is-active': selectedIndex === index}\" @mousedown=\"select(block)\">\n\t\t\t\t\t<Icon :name=\"block.icon\"/>\n\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\n\t\t\t\t</latte-ripple>\n\n\t\t\t</template>\n\n\t\t</nav>\n\t\t<div class=\"m-2\" style=\"max-width: 240px\" v-else>\n\t\t\t<Notice style=\"grid-column: span 3\">\n\t\t\t\t<p>{{ \"No blocks found matching your search term.\" | beTranslate }}</p>\n\t\t\t</Notice>\n\t\t</div>\n\t</latte-popup>\n\n</template>\n\n<script>\n\n\timport Icon from \"../ui/Icon\";\n\timport Notice from \"../ui/Notice\";\n\n\texport default {\n\n\t\tname: \"InserterQuick\",\n\n\t\tcomponents: {Icon, Notice},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tblocks: [],\n\t\t\t\tfn: undefined,\n\t\t\t\tselectedIndex: 0\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\treturn this.popup.isOpen;\n\t\t\t},\n\n\t\t\tpopup()\n\t\t\t{\n\t\t\t\treturn this.$refs.popup;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tif (!this.isOpen)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.popup.close();\n\t\t\t},\n\n\t\t\thandleKeyDown(evt)\n\t\t\t{\n\t\t\t\tswitch (evt.key)\n\t\t\t\t{\n\t\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t\tthis.selectedIndex = (this.selectedIndex + 1) % this.blocks.length;\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t\tthis.selectedIndex = this.selectedIndex === 0 ? this.blocks.length - 1 : this.selectedIndex - 1;\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"Enter\":\n\t\t\t\t\tcase \"Tab\":\n\t\t\t\t\t\tif (this.blocks.length > 0)\n\t\t\t\t\t\t\tthis.select(this.blocks[this.selectedIndex]);\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\topen(rect, blocks, fn)\n\t\t\t{\n\t\t\t\tthis.blocks = blocks;\n\t\t\t\tthis.fn = fn;\n\t\t\t\tthis.selectedIndex = 0;\n\t\t\t\tthis.popup.rect = rect;\n\t\t\t\tthis.popup.open();\n\t\t\t},\n\n\t\t\tselect(block)\n\t\t\t{\n\t\t\t\tif (this.fn)\n\t\t\t\t\tthis.fn(block);\n\n\t\t\t\tthis.close();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InserterQuick.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InserterQuick.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InserterQuick.vue?vue&type=template&id=1645989b&\"\nimport script from \"./InserterQuick.vue?vue&type=script&lang=js&\"\nexport * from \"./InserterQuick.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-tab-container',{staticClass:\"be-editor-settings\",attrs:{\"initial-tab\":_vm.preferredTabIndex},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar tabs = ref.tabs;\nreturn [(tabs.length > 1)?_c('latte-tab-bar',{staticClass:\"px-3 tabs-fill\"}):_vm._e(),_vm._t(\"before\"),_c('SettingsPane',{attrs:{\"label\":_vm._f(\"beTranslate\")('Document')}},[_vm._t(\"document\",[_c('div',{staticClass:\"be-settings-group\"},[_c('div',{staticClass:\"settings-body is-padded\"},[_c('Notice',{attrs:{\"icon\":\"alert-circle\"}},[_c('p',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"There are no document settings available\")))])])],1)])])],2),_c('SettingsPane',{attrs:{\"label\":_vm._f(\"beTranslate\")('Block')}},[_c('latte-portal-target',{attrs:{\"name\":_vm.blockSettingsId},on:{\"change\":_vm.onBlockSettingsChange}},[_c('SettingsGroup',{attrs:{\"padded\":\"\",\"title\":\"Block settings\"}},[_c('em',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Please select a block to edit its settings or click on \\\"Document\\\" to edit other settings.\")))])])],1)],1),_vm._t(\"after\")]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('KeepAliveTab',{staticClass:\"be-settings-pane\",attrs:{\"label\":_vm.label}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active),expression:\"active\"}],staticClass:\"tab\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"tab\" v-show=\"active\">\n\t\t<slot></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { findGrandparent } from \"../util/vue\";\n\n\texport default {\n\n\t\tname: \"latte-tab\",\n\n\t\tprops: {\n\t\t\tbadge: {default: \"\", type: String},\n\t\t\ticon: {default: \"\", type: String},\n\t\t\tlabel: {default: \"\", type: String}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tactive: false,\n\t\t\t\tcontainer: findGrandparent(this, \"latte-tab-container\")\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tif (this.container)\n\t\t\t\tthis.container.updateChildren();\n\t\t},\n\n\t\twatch: {\n\n\t\t\tactive()\n\t\t\t{\n\t\t\t\tthis.$emit(\"active\", this.active);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./KeepAliveTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./KeepAliveTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KeepAliveTab.vue?vue&type=template&id=8fceafb0&\"\nimport script from \"./KeepAliveTab.vue?vue&type=script&lang=js&\"\nexport * from \"./KeepAliveTab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n\t<KeepAliveTab :label=\"label\" class=\"be-settings-pane\">\n\t\t<slot></slot>\n\t</KeepAliveTab>\n\n</template>\n\n<script>\n\n\timport KeepAliveTab from \"./KeepAliveTab\";\n\n\texport default {\n\n\t\tname: \"SettingsPane\",\n\n\t\tcomponents: {KeepAliveTab},\n\n\t\tprops: {\n\t\t\tlabel: {required: true, type: String}\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsPane.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsPane.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SettingsPane.vue?vue&type=template&id=00985b47&\"\nimport script from \"./SettingsPane.vue?vue&type=script&lang=js&\"\nexport * from \"./SettingsPane.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n\t<latte-tab-container class=\"be-editor-settings\" :initial-tab=\"preferredTabIndex\">\n\t\t<template #default=\"{tabs}\">\n\n\t\t\t<latte-tab-bar class=\"px-3 tabs-fill\" v-if=\"tabs.length > 1\"/>\n\n\t\t\t<slot name=\"before\"></slot>\n\n\t\t\t<SettingsPane :label=\"'Document' | beTranslate\">\n\n\t\t\t\t<slot name=\"document\">\n\t\t\t\t\t<div class=\"be-settings-group\">\n\t\t\t\t\t\t<div class=\"settings-body is-padded\">\n\t\t\t\t\t\t\t<Notice icon=\"alert-circle\">\n\t\t\t\t\t\t\t\t<p>{{ \"There are no document settings available\" | beTranslate }}</p>\n\t\t\t\t\t\t\t</Notice>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\n\t\t\t</SettingsPane>\n\n\t\t\t<SettingsPane :label=\"'Block' | beTranslate\">\n\t\t\t\t<latte-portal-target :name=\"blockSettingsId\" @change=\"onBlockSettingsChange\">\n\n\t\t\t\t\t<SettingsGroup padded title=\"Block settings\">\n\t\t\t\t\t\t<em>{{ \"Please select a block to edit its settings or click on \\\"Document\\\" to edit other settings.\" | beTranslate }}</em>\n\t\t\t\t\t</SettingsGroup>\n\n\t\t\t\t</latte-portal-target>\n\t\t\t</SettingsPane>\n\n\t\t\t<slot name=\"after\"></slot>\n\n\t\t</template>\n\t</latte-tab-container>\n\n</template>\n\n<script>\n\n\timport { findEditor } from \"../util/vue\";\n\n\timport SettingsGroup from \"./SettingsGroup\";\n\timport SettingsPane from \"./SettingsPane\";\n\timport Notice from \"../ui/Notice\";\n\n\texport default {\n\n\t\tname: \"Settings\",\n\n\t\tcomponents: {Notice, SettingsGroup, SettingsPane},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: findEditor(this),\n\t\t\t\tpreferredTabIndex: 0\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tblockSettingsId()\n\t\t\t{\n\t\t\t\treturn `${this.editor.uniqueId}-settings-block`;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonBlockSettingsChange(passengers)\n\t\t\t{\n\t\t\t\tthis.preferredTabIndex = Object.values(passengers).length === 0 ? 0 : 1;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=8b50928e&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-bar app-bar-flat be-toolbar\"},[_c('div',{staticClass:\"app-bar-row\"},[_vm._t(\"start-before\"),_c('Button',{attrs:{\"type\":\"text\",\"color\":\"primary\",\"icon-before\":\"plus-circle\",\"aria-tooltip\":\"Insert a new block.\"},on:{\"click\":_vm.launchInserter}}),_c('div',{staticClass:\"divider divider-vertical\"}),_c('Button',{attrs:{\"type\":\"text\",\"icon-before\":\"undo-variant\",\"aria-tooltip\":\"Undo\",\"disabled\":\"\"}}),_c('Button',{attrs:{\"type\":\"text\",\"icon-before\":\"redo-variant\",\"aria-tooltip\":\"Redo\",\"disabled\":\"\"}}),_vm._t(\"start-after\"),_c('div',{staticClass:\"mx-auto\"},[_c('latte-portal-target',{attrs:{\"name\":\"toolbar-center\"}})],1),_vm._t(\"end-before\"),(_vm.editor.view === 'code')?_c('Button',{attrs:{\"type\":\"text\",\"icon-before\":\"eye\",\"aria-tooltip\":\"View visual\"},on:{\"click\":function($event){_vm.editor.view = 'visual'}}}):_vm._e(),(_vm.editor.view === 'visual')?_c('Button',{attrs:{\"type\":\"text\",\"icon-before\":\"code-tags\",\"aria-tooltip\":\"View code\"},on:{\"click\":function($event){_vm.editor.view = 'code'}}}):_vm._e(),_c('div',{staticClass:\"divider divider-vertical\"}),_c('Button',{attrs:{\"type\":\"text\",\"icon-before\":\"dots-vertical\",\"aria-tooltip\":\"More options...\"}}),_vm._t(\"end-after\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"app-bar app-bar-flat be-toolbar\">\n\t\t<div class=\"app-bar-row\">\n\n\t\t\t<slot name=\"start-before\"></slot>\n\t\t\t<Button type=\"text\" color=\"primary\" icon-before=\"plus-circle\" aria-tooltip=\"Insert a new block.\" @click=\"launchInserter\"/>\n\t\t\t<div class=\"divider divider-vertical\"></div>\n\t\t\t<Button type=\"text\" icon-before=\"undo-variant\" aria-tooltip=\"Undo\" disabled/>\n\t\t\t<Button type=\"text\" icon-before=\"redo-variant\" aria-tooltip=\"Redo\" disabled/>\n\t\t\t<slot name=\"start-after\"></slot>\n\n\t\t\t<div class=\"mx-auto\">\n\t\t\t\t<latte-portal-target name=\"toolbar-center\"/>\n\t\t\t</div>\n\n\t\t\t<slot name=\"end-before\"></slot>\n\t\t\t<Button type=\"text\" icon-before=\"eye\" aria-tooltip=\"View visual\" v-if=\"editor.view === 'code'\" @click=\"editor.view = 'visual'\"/>\n\t\t\t<Button type=\"text\" icon-before=\"code-tags\" aria-tooltip=\"View code\" v-if=\"editor.view === 'visual'\" @click=\"editor.view = 'code'\"/>\n\t\t\t<div class=\"divider divider-vertical\"></div>\n\t\t\t<Button type=\"text\" icon-before=\"dots-vertical\" aria-tooltip=\"More options...\"/>\n\t\t\t<slot name=\"end-after\"></slot>\n\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { findEditor } from \"../util/vue\";\n\n\timport Button from \"../ui/Button\";\n\n\texport default {\n\n\t\tname: \"Toolbar\",\n\n\t\tcomponents: {Button},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: findEditor(this)\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tlaunchInserter(evt)\n\t\t\t{\n\t\t\t\tthis.editor.inserter.open(evt.target, block =>\n\t\t\t\t{\n\t\t\t\t\tthis.editor.content.insertBlock(block.id, undefined, {}, {}, this.editor.content);\n\t\t\t\t}, -15, 12);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Toolbar.vue?vue&type=template&id=282dc909&\"\nimport script from \"./Toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Toolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n\t<div class=\"be-editor\">\n\n\t\t<InserterPopup ref=\"inserter\"/>\n\t\t<InserterQuick ref=\"inserterQuick\"/>\n\n\t\t<div class=\"be-editor-content\">\n\t\t\t<Toolbar>\n\t\t\t\t<template #start-before><slot name=\"toolbar-start-before\"/></template>\n\t\t\t\t<template #start-after><slot name=\"toolbar-start-after\"/></template>\n\t\t\t\t<template #end-before><slot name=\"toolbar-end-before\"/></template>\n\t\t\t\t<template #end-after><slot name=\"toolbar-end-after\"/></template>\n\t\t\t</Toolbar>\n\t\t\t<ContentMount :content=\"content\" v-if=\"view === 'visual'\"/>\n\t\t\t<CodeMount :content=\"content\" v-else-if=\"view === 'code'\"/>\n\t\t</div>\n\n\t\t<Settings>\n\t\t\t<template #before><slot name=\"settings-before\"></slot></template>\n\t\t\t<template #document><slot name=\"settings-document\"></slot></template>\n\t\t\t<template #after><slot name=\"settings-after\"></slot></template>\n\t\t</Settings>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { convertToBlocks, convertToData } from \"../core/block/api\";\n\timport { Latte } from \"../util/latte\";\n\n\timport CodeMount from \"./CodeMount\";\n\timport ContentMount from \"./ContentMount\";\n\timport Inserter from \"./Inserter\";\n\timport InserterPopup from \"./InserterPopup\";\n\timport InserterQuick from \"./InserterQuick\";\n\timport Settings from \"./Settings\";\n\timport Toolbar from \"./Toolbar\";\n\n\texport default {\n\n\t\tname: \"Editor\",\n\n\t\tcomponents: {CodeMount, InserterQuick, InserterPopup, Inserter, ContentMount, Settings, Toolbar},\n\n\t\tprops: {\n\t\t\tvalue: {default: () => [], type: Array}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tuniqueId: Latte.api.id(),\n\t\t\t\tlastUpdate: {\n\t\t\t\t\tcount: 0,\n\t\t\t\t\ttimestamp: Date.now()\n\t\t\t\t},\n\t\t\t\tcontent: null,\n\t\t\t\tselection: window.getSelection(),\n\t\t\t\tview: \"visual\"\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tdocument.addEventListener(\"selectionchange\", this.onSelectionChanged, {passive: true});\n\t\t\tdocument.execCommand(\"defaultParagraphSeparator\", false, \"div\");\n\n\t\t\tthis.onValueChanged();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tinserter()\n\t\t\t{\n\t\t\t\treturn this.$refs.inserter;\n\t\t\t},\n\n\t\t\tinserterQuick()\n\t\t\t{\n\t\t\t\treturn this.$refs.inserterQuick;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonInput()\n\t\t\t{\n\t\t\t\tthis.$emit(\"be:content-ready\", this.content);\n\t\t\t\tthis.$emit(\"change\", convertToData(this.content));\n\n\t\t\t\tthis.lastUpdate.count++;\n\t\t\t\tthis.lastUpdate.timestamp = Date.now();\n\t\t\t},\n\n\t\t\tonSelectionChanged()\n\t\t\t{\n\t\t\t\t/** @var {*} anchorElement */\n\t\t\t\tconst anchorElement = this.selection.anchorNode;\n\n\t\t\t\tif (Latte.util.dom.closest(anchorElement, this.$el) === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.$emit(\"be:selection-changed\", this.selection);\n\t\t\t},\n\n\t\t\tonValueChanged()\n\t\t\t{\n\t\t\t\tthis.content = convertToBlocks(this, this.value);\n\t\t\t\tthis.$emit(\"be:content-ready\");\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.onValueChanged();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=51d2ba4e&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import \"./scss/_index.scss\";\n\nimport { initializeInternationalization } from \"./core/i18n\";\nimport { initializeCategoryRegistry } from \"./core/category/registry\";\nimport { initializeBlockRegistry } from \"./core/block/registry\";\n\nexport { default as Editor } from \"./component/Editor\";\nexport { default as SettingsGroup } from \"./component/SettingsGroup\";\nexport { default as SettingsPane } from \"./component/SettingsPane\";\n\nexport { convertToBlocks, convertToData, convertToHtml, convertToJson } from \"./core/block/api\"\n\ninitializeInternationalization();\ninitializeCategoryRegistry();\ninitializeBlockRegistry();\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel radius-none\" style=\"height: calc(100vh - 60px)\">\n\t\t<Editor v-model=\"content\"></Editor>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { Editor, SettingsPane } from \"../../../block-editor/src\";\n\n\texport default {\n\n\t\tcomponents: {\n\t\t\tEditor,\n\t\t\tSettingsPane\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcontent: [{\"id\": \"heading\", \"options\": {\"color\": \"rgb(247, 54, 43)\", \"type\": \"h1\", \"text\": \"This is my amazing page!\"}},\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in lorem eget est commodo vulputate eu quis ipsum. Nam dictum quis dui eget cursus. Phasellus tellus sapien, auctor et cursus eget, tempus ut justo. Donec placerat scelerisque nibh, eu consectetur elit imperdiet eu. Curabitur id ligula quis eros ullamcorper elementum. Fusce diam nibh, porttitor vel sagittis et, hendrerit in mauris. Nam elementum nibh in ipsum tempus, non semper lorem fringilla. In turpis dolor, venenatis lobortis malesuada non, posuere tempor tortor. Cras interdum mauris ut lorem volutpat, sit amet varius ex scelerisque.&nbsp;Suspendisse quam urna, varius ut pretium quis, lacinia a eros. Duis non nisi eu neque luctus ultricies et vel lectus.&nbsp;\"}},\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"right\", \"color\": \"rgb(126, 123, 158)\", \"fontSize\": 1.35, \"indent\": 10, \"text\": \"<i>\\\"Aenean varius pretium tortor eu porttitor. Vivamus finibus sagittis tellus, sit amet porta tortor tempor ac. Aenean ac mauris lobortis ipsum feugiat volutpat nec sit amet ex.\\\"</i>\"}},\n\t\t\t\t\t{\"id\": \"button\", \"options\": {\"class\": \"mx-auto mb-3\", \"pillButton\": false, \"rippleButton\": true, \"size\": \"lg\", \"text\": \"My awesome button\", \"type\": \"outline\", \"url\": \"\"}},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": \"columns\", \"options\": {\"class\": \"mb-3\", \"columns\": 2, \"gutters\": true, \"preset\": 1}, \"children\": [[{\"id\": \"youtube-embed\", \"options\": {\"videoId\": \"2TuyT0knklM\"}}], [{\"id\": \"heading\", \"options\": {\"type\": \"h5\", \"text\": \"Gavin DeGraw - Soldier\"}},\n\t\t\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Phasellus commodo, lacus non viverra imperdiet, libero orci lacinia velit, sit amet malesuada dui diam eu lectus. Sed maximus eu orci ut condimentum.&nbsp;\"}},\n\t\t\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Vivamus auctor sapien nisl, varius interdum libero malesuada sit amet. Integer vulputate facilisis urna id sollicitudin.\"}}]]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": \"paragraph\",\n\t\t\t\t\t\t\"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Integer ac vestibulum dolor, et euismod sem. Vivamus volutpat, lectus eget vulputate eleifend, nibh quam aliquet lorem, quis efficitur neque magna ac elit. Vestibulum ac risus eu ligula auctor cursus. Curabitur purus enim, accumsan nec magna vel, ornare sagittis nisi. Pellentesque libero lorem, rhoncus placerat mauris et, vehicula tempor turpis. Duis nec luctus metus. Maecenas consequat libero id nulla pharetra luctus. Donec ultricies tincidunt tincidunt. Suspendisse sollicitudin lacus nunc, sed ultricies tellus efficitur nec. Phasellus eget sem nec enim molestie venenatis nec ut tortor. Aliquam dictum tempus neque, at luctus elit mollis sed. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed pellentesque, metus pharetra auctor luctus, sem nunc mattis purus, at mattis turpis mauris nec dolor. Curabitur cursus enim non libero sodales tristique.\"}\n\t\t\t\t\t},\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Aliquam urna sapien, gravida eget cursus at, fringilla eu metus. In sapien odio, gravida hendrerit iaculis id, sodales sit amet nibh. Nunc nec efficitur diam. Fusce sagittis at nibh eget tristique. Integer elit felis, consequat nec fermentum ut, dignissim sit amet purus. Ut aliquam imperdiet faucibus. Etiam maximus mauris id sem aliquam, vel posuere leo viverra. Nulla eleifend leo in sapien cursus, congue mollis nunc ultrices.\"}}\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\n\t\tdestroyed()\n\t\t{\n\t\t\tdocument.body.style.removeProperty(\"overflow\");\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tdocument.body.style.setProperty(\"overflow\", \"hidden\");\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockEditor.vue?vue&type=template&id=5bf5b730&\"\nimport script from \"./BlockEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n"],"sourceRoot":""}