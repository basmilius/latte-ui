{"version":3,"sources":["webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/core-js/object/get-prototype-of.js","webpack:///./src/views/BlockEditor.vue?f729","webpack:///../block-editor/src/helper/array.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/assertThisInitialized.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/getPrototypeOf.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/setPrototypeOf.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/inherits.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/classPrivateFieldSet.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/helpers/esm/classPrivateFieldGet.js","webpack:///../block-editor/src/helper/element.js","webpack:///../block-editor/src/block.js","webpack:///../block-editor/src/utils.js","webpack:///../block-editor/src/primitive/icon-button.js","webpack:///../block-editor/src/BEBlockActions.vue?d30a","webpack:///../block-editor/src/lib/animejs.js","webpack:///../block-editor/src/helper/animation.js","webpack:///../block-editor/src/helper/selection.js","webpack:///../block-editor/src/helper/error.js","webpack:///../block-editor/src/create-element.js","webpack:///../block-editor/src/api.js","webpack:///../block-editor/src/BEBlockActions.vue","webpack:///../block-editor/src/BEBlockActions.vue?a69e","webpack:///../block-editor/src/BEBlockActions.vue?b21f","webpack:///../block-editor/src/BESettingsGroup.vue?c07a","webpack:///../block-editor/src/BESettingsGroup.vue","webpack:///../block-editor/src/BESettingsGroup.vue?0292","webpack:///../block-editor/src/BESettingsGroup.vue?a829","webpack:///../block-editor/src/primitive/settings.js","webpack:///../block-editor/src/primitive/element.js","webpack:///../block-editor/src/blocks/missing.js","webpack:///../block-editor/src/BEBlockMount.vue?c432","webpack:///../block-editor/src/BEBlocks.vue?0b16","webpack:///../block-editor/src/BEInserterExpanded.vue?d2a5","webpack:///../block-editor/src/BEInserterPopup.vue?af3b","webpack:///../block-editor/src/BEInserterPopup.vue","webpack:///../block-editor/src/BEInserterPopup.vue?96b8","webpack:///../block-editor/src/BEInserterPopup.vue?9124","webpack:///../block-editor/src/BEInserterExpanded.vue","webpack:///../block-editor/src/BEInserterExpanded.vue?0e1b","webpack:///../block-editor/src/BEInserterExpanded.vue?c10c","webpack:///../block-editor/src/BEInserterMini.vue?d412","webpack:///../block-editor/src/BEInserterMini.vue","webpack:///../block-editor/src/BEInserterMini.vue?11b5","webpack:///../block-editor/src/BEInserterMini.vue?6046","webpack:///../block-editor/src/BEBlockMount.vue","webpack:///../block-editor/src/BEBlockMount.vue?eaae","webpack:///../block-editor/src/BEBlocks.vue","webpack:///../block-editor/src/BEBlocks.vue?4a0a","webpack:///../block-editor/src/blocks/root.js","webpack:///../block-editor/src/blocks/button.js","webpack:///../block-editor/src/blocks/columns.js","webpack:///../block-editor/src/helper/html-entities.js","webpack:///../block-editor/src/blocks/page-break.js","webpack:///../block-editor/src/blocks/wrapper.js","webpack:///../block-editor/src/primitive/text.js","webpack:///../block-editor/src/blocks/heading.js","webpack:///../block-editor/src/primitive/list.js","webpack:///../block-editor/src/blocks/ordered-list.js","webpack:///../block-editor/src/blocks/paragraph.js","webpack:///../block-editor/src/blocks/unordered-list.js","webpack:///../block-editor/src/blocks/youtube.js","webpack:///../block-editor/src/blocks/html.js","webpack:///../block-editor/src/registry.js","webpack:///../block-editor/src/BEEditor.vue?ca99","webpack:///../block-editor/src/BEInserterList.vue?e58c","webpack:///../block-editor/src/BEInserterList.vue","webpack:///../block-editor/src/BEInserterList.vue?276b","webpack:///../block-editor/src/BEInserterList.vue?3fe2","webpack:///../block-editor/src/BESettingsPane.vue?13d3","webpack:///../block-editor/src/BESettingsPane.vue","webpack:///../block-editor/src/BESettingsPane.vue?88db","webpack:///../block-editor/src/BESettingsPane.vue?1e74","webpack:///../block-editor/src/BEToolbar.vue?0792","webpack:///../block-editor/src/BEToolbar.vue","webpack:///../block-editor/src/BEToolbar.vue?58ca","webpack:///../block-editor/src/BEToolbar.vue?134e","webpack:///../block-editor/src/BEEditor.vue","webpack:///../block-editor/src/BEEditor.vue?ee71","webpack:///../block-editor/src/BEEditor.vue?49cf","webpack:///../block-editor/src/index.js","webpack:///src/views/BlockEditor.vue","webpack:///./src/views/BlockEditor.vue?2b59","webpack:///./src/views/BlockEditor.vue","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/features/object/get-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/core-js/object/set-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/es/object/create.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/internals/collection-strong.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.string.match.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.weak-map.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.typed-array.float32-array.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/modules/es.object.get-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/es/object/get-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/core-js/object/create.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/modules/es.object.create.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/features/object/create.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/internals/collection.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.array.fill.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.parse-float.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.map.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/internals/parse-float.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/internals/collection-weak.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/es/object/set-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.string.starts-with.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/features/object/set-prototype-of.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/core-js/modules/es.array.some.js","webpack:////Users/bas/Documents/GitHub/latte-ui/node_modules/@babel/runtime-corejs3/node_modules/core-js-pure/modules/es.object.set-prototype-of.js"],"names":["module","exports","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","scopedSlots","_u","key","fn","ref","blockSettingsShown","_e","_v","attrs","model","value","callback","$$v","content","expression","staticRenderFns","first","arr","last","length","includes","haystack","needle","indexOf","entriesAreDifferent","base","other","k","range","from","to","undefined","Array","fill","map","_","index","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","o","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","TypeError","prototype","constructor","writable","configurable","_classPrivateFieldSet","receiver","privateMap","descriptor","get","set","_classPrivateFieldGet","getElementDimensions","elm","getBoundingClientRect","height","width","top","left","window","getComputedStyle","marginTop","marginLeft","marginRight","marginBottom","parseInt","offset","dimensions","margin","horizontal","vertical","right","bottom","outer","isInputOrTextarea","tagName","querySelector","parent","selector","querySelectorAll","defaultCategories","id","icon","name","defaultFocusOptions","placeAtEnd","select","selectAll","BlockBase","category","entry","element","hgutters","vgutters","isInline","h","editorInstance","component","$parent","$options","getLatte","Latte","notNullOrUndefined","translate","text","params","i18n","L","IconButton","Vue","extend","props","disabled","default","type","Boolean","String","press","Function","render","class","domProps","on","click","evt","IconToggleButton","can","pressed","beforeDestroy","tickSubscription","unsubscribe","created","action","canPress","isPressed","data","$event","stopPropagation","isFirst","rearrange","isLast","remove","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","applyArguments","func","args","apply","is","a","isArray","obj","Object","toString","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","hex","test","rgb","hsl","col","parseEasingParameters","string","match","exec","split","parseFloat","spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","x","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","forEach","keys","easeIn","parseEasings","ease","selectString","nodes","document","e","filterArray","len","thisArg","arguments","result","push","flattenArray","reduce","concat","toArray","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","r","g","hslToRgba","hslValue","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","target","total","getAttribute","el","prop","convertPxToUnit","unit","valueUnit","baseline","tempEl","createElement","parentEl","parentNode","body","appendChild","style","position","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","getTransformValue","defaultVal","list","getOriginalTargetValue","getRelativeValue","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","previousPos","points","totalLength","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","viewBoxAttr","viewBox","w","getPath","path","percent","property","getPathProgress","point","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","item","pos","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","setTargetsValue","animatables","animType","createAnimation","lastTween","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","raf","activeInstances","pausedInstances","engine","play","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","instanceIndex","splice","tick","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","anime","running","startTime","lastTime","now","childrenLength","resolve","makePromise","instance","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","reverse","restart","removeTargetsFromAnimations","removeTargets","c","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","add","instanceParams","tlIndex","insParams","tlDuration","addEventListener","version","convertPx","random","easeSwiftOut","swapBlocks","options","firstY","secondY","firstElement","scrollingContainer","secondElement","firstDim","secondDim","scrollingDim","targetScrollTop","scrollTop","translateY","then","removeProperty","Node","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","atEdge","atEnd","onlyLines","selectionStart","selectionEnd","selection","getSelection","rangeCount","getRangeAt","cloneRange","isCollapsed","isForward","isForwardSelection","collapse","rangeRect","getRectFromRange","computedStyle","lineHeight","padding","buffer","elmRect","verticalEdge","isReverseDirection","testRange","hiddenCaretRangeFromPoint","side","testRect","caretPosition","currentNode","iterator","createNodeIterator","anchorOffset","focusOffset","anchorNode","focusNode","isBeyondStart","nextNode","caretRangeFromPoint","doc","caretPositionFromPoint","createRange","setStart","offsetNode","collapsed","startContainer","nodeName","childNodes","setEnd","getClientRects","padNode","createTextNode","insertNode","zIndex","compareDocumentPosition","placeCaretAt","currentOffset","previousOffset","realOffset","removeAllRanges","addRange","placeCaretAtEdge","focus","isContentEditable","selectNodeContents","node","NodeFilter","SHOW_TEXT","acceptNode","FILTER_ACCEPT","handleComponentError","err","console","error","message","dir","tag","classList","filter","trim","innerHTML","blockToFocus","blocksToUpdateChildren","blocksToUpdateEditor","isTransaction","BlockEntry","editor","BlockRegistry","findById","canHaveGroups","depth","assign","defaultOptions","groupBlock","canHaveChildren","convertBlocks","$on","calculateHash","getRelative","context","isSelected","api","d","$nextTick","util","shift","updateEditor","updateChildren","withElement","execCommand","Error","block","focusOptions","insertBlocks","spec","focusLast","blocks","setChildren","animate","nextTick","selfElement","closest","otherElement","focusSibbling","previousSibbling","nextSibbling","onEditorClick","updateIndices","renderEditor","onInput","$children","find","updateBlocks","dataUpdate","bubble","$forceUpdate","convertBlock","convertToBlocks","convertToData","root","renderChildren","isOpen","_s","_f","title","_t","hasBody","padded","blockActions","BEBlockActions","slot","optional","condition","defaultValue","rangeField","getValue","setValue","input","settingsGroup","BESettingsGroup","settingsGroupWithDepth","textField","toggleButton","checked","commandIconToggleButton","executeAndFocus","command","queryCommandEnabled","queryCommandState","functionIconButton","onClick","functionIconToggleButton","button","classes","label","color","tooltip","divider","optionAdditionalClasses","setOptions","optionButtons","buttons","btn","optionTextColor","colorPalette","optionTextSize","fontSize","dispatch","latte","MissingBlock","assiciatedElement","marginX","marginY","onClose","onOpen","_l","currentCategory","RootBlock","BEBlocks","buttonSizes","buttonStyles","getButtonClasses","pillButton","size","join","ButtonBlock","rippleButton","url","href","as","contentEditable","blur","innerText","minWidth","presets","columns","preview","entryChildOrDefault","decoder","ColumnBlock","preset","ColumnsBlock","gutters","columnsLast","column","lastDimensions","hash","flexGrow","PageBreakBlock","createComment","WrapperBlock","decodeEntities","implementation","createHTMLDocument","decoded","textContent","removeEmptyDivs","lastSelectionRange","allowAppend","defaultFormattingOptions","boldItalicUnderline","createLinks","textAlignment","textIdentation","canUpdate","ensureTextNode","Element","dummy","setBaseAndExtent","startOffset","endContainer","endOffset","saveLastSelection","current","getStyles","indent","textAlign","align","onBlur","inserterList","close","isRemoved","removeEmptyElements","startsWith","searchTerm","foundBlocks","keywords","keyword","sort","localeCompare","open","blockId","insertBlock","onKeyDown","handleKeyDown","shiftKey","kdHandleBackspaceWhenEmpty","kdHandleBackspaceWhenAtStart","kdHandleArrowDownAtEnd","kdHandleArrowUpAtStart","kdHandleEnterWhenNotShift","onPaste","textData","clipboardData","getData","preventDefault","contents","paragraph","paragrap","transaction","placeholder","keydown","paste","renderTextFormatToolbar","formattingOptions","isRemoving","toolbar","beforePortalId","mousedown","br","sibbling","sibblingText","offsetAdjustment","endsWith","combinedText","childElements","getElementsByTagName","newElement","html","headerTypes","HeadingBlock","items","firstItem","lastItem","textOnKeyDown","OrderedListBlock","ParagraphBlock","UnorderedListBlock","YouTubeEmbedBlock","videoId","src","HtmlBlock","code","toDOM","template","rows","defaultBlocks","DefaultBlocks","Block","register","showInInserter","CategoryRegistry","cat","proxy","selectedIndex","portalHasPassengers","uniqueId","onInserterClick","notImplemented","afterPortalId","registerDefaults","P","D","create","defineProperty","f","redefineAll","bind","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","that","iterable","getInternalState","define","previous","state","getEntry","next","removed","clear","prev","callbackfn","boundFunction","has","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","done","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","RegExp","res","rx","S","global","fullUnicode","unicode","lastIndex","matchStr","InternalWeakMap","InternalMetadataModule","collection","collectionWeak","isObject","enforceIternalState","enforce","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","isExtensible","$WeakMap","REQUIRED","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","frozen","typedArrayConstructor","init","byteOffset","$","fails","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","stat","forced","sham","getPrototypeOf","it","isForced","redefine","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","entries","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","addToUnscopables","proto","parseFloatImplementation","collectionStrong","whitespaces","nativeParseFloat","FORCED","Infinity","trimmedString","charAt","getWeakData","ArrayIterationModule","$has","findIndex","uncaughtFrozenStore","store","UncaughtFrozenStore","findUncaughtFrozen","setPrototypeOf","notARegExp","correctIsRegExpLogic","nativeStartsWith","searchString","search","$some","sloppyArrayMethod"],"mappings":"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","file":"assets/js/chunk-585fba58.c949180c.js","sourcesContent":["module.exports = require(\"core-js-pure/features/object/get-prototype-of\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel radius-none\",staticStyle:{\"height\":\"calc(100vh - 60px)\"}},[_c('BEEditor',{scopedSlots:_vm._u([{key:\"settings-pane-after\",fn:function(ref){\nvar blockSettingsShown = ref.blockSettingsShown;\nreturn [(!blockSettingsShown)?[_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(\"Page settings\")])]),_c('BESettingsGroup',{attrs:{\"title\":\"General\",\"padded\":true}},[_vm._v(\" This panel was added with a slot. \")]),_c('BESettingsGroup',{attrs:{\"title\":\"View\",\"opened\":false,\"padded\":true}},[_vm._v(\" This panel was also added with a slot. \")])]:_vm._e()]}}]),model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function first(arr)\r\n{\r\n\treturn arr[0];\r\n}\r\n\r\nexport function last(arr)\r\n{\r\n\treturn arr[arr.length - 1];\r\n}\r\n\r\nexport function includes(haystack, needle)\r\n{\r\n\treturn haystack.indexOf(needle) > -1;\r\n}\r\n\r\nexport function entriesAreDifferent(base, other)\r\n{\r\n\tfor (let k in other)\r\n\t\tif (other[k] !== base[k])\r\n\t\t\treturn true;\r\n\r\n\treturn false;\r\n}\r\n\r\nexport function range(from, to, fn = undefined)\r\n{\r\n\treturn Array(to - from)\r\n\t\t.fill(undefined)\r\n\t\t.map((_, index) => index + from)\r\n\t\t.map(fn);\r\n}\r\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _Object$getPrototypeOf from \"../../core-js/object/get-prototype-of\";\nimport _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _getPrototypeOf(o) {\n  _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _Object$create from \"../../core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n\n  return value;\n}","export default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}","import { includes } from \"./array\";\r\n\r\nexport function oneOrAnother(condition, fn1, fn2)\r\n{\r\n\treturn condition ? fn1() : fn2();\r\n}\r\n\r\nexport function getElementDimensions(elm)\r\n{\r\n\tconst {height, width, top, left} = elm.getBoundingClientRect();\r\n\tlet {marginTop, marginLeft, marginRight, marginBottom} = window.getComputedStyle(elm);\r\n\r\n\tmarginTop = parseInt(marginTop);\r\n\tmarginLeft = parseInt(marginLeft);\r\n\tmarginRight = parseInt(marginRight);\r\n\tmarginBottom = parseInt(marginBottom);\r\n\r\n\treturn {\r\n\t\toffset: {top, left},\r\n\t\tdimensions: {height, width},\r\n\t\tmargin: {\r\n\t\t\thorizontal: marginLeft + marginRight,\r\n\t\t\tvertical: marginTop + marginBottom,\r\n\t\t\ttop: marginTop,\r\n\t\t\tleft: marginLeft,\r\n\t\t\tright: marginRight,\r\n\t\t\tbottom: marginBottom\r\n\t\t},\r\n\t\touter: {\r\n\t\t\theight: height + marginTop + marginBottom,\r\n\t\t\twidth: width + marginLeft + marginRight\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function isInputOrTextarea(elm)\r\n{\r\n\treturn includes([\"INPUT\", \"TEXTAREA\"], elm.tagName)\r\n}\r\n\r\nexport function querySelector(parent, selector)\r\n{\r\n\treturn parent.querySelector(selector);\r\n}\r\n\r\nexport function querySelectorAll(parent, selector)\r\n{\r\n\treturn Array.from(parent.querySelectorAll(selector));\r\n}\r\n","import { getElementDimensions } from \"./helper/element\";\n\nexport const defaultCategories = [\n\t{id: \"layout\", icon: \"layers\", name: \"Layout\"},\n\t{id: \"text\", icon: \"format-text\", name: \"Text\"},\n\t{id: \"embeds\", icon: \"code-tags\", name: \"Embeds\"},\n\t{id: \"other\", icon: \"package-variant\", name: \"Other\"}\n];\n\nexport const defaultFocusOptions = {\n\tplaceAtEnd: true,\n\tselect: true,\n\tselectAll: false\n};\n\nexport class BlockBase\n{\n\n\t#id;\n\t#category;\n\t#icon;\n\n\tget id()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tget canHaveChildren()\n\t{\n\t\treturn false;\n\t}\n\n\tget canHaveGroups()\n\t{\n\t\treturn false;\n\t}\n\n\tget showInInserter()\n\t{\n\t\treturn true;\n\t}\n\n\tget category()\n\t{\n\t\treturn this.#category;\n\t}\n\n\tget icon()\n\t{\n\t\treturn this.#icon;\n\t}\n\n\tget isInline()\n\t{\n\t\treturn false;\n\t}\n\n\tget description()\n\t{\n\t\treturn undefined;\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [this.id];\n\t}\n\n\tget name()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tconstructor(id, category, icon)\n\t{\n\t\tthis.#id = id;\n\t\tthis.#category = category;\n\t\tthis.#icon = icon;\n\t}\n\n\tcalculateSelectionBorder(entry)\n\t{\n\t\tconst {dimensions, margin} = getElementDimensions(entry.element);\n\n\t\tlet hgutters = margin.horizontal;\n\t\tlet vgutters = this.isInline ? 0 : margin.vertical;\n\n\t\treturn {\n\t\t\theight: dimensions.height + vgutters,\n\t\t\twidth: dimensions.width + hgutters\n\t\t};\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn undefined;\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn undefined;\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn undefined;\n\t}\n\n}\n","import { Latte } from \"@bybas/latte-ui\";\n\nexport function editorInstance(component)\n{\n\twhile ((component = component.$parent) !== undefined)\n\t\tif (component.$options.name === \"BEEditor\")\n\t\t\treturn component;\n\n\treturn undefined;\n}\n\nexport function getLatte()\n{\n\treturn Latte;\n}\n\nexport function notNullOrUndefined(p)\n{\n\treturn p !== undefined && p !== null;\n}\n\nexport function replaceIndex(arr, index, obj)\n{\n\tarr.splice(index, 1, obj);\n\n\treturn arr;\n}\n\nexport function translate(text, ...params)\n{\n\treturn Latte.i18n.translate(\"block-editor\", text, params);\n}\n","import Vue from \"vue\";\nimport { getLatte } from \"../utils\";\n\nconst L = getLatte();\n\nexport const IconButton = Vue.extend({\n\n\tname: \"IconToggleButton\",\n\n\tprops: {\n\t\tdisabled: {default: false, type: Boolean},\n\t\ticon: {type: String},\n\t\tpress: {type: Function}\n\t},\n\n\trender(h)\n\t{\n\t\treturn h(\n\t\t\t\"button\",\n\t\t\t{\n\t\t\t\tclass: `btn btn-icon btn-text btn-dark`,\n\t\t\t\tdomProps: {disabled: this.disabled},\n\t\t\t\ton: {click: evt => this.press(evt)}\n\t\t\t},\n\t\t\t[\n\t\t\t\th(\"i\", {class: `mdi mdi-${this.icon}`})\n\t\t\t]\n\t\t);\n\t}\n\n});\n\nexport const IconToggleButton = Vue.extend({\n\n\tname: \"IconToggleButton\",\n\n\tprops: {\n\t\ticon: {type: String},\n\t\tcan: {type: Function},\n\t\tpress: {type: Function},\n\t\tpressed: {type: Function}\n\t},\n\n\tbeforeDestroy()\n\t{\n\t\tthis.tickSubscription.unsubscribe();\n\t},\n\n\tcreated()\n\t{\n\t\tthis.tickSubscription = L.action.on(\"latte:tick\", () =>\n\t\t{\n\t\t\tthis.canPress = this.can();\n\t\t\tthis.isPressed = this.pressed();\n\t\t});\n\t},\n\n\tdata()\n\t{\n\t\treturn {\n\t\t\tcanPress: this.can(),\n\t\t\tisPressed: this.pressed(),\n\t\t\ttickSubscription: undefined\n\t\t};\n\t},\n\n\trender(h)\n\t{\n\t\treturn h(\n\t\t\t\"button\",\n\t\t\t{\n\t\t\t\tclass: `btn btn-icon ${this.isPressed ? \"btn-soft btn-primary\" : \"btn-text btn-dark\"}`,\n\t\t\t\tdomProps: {disabled: !this.canPress},\n\t\t\t\ton: {click: evt => this.press(evt)}\n\t\t\t},\n\t\t\t[\n\t\t\t\th(\"i\", {class: `mdi mdi-${this.icon}`})\n\t\t\t]\n\t\t);\n\t}\n\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-block-actions\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isFirst},on:{\"click\":function($event){return _vm.entry.rearrange(-1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-up\"})]),_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",attrs:{\"disabled\":_vm.entry.isLast},on:{\"click\":function($event){return _vm.entry.rearrange(1)}}},[_c('i',{staticClass:\"mdi mdi-arrow-down\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-sm btn-text btn-dark\",on:{\"click\":function($event){return _vm.entry.remove()}}},[_c('i',{staticClass:\"mdi mdi-delete\"})]),_c('div',{staticClass:\"divider divider-vertical\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n\tupdate: null,\n\tbegin: null,\n\tloopBegin: null,\n\tchangeBegin: null,\n\tchange: null,\n\tchangeComplete: null,\n\tloopComplete: null,\n\tcomplete: null,\n\tloop: 1,\n\tdirection: 'normal',\n\tautoplay: true,\n\ttimelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n\tduration: 1000,\n\tdelay: 0,\n\tendDelay: 0,\n\teasing: 'easeOutElastic(1, .5)',\n\tround: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n\tCSS: {},\n\tsprings: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max)\n{\n\treturn Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text)\n{\n\treturn str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args)\n{\n\treturn func.apply(null, args);\n}\n\nvar is = {\n\tarr: function (a)\n\t{\n\t\treturn Array.isArray(a);\n\t},\n\tobj: function (a)\n\t{\n\t\treturn stringContains(Object.prototype.toString.call(a), 'Object');\n\t},\n\tpth: function (a)\n\t{\n\t\treturn is.obj(a) && a.hasOwnProperty('totalLength');\n\t},\n\tsvg: function (a)\n\t{\n\t\treturn a instanceof SVGElement;\n\t},\n\tinp: function (a)\n\t{\n\t\treturn a instanceof HTMLInputElement;\n\t},\n\tdom: function (a)\n\t{\n\t\treturn a.nodeType || is.svg(a);\n\t},\n\tstr: function (a)\n\t{\n\t\treturn typeof a === 'string';\n\t},\n\tfnc: function (a)\n\t{\n\t\treturn typeof a === 'function';\n\t},\n\tund: function (a)\n\t{\n\t\treturn typeof a === 'undefined';\n\t},\n\thex: function (a)\n\t{\n\t\treturn /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);\n\t},\n\trgb: function (a)\n\t{\n\t\treturn /^rgb/.test(a);\n\t},\n\thsl: function (a)\n\t{\n\t\treturn /^hsl/.test(a);\n\t},\n\tcol: function (a)\n\t{\n\t\treturn (is.hex(a) || is.rgb(a) || is.hsl(a));\n\t},\n\tkey: function (a)\n\t{\n\t\treturn !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes';\n\t}\n};\n\n// Easings\n\nfunction parseEasingParameters(string)\n{\n\tvar match = /\\(([^)]+)\\)/.exec(string);\n\treturn match ? match[1].split(',').map(function (p)\n\t{\n\t\treturn parseFloat(p);\n\t}) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration)\n{\n\n\tvar params = parseEasingParameters(string);\n\tvar mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n\tvar stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n\tvar damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n\tvar velocity = minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n\tvar w0 = Math.sqrt(stiffness / mass);\n\tvar zeta = damping / (2 * Math.sqrt(stiffness * mass));\n\tvar wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n\tvar a = 1;\n\tvar b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n\tfunction solver(t)\n\t{\n\t\tvar progress = duration ? (duration * t) / 1000 : t;\n\t\tif (zeta < 1)\n\t\t{\n\t\t\tprogress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tprogress = (a + b * progress) * Math.exp(-progress * w0);\n\t\t}\n\t\tif (t === 0 || t === 1)\n\t\t{\n\t\t\treturn t;\n\t\t}\n\t\treturn 1 - progress;\n\t}\n\n\tfunction getDuration()\n\t{\n\t\tvar cached = cache.springs[string];\n\t\tif (cached)\n\t\t{\n\t\t\treturn cached;\n\t\t}\n\t\tvar frame = 1 / 6;\n\t\tvar elapsed = 0;\n\t\tvar rest = 0;\n\t\twhile (true)\n\t\t{\n\t\t\telapsed += frame;\n\t\t\tif (solver(elapsed) === 1)\n\t\t\t{\n\t\t\t\trest++;\n\t\t\t\tif (rest >= 16)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\trest = 0;\n\t\t\t}\n\t\t}\n\t\tvar duration = elapsed * frame * 1000;\n\t\tcache.springs[string] = duration;\n\t\treturn duration;\n\t}\n\n\treturn duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps)\n{\n\tif (steps === void 0) steps = 10;\n\n\treturn function (t)\n\t{\n\t\treturn Math.round(t * steps) * (1 / steps);\n\t};\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function ()\n{\n\n\tvar kSplineTableSize = 11;\n\tvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n\tfunction A(aA1, aA2)\n\t{\n\t\treturn 1.0 - 3.0 * aA2 + 3.0 * aA1\n\t}\n\n\tfunction B(aA1, aA2)\n\t{\n\t\treturn 3.0 * aA2 - 6.0 * aA1\n\t}\n\n\tfunction C(aA1)\n\t{\n\t\treturn 3.0 * aA1\n\t}\n\n\tfunction calcBezier(aT, aA1, aA2)\n\t{\n\t\treturn ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT\n\t}\n\n\tfunction getSlope(aT, aA1, aA2)\n\t{\n\t\treturn 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1)\n\t}\n\n\tfunction binarySubdivide(aX, aA, aB, mX1, mX2)\n\t{\n\t\tvar currentX, currentT, i = 0;\n\t\tdo\n\t\t{\n\t\t\tcurrentT = aA + (aB - aA) / 2.0;\n\t\t\tcurrentX = calcBezier(currentT, mX1, mX2) - aX;\n\t\t\tif (currentX > 0.0)\n\t\t\t{\n\t\t\t\taB = currentT;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\taA = currentT;\n\t\t\t}\n\t\t}\n\t\twhile (Math.abs(currentX) > 0.0000001 && ++i < 10);\n\t\treturn currentT;\n\t}\n\n\tfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2)\n\t{\n\t\tfor (var i = 0; i < 4; ++i)\n\t\t{\n\t\t\tvar currentSlope = getSlope(aGuessT, mX1, mX2);\n\t\t\tif (currentSlope === 0.0)\n\t\t\t{\n\t\t\t\treturn aGuessT;\n\t\t\t}\n\t\t\tvar currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n\t\t\taGuessT -= currentX / currentSlope;\n\t\t}\n\t\treturn aGuessT;\n\t}\n\n\tfunction bezier(mX1, mY1, mX2, mY2)\n\t{\n\n\t\tif (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1))\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar sampleValues = new Float32Array(kSplineTableSize);\n\n\t\tif (mX1 !== mY1 || mX2 !== mY2)\n\t\t{\n\t\t\tfor (var i = 0; i < kSplineTableSize; ++i)\n\t\t\t{\n\t\t\t\tsampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n\t\t\t}\n\t\t}\n\n\t\tfunction getTForX(aX)\n\t\t{\n\n\t\t\tvar intervalStart = 0;\n\t\t\tvar currentSample = 1;\n\t\t\tvar lastSample = kSplineTableSize - 1;\n\n\t\t\tfor (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample)\n\t\t\t{\n\t\t\t\tintervalStart += kSampleStepSize;\n\t\t\t}\n\n\t\t\t--currentSample;\n\n\t\t\tvar dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n\t\t\tvar guessForT = intervalStart + dist * kSampleStepSize;\n\t\t\tvar initialSlope = getSlope(guessForT, mX1, mX2);\n\n\t\t\tif (initialSlope >= 0.001)\n\t\t\t{\n\t\t\t\treturn newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n\t\t\t}\n\t\t\telse if (initialSlope === 0.0)\n\t\t\t{\n\t\t\t\treturn guessForT;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n\t\t\t}\n\n\t\t}\n\n\t\treturn function (x)\n\t\t{\n\t\t\tif (mX1 === mY1 && mX2 === mY2)\n\t\t\t{\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\tif (x === 0 || x === 1)\n\t\t\t{\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\treturn calcBezier(getTForX(x), mY1, mY2);\n\t\t}\n\n\t}\n\n\treturn bezier;\n\n})();\n\nvar penner = (function ()\n{\n\n\t// Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n\tvar eases = {\n\t\tlinear: function ()\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn t;\n\t\t\t};\n\t\t}\n\t};\n\n\tvar functionEasings = {\n\t\tSine: function ()\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn 1 - Math.cos(t * Math.PI / 2);\n\t\t\t};\n\t\t},\n\t\tCirc: function ()\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn 1 - Math.sqrt(1 - t * t);\n\t\t\t};\n\t\t},\n\t\tBack: function ()\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn t * t * (3 * t - 2);\n\t\t\t};\n\t\t},\n\t\tBounce: function ()\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\tvar pow2, b = 4;\n\t\t\t\twhile (t < ((pow2 = Math.pow(2, --b)) - 1) / 11)\n\t\t\t\t{\n\t\t\t\t}\n\t\t\t\treturn 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - t, 2)\n\t\t\t};\n\t\t},\n\t\tElastic: function (amplitude, period)\n\t\t{\n\t\t\tif (amplitude === void 0) amplitude = 1;\n\t\t\tif (period === void 0) period = .5;\n\n\t\t\tvar a = minMax(amplitude, 1, 10);\n\t\t\tvar p = minMax(period, .1, 2);\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn (t === 0 || t === 1) ? t :\n\t\t\t\t\t-a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n\tbaseEasings.forEach(function (name, i)\n\t{\n\t\tfunctionEasings[name] = function ()\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn Math.pow(t, i + 2);\n\t\t\t};\n\t\t};\n\t});\n\n\tObject.keys(functionEasings).forEach(function (name)\n\t{\n\t\tvar easeIn = functionEasings[name];\n\t\teases['easeIn' + name] = easeIn;\n\t\teases['easeOut' + name] = function (a, b)\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn 1 - easeIn(a, b)(1 - t);\n\t\t\t};\n\t\t};\n\t\teases['easeInOut' + name] = function (a, b)\n\t\t{\n\t\t\treturn function (t)\n\t\t\t{\n\t\t\t\treturn t < 0.5 ? easeIn(a, b)(t * 2) / 2 :\n\t\t\t\t\t1 - easeIn(a, b)(t * -2 + 2) / 2;\n\t\t\t};\n\t\t};\n\t});\n\n\treturn eases;\n\n})();\n\nfunction parseEasings(easing, duration)\n{\n\tif (is.fnc(easing))\n\t{\n\t\treturn easing;\n\t}\n\tvar name = easing.split('(')[0];\n\tvar ease = penner[name];\n\tvar args = parseEasingParameters(easing);\n\tswitch (name)\n\t{\n\t\tcase 'spring' :\n\t\t\treturn spring(easing, duration);\n\t\tcase 'cubicBezier' :\n\t\t\treturn applyArguments(bezier, args);\n\t\tcase 'steps' :\n\t\t\treturn applyArguments(steps, args);\n\t\tdefault :\n\t\t\treturn applyArguments(ease, args);\n\t}\n}\n\n// Strings\n\nfunction selectString(str)\n{\n\ttry\n\t{\n\t\tvar nodes = document.querySelectorAll(str);\n\t\treturn nodes;\n\t}\n\tcatch (e)\n\t{\n\t\treturn;\n\t}\n}\n\n// Arrays\n\nfunction filterArray(arr, callback)\n{\n\tvar len = arr.length;\n\tvar thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n\tvar result = [];\n\tfor (var i = 0; i < len; i++)\n\t{\n\t\tif (i in arr)\n\t\t{\n\t\t\tvar val = arr[i];\n\t\t\tif (callback.call(thisArg, val, i, arr))\n\t\t\t{\n\t\t\t\tresult.push(val);\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction flattenArray(arr)\n{\n\treturn arr.reduce(function (a, b)\n\t{\n\t\treturn a.concat(is.arr(b) ? flattenArray(b) : b);\n\t}, []);\n}\n\nfunction toArray(o)\n{\n\tif (is.arr(o))\n\t{\n\t\treturn o;\n\t}\n\tif (is.str(o))\n\t{\n\t\to = selectString(o) || o;\n\t}\n\tif (o instanceof NodeList || o instanceof HTMLCollection)\n\t{\n\t\treturn [].slice.call(o);\n\t}\n\treturn [o];\n}\n\nfunction arrayContains(arr, val)\n{\n\treturn arr.some(function (a)\n\t{\n\t\treturn a === val;\n\t});\n}\n\n// Objects\n\nfunction cloneObject(o)\n{\n\tvar clone = {};\n\tfor (var p in o)\n\t{\n\t\tclone[p] = o[p];\n\t}\n\treturn clone;\n}\n\nfunction replaceObjectProps(o1, o2)\n{\n\tvar o = cloneObject(o1);\n\tfor (var p in o1)\n\t{\n\t\to[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p];\n\t}\n\treturn o;\n}\n\nfunction mergeObjects(o1, o2)\n{\n\tvar o = cloneObject(o1);\n\tfor (var p in o2)\n\t{\n\t\to[p] = is.und(o1[p]) ? o2[p] : o1[p];\n\t}\n\treturn o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue)\n{\n\tvar rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n\treturn rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue)\n{\n\tvar rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\tvar hex = hexValue.replace(rgx, function (m, r, g, b)\n\t{\n\t\treturn r + r + g + g + b + b;\n\t});\n\tvar rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\tvar r = parseInt(rgb[1], 16);\n\tvar g = parseInt(rgb[2], 16);\n\tvar b = parseInt(rgb[3], 16);\n\treturn (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue)\n{\n\tvar hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n\tvar h = parseInt(hsl[1], 10) / 360;\n\tvar s = parseInt(hsl[2], 10) / 100;\n\tvar l = parseInt(hsl[3], 10) / 100;\n\tvar a = hsl[4] || 1;\n\n\tfunction hue2rgb(p, q, t)\n\t{\n\t\tif (t < 0)\n\t\t{\n\t\t\tt += 1;\n\t\t}\n\t\tif (t > 1)\n\t\t{\n\t\t\tt -= 1;\n\t\t}\n\t\tif (t < 1 / 6)\n\t\t{\n\t\t\treturn p + (q - p) * 6 * t;\n\t\t}\n\t\tif (t < 1 / 2)\n\t\t{\n\t\t\treturn q;\n\t\t}\n\t\tif (t < 2 / 3)\n\t\t{\n\t\t\treturn p + (q - p) * (2 / 3 - t) * 6;\n\t\t}\n\t\treturn p;\n\t}\n\n\tvar r, g, b;\n\tif (s == 0)\n\t{\n\t\tr = g = b = l;\n\t}\n\telse\n\t{\n\t\tvar q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t\tvar p = 2 * l - q;\n\t\tr = hue2rgb(p, q, h + 1 / 3);\n\t\tg = hue2rgb(p, q, h);\n\t\tb = hue2rgb(p, q, h - 1 / 3);\n\t}\n\treturn (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val)\n{\n\tif (is.rgb(val))\n\t{\n\t\treturn rgbToRgba(val);\n\t}\n\tif (is.hex(val))\n\t{\n\t\treturn hexToRgba(val);\n\t}\n\tif (is.hsl(val))\n\t{\n\t\treturn hslToRgba(val);\n\t}\n}\n\n// Units\n\nfunction getUnit(val)\n{\n\tvar split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n\tif (split)\n\t{\n\t\treturn split[1];\n\t}\n}\n\nfunction getTransformUnit(propName)\n{\n\tif (stringContains(propName, 'translate') || propName === 'perspective')\n\t{\n\t\treturn 'px';\n\t}\n\tif (stringContains(propName, 'rotate') || stringContains(propName, 'skew'))\n\t{\n\t\treturn 'deg';\n\t}\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable)\n{\n\tif (!is.fnc(val))\n\t{\n\t\treturn val;\n\t}\n\treturn val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop)\n{\n\treturn el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit)\n{\n\tvar valueUnit = getUnit(value);\n\tif (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit))\n\t{\n\t\treturn value;\n\t}\n\tvar cached = cache.CSS[value + unit];\n\tif (!is.und(cached))\n\t{\n\t\treturn cached;\n\t}\n\tvar baseline = 100;\n\tvar tempEl = document.createElement(el.tagName);\n\tvar parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n\tparentEl.appendChild(tempEl);\n\ttempEl.style.position = 'absolute';\n\ttempEl.style.width = baseline + unit;\n\tvar factor = baseline / tempEl.offsetWidth;\n\tparentEl.removeChild(tempEl);\n\tvar convertedUnit = factor * parseFloat(value);\n\tcache.CSS[value + unit] = convertedUnit;\n\treturn convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit)\n{\n\tif (prop in el.style)\n\t{\n\t\tvar uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t\tvar value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n\t\treturn unit ? convertPxToUnit(el, value, unit) : value;\n\t}\n}\n\nfunction getAnimationType(el, prop)\n{\n\tif (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop])))\n\t{\n\t\treturn 'attribute';\n\t}\n\tif (is.dom(el) && arrayContains(validTransforms, prop))\n\t{\n\t\treturn 'transform';\n\t}\n\tif (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop)))\n\t{\n\t\treturn 'css';\n\t}\n\tif (el[prop] != null)\n\t{\n\t\treturn 'object';\n\t}\n}\n\nfunction getElementTransforms(el)\n{\n\tif (!is.dom(el))\n\t{\n\t\treturn;\n\t}\n\tvar str = el.style.transform || '';\n\tvar reg = /(\\w+)\\(([^)]*)\\)/g;\n\tvar transforms = new Map();\n\tvar m;\n\twhile (m = reg.exec(str))\n\t{\n\t\ttransforms.set(m[1], m[2]);\n\t}\n\treturn transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit)\n{\n\tvar defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n\tvar value = getElementTransforms(el).get(propName) || defaultVal;\n\tif (animatable)\n\t{\n\t\tanimatable.transforms.list.set(propName, value);\n\t\tanimatable.transforms['last'] = propName;\n\t}\n\treturn unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable)\n{\n\tswitch (getAnimationType(target, propName))\n\t{\n\t\tcase 'transform':\n\t\t\treturn getTransformValue(target, propName, animatable, unit);\n\t\tcase 'css':\n\t\t\treturn getCSSValue(target, propName, unit);\n\t\tcase 'attribute':\n\t\t\treturn getAttribute(target, propName);\n\t\tdefault:\n\t\t\treturn target[propName] || 0;\n\t}\n}\n\nfunction getRelativeValue(to, from)\n{\n\tvar operator = /^(\\*=|\\+=|-=)/.exec(to);\n\tif (!operator)\n\t{\n\t\treturn to;\n\t}\n\tvar u = getUnit(to) || 0;\n\tvar x = parseFloat(from);\n\tvar y = parseFloat(to.replace(operator[0], ''));\n\tswitch (operator[0][0])\n\t{\n\t\tcase '+':\n\t\t\treturn x + y + u;\n\t\tcase '-':\n\t\t\treturn x - y + u;\n\t\tcase '*':\n\t\t\treturn x * y + u;\n\t}\n}\n\nfunction validateValue(val, unit)\n{\n\tif (is.col(val))\n\t{\n\t\treturn colorToRgb(val);\n\t}\n\tif (/\\s/g.test(val))\n\t{\n\t\treturn val;\n\t}\n\tvar originalUnit = getUnit(val);\n\tvar unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n\tif (unit)\n\t{\n\t\treturn unitLess + unit;\n\t}\n\treturn unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2)\n{\n\treturn Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el)\n{\n\treturn Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el)\n{\n\treturn (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el)\n{\n\treturn getDistance(\n\t\t{x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')},\n\t\t{x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n\t);\n}\n\nfunction getPolylineLength(el)\n{\n\tvar points = el.points;\n\tvar totalLength = 0;\n\tvar previousPos;\n\tfor (var i = 0; i < points.numberOfItems; i++)\n\t{\n\t\tvar currentPos = points.getItem(i);\n\t\tif (i > 0)\n\t\t{\n\t\t\ttotalLength += getDistance(previousPos, currentPos);\n\t\t}\n\t\tpreviousPos = currentPos;\n\t}\n\treturn totalLength;\n}\n\nfunction getPolygonLength(el)\n{\n\tvar points = el.points;\n\treturn getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el)\n{\n\tif (el.getTotalLength)\n\t{\n\t\treturn el.getTotalLength();\n\t}\n\tswitch (el.tagName.toLowerCase())\n\t{\n\t\tcase 'circle':\n\t\t\treturn getCircleLength(el);\n\t\tcase 'rect':\n\t\t\treturn getRectLength(el);\n\t\tcase 'line':\n\t\t\treturn getLineLength(el);\n\t\tcase 'polyline':\n\t\t\treturn getPolylineLength(el);\n\t\tcase 'polygon':\n\t\t\treturn getPolygonLength(el);\n\t}\n}\n\nfunction setDashoffset(el)\n{\n\tvar pathLength = getTotalLength(el);\n\tel.setAttribute('stroke-dasharray', pathLength);\n\treturn pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el)\n{\n\tvar parentEl = el.parentNode;\n\twhile (is.svg(parentEl))\n\t{\n\t\tif (!is.svg(parentEl.parentNode))\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tparentEl = parentEl.parentNode;\n\t}\n\treturn parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData)\n{\n\tvar svg = svgData || {};\n\tvar parentSvgEl = svg.el || getParentSvgEl(pathEl);\n\tvar rect = parentSvgEl.getBoundingClientRect();\n\tvar viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n\tvar width = rect.width;\n\tvar height = rect.height;\n\tvar viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n\treturn {\n\t\tel: parentSvgEl,\n\t\tviewBox: viewBox,\n\t\tx: viewBox[0] / 1,\n\t\ty: viewBox[1] / 1,\n\t\tw: width / viewBox[2],\n\t\th: height / viewBox[3]\n\t}\n}\n\nfunction getPath(path, percent)\n{\n\tvar pathEl = is.str(path) ? selectString(path)[0] : path;\n\tvar p = percent || 100;\n\treturn function (property)\n\t{\n\t\treturn {\n\t\t\tproperty: property,\n\t\t\tel: pathEl,\n\t\t\tsvg: getParentSvg(pathEl),\n\t\t\ttotalLength: getTotalLength(pathEl) * (p / 100)\n\t\t}\n\t}\n}\n\nfunction getPathProgress(path, progress)\n{\n\tfunction point(offset)\n\t{\n\t\tif (offset === void 0) offset = 0;\n\n\t\tvar l = progress + offset >= 1 ? progress + offset : 0;\n\t\treturn path.el.getPointAtLength(l);\n\t}\n\n\tvar svg = getParentSvg(path.el, path.svg);\n\tvar p = point();\n\tvar p0 = point(-1);\n\tvar p1 = point(+1);\n\tswitch (path.property)\n\t{\n\t\tcase 'x':\n\t\t\treturn (p.x - svg.x) * svg.w;\n\t\tcase 'y':\n\t\t\treturn (p.y - svg.y) * svg.h;\n\t\tcase 'angle':\n\t\t\treturn Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n\t}\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit)\n{\n\t// const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n\t// const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n\tvar rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n\tvar value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n\treturn {\n\t\toriginal: value,\n\t\tnumbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n\t\tstrings: (is.str(val) || unit) ? value.split(rgx) : []\n\t}\n}\n\n// Animatables\n\nfunction parseTargets(targets)\n{\n\tvar targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n\treturn filterArray(targetsArray, function (item, pos, self)\n\t{\n\t\treturn self.indexOf(item) === pos;\n\t});\n}\n\nfunction getAnimatables(targets)\n{\n\tvar parsed = parseTargets(targets);\n\treturn parsed.map(function (t, i)\n\t{\n\t\treturn {target: t, id: i, total: parsed.length, transforms: {list: getElementTransforms(t)}};\n\t});\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings)\n{\n\tvar settings = cloneObject(tweenSettings);\n\t// Override duration if easing is a spring\n\tif (/^spring/.test(settings.easing))\n\t{\n\t\tsettings.duration = spring(settings.easing);\n\t}\n\tif (is.arr(prop))\n\t{\n\t\tvar l = prop.length;\n\t\tvar isFromTo = (l === 2 && !is.obj(prop[0]));\n\t\tif (!isFromTo)\n\t\t{\n\t\t\t// Duration divided by the number of tweens\n\t\t\tif (!is.fnc(tweenSettings.duration))\n\t\t\t{\n\t\t\t\tsettings.duration = tweenSettings.duration / l;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Transform [from, to] values shorthand to a valid tween value\n\t\t\tprop = {value: prop};\n\t\t}\n\t}\n\tvar propArray = is.arr(prop) ? prop : [prop];\n\treturn propArray.map(function (v, i)\n\t{\n\t\tvar obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n\t\t// Default delay value should only be applied to the first tween\n\t\tif (is.und(obj.delay))\n\t\t{\n\t\t\tobj.delay = !i ? tweenSettings.delay : 0;\n\t\t}\n\t\t// Default endDelay value should only be applied to the last tween\n\t\tif (is.und(obj.endDelay))\n\t\t{\n\t\t\tobj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0;\n\t\t}\n\t\treturn obj;\n\t}).map(function (k)\n\t{\n\t\treturn mergeObjects(k, settings);\n\t});\n}\n\n\nfunction flattenKeyframes(keyframes)\n{\n\tvar propertyNames = filterArray(flattenArray(keyframes.map(function (key)\n\t{\n\t\treturn Object.keys(key);\n\t})), function (p)\n\t{\n\t\treturn is.key(p);\n\t})\n\t\t.reduce(function (a, b)\n\t\t{\n\t\t\tif (a.indexOf(b) < 0)\n\t\t\t{\n\t\t\t\ta.push(b);\n\t\t\t}\n\t\t\treturn a;\n\t\t}, []);\n\tvar properties = {};\n\tvar loop = function (i)\n\t{\n\t\tvar propName = propertyNames[i];\n\t\tproperties[propName] = keyframes.map(function (key)\n\t\t{\n\t\t\tvar newKey = {};\n\t\t\tfor (var p in key)\n\t\t\t{\n\t\t\t\tif (is.key(p))\n\t\t\t\t{\n\t\t\t\t\tif (p == propName)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewKey.value = key[p];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnewKey[p] = key[p];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newKey;\n\t\t});\n\t};\n\n\tfor (var i = 0; i < propertyNames.length; i++) loop(i);\n\treturn properties;\n}\n\nfunction getProperties(tweenSettings, params)\n{\n\tvar properties = [];\n\tvar keyframes = params.keyframes;\n\tif (keyframes)\n\t{\n\t\tparams = mergeObjects(flattenKeyframes(keyframes), params);\n\t}\n\tfor (var p in params)\n\t{\n\t\tif (is.key(p))\n\t\t{\n\t\t\tproperties.push({\n\t\t\t\tname: p,\n\t\t\t\ttweens: normalizePropertyTweens(params[p], tweenSettings)\n\t\t\t});\n\t\t}\n\t}\n\treturn properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable)\n{\n\tvar t = {};\n\tfor (var p in tween)\n\t{\n\t\tvar value = getFunctionValue(tween[p], animatable);\n\t\tif (is.arr(value))\n\t\t{\n\t\t\tvalue = value.map(function (v)\n\t\t\t{\n\t\t\t\treturn getFunctionValue(v, animatable);\n\t\t\t});\n\t\t\tif (value.length === 1)\n\t\t\t{\n\t\t\t\tvalue = value[0];\n\t\t\t}\n\t\t}\n\t\tt[p] = value;\n\t}\n\tt.duration = parseFloat(t.duration);\n\tt.delay = parseFloat(t.delay);\n\treturn t;\n}\n\nfunction normalizeTweens(prop, animatable)\n{\n\tvar previousTween;\n\treturn prop.tweens.map(function (t)\n\t{\n\t\tvar tween = normalizeTweenValues(t, animatable);\n\t\tvar tweenValue = tween.value;\n\t\tvar to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n\t\tvar toUnit = getUnit(to);\n\t\tvar originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n\t\tvar previousValue = previousTween ? previousTween.to.original : originalValue;\n\t\tvar from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n\t\tvar fromUnit = getUnit(from) || getUnit(originalValue);\n\t\tvar unit = toUnit || fromUnit;\n\t\tif (is.und(to))\n\t\t{\n\t\t\tto = previousValue;\n\t\t}\n\t\ttween.from = decomposeValue(from, unit);\n\t\ttween.to = decomposeValue(getRelativeValue(to, from), unit);\n\t\ttween.start = previousTween ? previousTween.end : 0;\n\t\ttween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n\t\ttween.easing = parseEasings(tween.easing, tween.duration);\n\t\ttween.isPath = is.pth(tweenValue);\n\t\ttween.isColor = is.col(tween.from.original);\n\t\tif (tween.isColor)\n\t\t{\n\t\t\ttween.round = 1;\n\t\t}\n\t\tpreviousTween = tween;\n\t\treturn tween;\n\t});\n}\n\n// Tween progress\n\nvar setProgressValue = {\n\tcss: function (t, p, v)\n\t{\n\t\treturn t.style[p] = v;\n\t},\n\tattribute: function (t, p, v)\n\t{\n\t\treturn t.setAttribute(p, v);\n\t},\n\tobject: function (t, p, v)\n\t{\n\t\treturn t[p] = v;\n\t},\n\ttransform: function (t, p, v, transforms, manual)\n\t{\n\t\ttransforms.list.set(p, v);\n\t\tif (p === transforms.last || manual)\n\t\t{\n\t\t\tvar str = '';\n\t\t\ttransforms.list.forEach(function (value, prop)\n\t\t\t{\n\t\t\t\tstr += prop + \"(\" + value + \") \";\n\t\t\t});\n\t\t\tt.style.transform = str;\n\t\t}\n\t}\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties)\n{\n\tvar animatables = getAnimatables(targets);\n\tanimatables.forEach(function (animatable)\n\t{\n\t\tfor (var property in properties)\n\t\t{\n\t\t\tvar value = getFunctionValue(properties[property], animatable);\n\t\t\tvar target = animatable.target;\n\t\t\tvar valueUnit = getUnit(value);\n\t\t\tvar originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n\t\t\tvar unit = valueUnit || getUnit(originalValue);\n\t\t\tvar to = getRelativeValue(validateValue(value, unit), originalValue);\n\t\t\tvar animType = getAnimationType(target, property);\n\t\t\tsetProgressValue[animType](target, property, to, animatable.transforms, true);\n\t\t}\n\t});\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop)\n{\n\tvar animType = getAnimationType(animatable.target, prop.name);\n\tif (animType)\n\t{\n\t\tvar tweens = normalizeTweens(prop, animatable);\n\t\tvar lastTween = tweens[tweens.length - 1];\n\t\treturn {\n\t\t\ttype: animType,\n\t\t\tproperty: prop.name,\n\t\t\tanimatable: animatable,\n\t\t\ttweens: tweens,\n\t\t\tduration: lastTween.end,\n\t\t\tdelay: tweens[0].delay,\n\t\t\tendDelay: lastTween.endDelay\n\t\t}\n\t}\n}\n\nfunction getAnimations(animatables, properties)\n{\n\treturn filterArray(flattenArray(animatables.map(function (animatable)\n\t{\n\t\treturn properties.map(function (prop)\n\t\t{\n\t\t\treturn createAnimation(animatable, prop);\n\t\t});\n\t})), function (a)\n\t{\n\t\treturn !is.und(a);\n\t});\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings)\n{\n\tvar animLength = animations.length;\n\tvar getTlOffset = function (anim)\n\t{\n\t\treturn anim.timelineOffset ? anim.timelineOffset : 0;\n\t};\n\tvar timings = {};\n\ttimings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim)\n\t{\n\t\treturn getTlOffset(anim) + anim.duration;\n\t})) : tweenSettings.duration;\n\ttimings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim)\n\t{\n\t\treturn getTlOffset(anim) + anim.delay;\n\t})) : tweenSettings.delay;\n\ttimings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim)\n\t{\n\t\treturn getTlOffset(anim) + anim.duration - anim.endDelay;\n\t})) : tweenSettings.endDelay;\n\treturn timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params)\n{\n\tvar instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n\tvar tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n\tvar properties = getProperties(tweenSettings, params);\n\tvar animatables = getAnimatables(params.targets);\n\tvar animations = getAnimations(animatables, properties);\n\tvar timings = getInstanceTimings(animations, tweenSettings);\n\tvar id = instanceID;\n\tinstanceID++;\n\treturn mergeObjects(instanceSettings, {\n\t\tid: id,\n\t\tchildren: [],\n\t\tanimatables: animatables,\n\t\tanimations: animations,\n\t\tduration: timings.duration,\n\t\tdelay: timings.delay,\n\t\tendDelay: timings.endDelay\n\t});\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function ()\n{\n\tfunction play()\n\t{\n\t\traf = requestAnimationFrame(step);\n\t}\n\n\tfunction step(t)\n\t{\n\t\tvar activeInstancesLength = activeInstances.length;\n\t\tif (activeInstancesLength)\n\t\t{\n\t\t\tvar i = 0;\n\t\t\twhile (i < activeInstancesLength)\n\t\t\t{\n\t\t\t\tvar activeInstance = activeInstances[i];\n\t\t\t\tif (!activeInstance.paused)\n\t\t\t\t{\n\t\t\t\t\tactiveInstance.tick(t);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar instanceIndex = activeInstances.indexOf(activeInstance);\n\t\t\t\t\tif (instanceIndex > -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tactiveInstances.splice(instanceIndex, 1);\n\t\t\t\t\t\tactiveInstancesLength = activeInstances.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tplay();\n\t\t}\n\t\telse\n\t\t{\n\t\t\traf = cancelAnimationFrame(raf);\n\t\t}\n\t}\n\n\treturn play;\n})();\n\nfunction handleVisibilityChange()\n{\n\tif (document.hidden)\n\t{\n\t\tactiveInstances.forEach(function (ins)\n\t\t{\n\t\t\treturn ins.pause();\n\t\t});\n\t\tpausedInstances = activeInstances.slice(0);\n\t\tanime.running = activeInstances = [];\n\t}\n\telse\n\t{\n\t\tpausedInstances.forEach(function (ins)\n\t\t{\n\t\t\treturn ins.play();\n\t\t});\n\t}\n}\n\nif (typeof document !== 'undefined')\n{\n\tdocument.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params)\n{\n\tif (params === void 0) params = {};\n\n\n\tvar startTime = 0, lastTime = 0, now = 0;\n\tvar children, childrenLength = 0;\n\tvar resolve = null;\n\n\tfunction makePromise(instance)\n\t{\n\t\tvar promise = window.Promise && new Promise(function (_resolve)\n\t\t{\n\t\t\treturn resolve = _resolve;\n\t\t});\n\t\tinstance.finished = promise;\n\t\treturn promise;\n\t}\n\n\tvar instance = createNewInstance(params);\n\tvar promise = makePromise(instance);\n\n\tfunction toggleInstanceDirection()\n\t{\n\t\tvar direction = instance.direction;\n\t\tif (direction !== 'alternate')\n\t\t{\n\t\t\tinstance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n\t\t}\n\t\tinstance.reversed = !instance.reversed;\n\t\tchildren.forEach(function (child)\n\t\t{\n\t\t\treturn child.reversed = instance.reversed;\n\t\t});\n\t}\n\n\tfunction adjustTime(time)\n\t{\n\t\treturn instance.reversed ? instance.duration - time : time;\n\t}\n\n\tfunction resetTime()\n\t{\n\t\tstartTime = 0;\n\t\tlastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n\t}\n\n\tfunction seekChild(time, child)\n\t{\n\t\tif (child)\n\t\t{\n\t\t\tchild.seek(time - child.timelineOffset);\n\t\t}\n\t}\n\n\tfunction syncInstanceChildren(time)\n\t{\n\t\tif (!instance.reversePlayback)\n\t\t{\n\t\t\tfor (var i = 0; i < childrenLength; i++)\n\t\t\t{\n\t\t\t\tseekChild(time, children[i]);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (var i$1 = childrenLength; i$1--;)\n\t\t\t{\n\t\t\t\tseekChild(time, children[i$1]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction setAnimationsProgress(insTime)\n\t{\n\t\tvar i = 0;\n\t\tvar animations = instance.animations;\n\t\tvar animationsLength = animations.length;\n\t\twhile (i < animationsLength)\n\t\t{\n\t\t\tvar anim = animations[i];\n\t\t\tvar animatable = anim.animatable;\n\t\t\tvar tweens = anim.tweens;\n\t\t\tvar tweenLength = tweens.length - 1;\n\t\t\tvar tween = tweens[tweenLength];\n\t\t\t// Only check for keyframes if there is more than one tween\n\t\t\tif (tweenLength)\n\t\t\t{\n\t\t\t\ttween = filterArray(tweens, function (t)\n\t\t\t\t{\n\t\t\t\t\treturn (insTime < t.end);\n\t\t\t\t})[0] || tween;\n\t\t\t}\n\t\t\tvar elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n\t\t\tvar eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n\t\t\tvar strings = tween.to.strings;\n\t\t\tvar round = tween.round;\n\t\t\tvar numbers = [];\n\t\t\tvar toNumbersLength = tween.to.numbers.length;\n\t\t\tvar progress = (void 0);\n\t\t\tfor (var n = 0; n < toNumbersLength; n++)\n\t\t\t{\n\t\t\t\tvar value = (void 0);\n\t\t\t\tvar toNumber = tween.to.numbers[n];\n\t\t\t\tvar fromNumber = tween.from.numbers[n] || 0;\n\t\t\t\tif (!tween.isPath)\n\t\t\t\t{\n\t\t\t\t\tvalue = fromNumber + (eased * (toNumber - fromNumber));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvalue = getPathProgress(tween.value, eased * toNumber);\n\t\t\t\t}\n\t\t\t\tif (round)\n\t\t\t\t{\n\t\t\t\t\tif (!(tween.isColor && n > 2))\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue = Math.round(value * round) / round;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnumbers.push(value);\n\t\t\t}\n\t\t\t// Manual Array.reduce for better performances\n\t\t\tvar stringsLength = strings.length;\n\t\t\tif (!stringsLength)\n\t\t\t{\n\t\t\t\tprogress = numbers[0];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tprogress = strings[0];\n\t\t\t\tfor (var s = 0; s < stringsLength; s++)\n\t\t\t\t{\n\t\t\t\t\tvar a = strings[s];\n\t\t\t\t\tvar b = strings[s + 1];\n\t\t\t\t\tvar n$1 = numbers[s];\n\t\t\t\t\tif (!isNaN(n$1))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!b)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprogress += n$1 + ' ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprogress += n$1 + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n\t\t\tanim.currentValue = progress;\n\t\t\ti++;\n\t\t}\n\t}\n\n\tfunction setCallback(cb)\n\t{\n\t\tif (instance[cb] && !instance.passThrough)\n\t\t{\n\t\t\tinstance[cb](instance);\n\t\t}\n\t}\n\n\tfunction countIteration()\n\t{\n\t\tif (instance.remaining && instance.remaining !== true)\n\t\t{\n\t\t\tinstance.remaining--;\n\t\t}\n\t}\n\n\tfunction setInstanceProgress(engineTime)\n\t{\n\t\tvar insDuration = instance.duration;\n\t\tvar insDelay = instance.delay;\n\t\tvar insEndDelay = insDuration - instance.endDelay;\n\t\tvar insTime = adjustTime(engineTime);\n\t\tinstance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n\t\tinstance.reversePlayback = insTime < instance.currentTime;\n\t\tif (children)\n\t\t{\n\t\t\tsyncInstanceChildren(insTime);\n\t\t}\n\t\tif (!instance.began && instance.currentTime > 0)\n\t\t{\n\t\t\tinstance.began = true;\n\t\t\tsetCallback('begin');\n\t\t}\n\t\tif (!instance.loopBegan && instance.currentTime > 0)\n\t\t{\n\t\t\tinstance.loopBegan = true;\n\t\t\tsetCallback('loopBegin');\n\t\t}\n\t\tif (insTime <= insDelay && instance.currentTime !== 0)\n\t\t{\n\t\t\tsetAnimationsProgress(0);\n\t\t}\n\t\tif ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration)\n\t\t{\n\t\t\tsetAnimationsProgress(insDuration);\n\t\t}\n\t\tif (insTime > insDelay && insTime < insEndDelay)\n\t\t{\n\t\t\tif (!instance.changeBegan)\n\t\t\t{\n\t\t\t\tinstance.changeBegan = true;\n\t\t\t\tinstance.changeCompleted = false;\n\t\t\t\tsetCallback('changeBegin');\n\t\t\t}\n\t\t\tsetCallback('change');\n\t\t\tsetAnimationsProgress(insTime);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (instance.changeBegan)\n\t\t\t{\n\t\t\t\tinstance.changeCompleted = true;\n\t\t\t\tinstance.changeBegan = false;\n\t\t\t\tsetCallback('changeComplete');\n\t\t\t}\n\t\t}\n\t\tinstance.currentTime = minMax(insTime, 0, insDuration);\n\t\tif (instance.began)\n\t\t{\n\t\t\tsetCallback('update');\n\t\t}\n\t\tif (engineTime >= insDuration)\n\t\t{\n\t\t\tlastTime = 0;\n\t\t\tcountIteration();\n\t\t\tif (!instance.remaining)\n\t\t\t{\n\t\t\t\tinstance.paused = true;\n\t\t\t\tif (!instance.completed)\n\t\t\t\t{\n\t\t\t\t\tinstance.completed = true;\n\t\t\t\t\tsetCallback('loopComplete');\n\t\t\t\t\tsetCallback('complete');\n\t\t\t\t\tif (!instance.passThrough && 'Promise' in window)\n\t\t\t\t\t{\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\tpromise = makePromise(instance);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tstartTime = now;\n\t\t\t\tsetCallback('loopComplete');\n\t\t\t\tinstance.loopBegan = false;\n\t\t\t\tif (instance.direction === 'alternate')\n\t\t\t\t{\n\t\t\t\t\ttoggleInstanceDirection();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tinstance.reset = function ()\n\t{\n\t\tvar direction = instance.direction;\n\t\tinstance.passThrough = false;\n\t\tinstance.currentTime = 0;\n\t\tinstance.progress = 0;\n\t\tinstance.paused = true;\n\t\tinstance.began = false;\n\t\tinstance.loopBegan = false;\n\t\tinstance.changeBegan = false;\n\t\tinstance.completed = false;\n\t\tinstance.changeCompleted = false;\n\t\tinstance.reversePlayback = false;\n\t\tinstance.reversed = direction === 'reverse';\n\t\tinstance.remaining = instance.loop;\n\t\tchildren = instance.children;\n\t\tchildrenLength = children.length;\n\t\tfor (var i = childrenLength; i--;)\n\t\t{\n\t\t\tinstance.children[i].reset();\n\t\t}\n\t\tif (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1))\n\t\t{\n\t\t\tinstance.remaining++;\n\t\t}\n\t\tsetAnimationsProgress(instance.reversed ? instance.duration : 0);\n\t};\n\n\t// Set Value helper\n\n\tinstance.set = function (targets, properties)\n\t{\n\t\tsetTargetsValue(targets, properties);\n\t\treturn instance;\n\t};\n\n\tinstance.tick = function (t)\n\t{\n\t\tnow = t;\n\t\tif (!startTime)\n\t\t{\n\t\t\tstartTime = now;\n\t\t}\n\t\tsetInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n\t};\n\n\tinstance.seek = function (time)\n\t{\n\t\tsetInstanceProgress(adjustTime(time));\n\t};\n\n\tinstance.pause = function ()\n\t{\n\t\tinstance.paused = true;\n\t\tresetTime();\n\t};\n\n\tinstance.play = function ()\n\t{\n\t\tif (!instance.paused)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (instance.completed)\n\t\t{\n\t\t\tinstance.reset();\n\t\t}\n\t\tinstance.paused = false;\n\t\tactiveInstances.push(instance);\n\t\tresetTime();\n\t\tif (!raf)\n\t\t{\n\t\t\tengine();\n\t\t}\n\t};\n\n\tinstance.reverse = function ()\n\t{\n\t\ttoggleInstanceDirection();\n\t\tresetTime();\n\t};\n\n\tinstance.restart = function ()\n\t{\n\t\tinstance.reset();\n\t\tinstance.play();\n\t};\n\n\tinstance.reset();\n\n\tif (instance.autoplay)\n\t{\n\t\tinstance.play();\n\t}\n\n\treturn instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations)\n{\n\tfor (var a = animations.length; a--;)\n\t{\n\t\tif (arrayContains(targetsArray, animations[a].animatable.target))\n\t\t{\n\t\t\tanimations.splice(a, 1);\n\t\t}\n\t}\n}\n\nfunction removeTargets(targets)\n{\n\tvar targetsArray = parseTargets(targets);\n\tfor (var i = activeInstances.length; i--;)\n\t{\n\t\tvar instance = activeInstances[i];\n\t\tvar animations = instance.animations;\n\t\tvar children = instance.children;\n\t\tremoveTargetsFromAnimations(targetsArray, animations);\n\t\tfor (var c = children.length; c--;)\n\t\t{\n\t\t\tvar child = children[c];\n\t\t\tvar childAnimations = child.animations;\n\t\t\tremoveTargetsFromAnimations(targetsArray, childAnimations);\n\t\t\tif (!childAnimations.length && !child.children.length)\n\t\t\t{\n\t\t\t\tchildren.splice(c, 1);\n\t\t\t}\n\t\t}\n\t\tif (!animations.length && !children.length)\n\t\t{\n\t\t\tinstance.pause();\n\t\t}\n\t}\n}\n\n// Stagger helpers\n\nfunction stagger(val, params)\n{\n\tif (params === void 0) params = {};\n\n\tvar direction = params.direction || 'normal';\n\tvar easing = params.easing ? parseEasings(params.easing) : null;\n\tvar grid = params.grid;\n\tvar axis = params.axis;\n\tvar fromIndex = params.from || 0;\n\tvar fromFirst = fromIndex === 'first';\n\tvar fromCenter = fromIndex === 'center';\n\tvar fromLast = fromIndex === 'last';\n\tvar isRange = is.arr(val);\n\tvar val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n\tvar val2 = isRange ? parseFloat(val[1]) : 0;\n\tvar unit = getUnit(isRange ? val[1] : val) || 0;\n\tvar start = params.start || 0 + (isRange ? val1 : 0);\n\tvar values = [];\n\tvar maxValue = 0;\n\treturn function (el, i, t)\n\t{\n\t\tif (fromFirst)\n\t\t{\n\t\t\tfromIndex = 0;\n\t\t}\n\t\tif (fromCenter)\n\t\t{\n\t\t\tfromIndex = (t - 1) / 2;\n\t\t}\n\t\tif (fromLast)\n\t\t{\n\t\t\tfromIndex = t - 1;\n\t\t}\n\t\tif (!values.length)\n\t\t{\n\t\t\tfor (var index = 0; index < t; index++)\n\t\t\t{\n\t\t\t\tif (!grid)\n\t\t\t\t{\n\t\t\t\t\tvalues.push(Math.abs(fromIndex - index));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar fromX = !fromCenter ? fromIndex % grid[0] : (grid[0] - 1) / 2;\n\t\t\t\t\tvar fromY = !fromCenter ? Math.floor(fromIndex / grid[0]) : (grid[1] - 1) / 2;\n\t\t\t\t\tvar toX = index % grid[0];\n\t\t\t\t\tvar toY = Math.floor(index / grid[0]);\n\t\t\t\t\tvar distanceX = fromX - toX;\n\t\t\t\t\tvar distanceY = fromY - toY;\n\t\t\t\t\tvar value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n\t\t\t\t\tif (axis === 'x')\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue = -distanceX;\n\t\t\t\t\t}\n\t\t\t\t\tif (axis === 'y')\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue = -distanceY;\n\t\t\t\t\t}\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t\tmaxValue = Math.max.apply(Math, values);\n\t\t\t}\n\t\t\tif (easing)\n\t\t\t{\n\t\t\t\tvalues = values.map(function (val)\n\t\t\t\t{\n\t\t\t\t\treturn easing(val / maxValue) * maxValue;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (direction === 'reverse')\n\t\t\t{\n\t\t\t\tvalues = values.map(function (val)\n\t\t\t\t{\n\t\t\t\t\treturn axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tvar spacing = isRange ? (val2 - val1) / maxValue : val1;\n\t\treturn start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n\t}\n}\n\n// Timeline\n\nfunction timeline(params)\n{\n\tif (params === void 0) params = {};\n\n\tvar tl = anime(params);\n\ttl.duration = 0;\n\ttl.add = function (instanceParams, timelineOffset)\n\t{\n\t\tvar tlIndex = activeInstances.indexOf(tl);\n\t\tvar children = tl.children;\n\t\tif (tlIndex > -1)\n\t\t{\n\t\t\tactiveInstances.splice(tlIndex, 1);\n\t\t}\n\n\t\tfunction passThrough(ins)\n\t\t{\n\t\t\tins.passThrough = true;\n\t\t}\n\n\t\tfor (var i = 0; i < children.length; i++)\n\t\t{\n\t\t\tpassThrough(children[i]);\n\t\t}\n\t\tvar insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n\t\tinsParams.targets = insParams.targets || params.targets;\n\t\tvar tlDuration = tl.duration;\n\t\tinsParams.autoplay = false;\n\t\tinsParams.direction = tl.direction;\n\t\tinsParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n\t\tpassThrough(tl);\n\t\ttl.seek(insParams.timelineOffset);\n\t\tvar ins = anime(insParams);\n\t\tpassThrough(ins);\n\t\tchildren.push(ins);\n\t\tvar timings = getInstanceTimings(children, params);\n\t\ttl.delay = timings.delay;\n\t\ttl.endDelay = timings.endDelay;\n\t\ttl.duration = timings.duration;\n\t\ttl.seek(0);\n\t\ttl.reset();\n\t\tif (tl.autoplay)\n\t\t{\n\t\t\ttl.play();\n\t\t}\n\t\treturn tl;\n\t};\n\treturn tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max)\n{\n\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nexport default anime;\n","/*\n * Copyright (c) 2019 - Bas Milius <bas@mili.us>\n *\n * This file is part of the Latte Framework package.\n *\n * For the full copyright and license information, please view the\n * LICENSE file that was distributed with this source code.\n */\n\nimport anime from \"../lib/animejs\";\nimport { getElementDimensions } from \"./element\";\nimport { getLatte } from \"../utils\";\n\nexport const easeSwiftOut = \"cubicBezier(.55, 0, .1, 1)\";\n\nexport function swapBlocks(options, fn)\n{\n\tconst {firstElement, scrollingContainer, secondElement} = options;\n\tconst duration = 360;\n\n\tconst firstDim = getElementDimensions(firstElement);\n\tconst secondDim = getElementDimensions(secondElement);\n\tconst scrollingDim = getElementDimensions(scrollingContainer);\n\n\tlet firstY;\n\tlet secondY;\n\n\tif (firstDim.offset.top > secondDim.offset.top)\n\t{\n\t\tfirstY = -secondDim.outer.height;\n\t\tsecondY = firstDim.outer.height;\n\t}\n\telse\n\t{\n\t\tfirstY = secondDim.outer.height;\n\t\tsecondY = -firstDim.outer.height;\n\t}\n\n\tconst targetScrollTop = Math.max(0, ((firstDim.offset.top - scrollingDim.offset.top) + scrollingContainer.scrollTop + firstY) + (firstDim.dimensions.height / 2) - (scrollingDim.dimensions.height / 2));\n\n\tanime({targets: firstElement, translateY: firstY, duration, easing: easeSwiftOut, loop: false});\n\tanime({targets: secondElement, translateY: secondY, duration, easing: easeSwiftOut, loop: false});\n\tanime({targets: scrollingContainer, scrollTop: targetScrollTop, duration, easing: easeSwiftOut, loop: false}).finished.then(() =>\n\t{\n\t\tfirstElement.style.removeProperty(\"transform\");\n\t\tsecondElement.style.removeProperty(\"transform\");\n\n\t\tfn();\n\t});\n}\n","import { isInputOrTextarea } from \"./element\";\r\n\r\nconst {\r\n\tDOCUMENT_POSITION_FOLLOWING,\r\n\tDOCUMENT_POSITION_PRECEDING\r\n} = window.Node;\r\n\r\nexport function atEdge(elm, atEnd = false, onlyLines = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\tif (elm.selectionStart !== elm.selectionEnd)\r\n\t\t\treturn false;\r\n\r\n\t\tif (atEnd)\r\n\t\t\treturn elm.value.length === elm.selectionStart;\r\n\r\n\t\treturn elm.selectionStart === 0;\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\r\n\tif (selection.rangeCount === 0)\r\n\t\treturn false;\r\n\r\n\tconst range = selection.getRangeAt(0).cloneRange();\r\n\tconst isCollapsed = selection.isCollapsed;\r\n\tconst isForward = isForwardSelection(selection);\r\n\r\n\tif (!isCollapsed)\r\n\t\trange.collapse(!isForward);\r\n\r\n\tconst rangeRect = getRectFromRange(range);\r\n\r\n\tconst computedStyle = window.getComputedStyle(elm);\r\n\tconst lineHeight = parseInt(computedStyle.lineHeight, 10) || 0;\r\n\r\n\tif (!isCollapsed && rangeRect.height > lineHeight && isForward !== atEnd)\r\n\t\treturn false;\r\n\r\n\tconst padding = parseInt(computedStyle[`padding${atEnd ? \"Bottom\" : \"Top\"}`], 10) || 0;\r\n\tconst buffer = 3 * lineHeight / 4;\r\n\tconst elmRect = elm.getBoundingClientRect();\r\n\tconst verticalEdge = atEnd ? elmRect.bottom - padding < rangeRect.bottom + buffer : elmRect.top + padding > rangeRect.top - buffer;\r\n\r\n\tif (!verticalEdge)\r\n\t\treturn false;\r\n\r\n\tif (onlyLines)\r\n\t\treturn true;\r\n\r\n\tconst {direction} = computedStyle;\r\n\tconst isReverseDirection = direction === \"rtl\" ? atEnd : !atEnd;\r\n\r\n\tconst x = isReverseDirection ? elmRect.left + 1 : elmRect.right - 1;\r\n\tconst y = atEnd ? elmRect.bottom - buffer : elmRect.top + buffer;\r\n\tconst testRange = hiddenCaretRangeFromPoint(document, x, y, elm);\r\n\r\n\tif (!testRange)\r\n\t\treturn false;\r\n\r\n\tconst side = isReverseDirection ? \"left\" : \"right\";\r\n\tconst testRect = getRectFromRange(testRange);\r\n\r\n\treturn Math.round(testRect[side]) === Math.round(rangeRect[side]);\r\n}\r\n\r\nexport function caretPosition(elm)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tconst position = {anchorOffset: 0, focusOffset: 0};\r\n\tconst {anchorNode, anchorOffset, isCollapsed, focusNode, focusOffset} = window.getSelection();\r\n\r\n\tlet currentNode;\r\n\tlet isBeyondStart = false;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tif (!isBeyondStart && currentNode === anchorNode)\r\n\t\t{\r\n\t\t\tisBeyondStart = true;\r\n\t\t\tposition.anchorOffset += anchorOffset;\r\n\r\n\t\t\tif (!isCollapsed)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tposition.focusOffset = position.anchorOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isBeyondStart)\r\n\t\t{\r\n\t\t\tposition.anchorOffset += currentNode.length;\r\n\t\t}\r\n\r\n\t\tif (!isCollapsed && currentNode === focusNode)\r\n\t\t{\r\n\t\t\tposition.focusOffset += focusOffset;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse if (!isCollapsed)\r\n\t\t{\r\n\t\t\tposition.focusOffset += currentNode.length;\r\n\t\t}\r\n\t}\r\n\r\n\treturn position;\r\n}\r\n\r\nexport function caretRangeFromPoint(doc, x, y)\r\n{\r\n\tif (doc.caretRangeFromPoint)\r\n\t\treturn doc.caretRangeFromPoint(x, y);\r\n\r\n\tif (!doc.caretPositionFromPoint)\r\n\t\treturn null;\r\n\r\n\tconst point = doc.caretPositionFromPoint(x, y);\r\n\r\n\tif (!point)\r\n\t\treturn null;\r\n\r\n\tconst range = doc.createRange();\r\n\trange.setStart(point.offsetNode, point.offset);\r\n\trange.collapse(true);\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function getRectFromRange(range)\r\n{\r\n\tif (!range.collapsed)\r\n\t\treturn range.getBoundingClientRect();\r\n\r\n\tconst {startContainer} = range;\r\n\r\n\tif (startContainer.nodeName === \"BR\")\r\n\t{\r\n\t\tconst {parentNode} = startContainer;\r\n\t\tconst index = Array.from(parentNode.childNodes).indexOf(startContainer);\r\n\r\n\t\trange = document.createRange();\r\n\t\trange.setStart(parentNode, index);\r\n\t\trange.setEnd(parentNode, index);\r\n\t}\r\n\r\n\tlet rect = range.getClientRects()[0];\r\n\r\n\tif (!rect)\r\n\t{\r\n\t\tconst padNode = document.createTextNode(\"\\u200b\");\r\n\t\trange = range.cloneRange();\r\n\t\trange.insertNode(padNode);\r\n\t\trect = range.getClientRects()[0];\r\n\t\tpadNode.remove();\r\n\t}\r\n\r\n\treturn rect;\r\n}\r\n\r\nexport function hiddenCaretRangeFromPoint(doc, x, y, elm)\r\n{\r\n\telm.style.zIndex = \"10000\";\r\n\r\n\tconst range = caretRangeFromPoint(doc, x, y);\r\n\r\n\telm.style.zIndex = null;\r\n\r\n\treturn range;\r\n}\r\n\r\nexport function isForwardSelection(selection)\r\n{\r\n\tconst {anchorNode, anchorOffset, focusNode, focusOffset} = selection;\r\n\tconst position = anchorNode.compareDocumentPosition(focusNode);\r\n\r\n\tif (position & DOCUMENT_POSITION_PRECEDING)\r\n\t\treturn false;\r\n\r\n\tif (position & DOCUMENT_POSITION_FOLLOWING)\r\n\t\treturn true;\r\n\r\n\tif (position === 0)\r\n\t\treturn anchorOffset <= focusOffset;\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function placeCaretAt(elm, offset = 0)\r\n{\r\n\tconst iterator = createNodeIterator(elm);\r\n\tlet currentNode;\r\n\tlet currentOffset = 0;\r\n\r\n\twhile ((currentNode = iterator.nextNode()))\r\n\t{\r\n\t\tcurrentOffset += currentNode.length;\r\n\r\n\t\tif (currentOffset < offset)\r\n\t\t\tcontinue;\r\n\r\n\t\tconst previousOffset = currentOffset - currentNode.length;\r\n\t\tconst realOffset = offset - previousOffset;\r\n\r\n\t\tconst range = document.createRange();\r\n\t\trange.setStart(currentNode, realOffset);\r\n\t\trange.collapse(true);\r\n\r\n\t\tconst selection = window.getSelection();\r\n\t\tselection.removeAllRanges();\r\n\t\tselection.addRange(range);\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nexport function placeCaretAtEdge(elm, atEnd = false)\r\n{\r\n\tif (isInputOrTextarea(elm))\r\n\t{\r\n\t\telm.focus();\r\n\r\n\t\tif (atEnd)\r\n\t\t\telm.selectionStart = elm.selectionEnd = elm.value.length;\r\n\t\telse\r\n\t\t\telm.selectionStart = elm.selectionEnd = 0;\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!elm.isContentEditable)\r\n\t\treturn;\r\n\r\n\tlet target = elm[atEnd ? \"lastChild\" : \"firstChild\"];\r\n\r\n\tif (!target)\r\n\t{\r\n\t\ttarget = document.createTextNode(\"\");\r\n\t\telm.appendChild(target);\r\n\t}\r\n\r\n\tconst selection = window.getSelection();\r\n\tconst range = document.createRange();\r\n\r\n\trange.selectNodeContents(target);\r\n\trange.collapse(!atEnd);\r\n\r\n\tselection.removeAllRanges();\r\n\tselection.addRange(range);\r\n}\r\n\r\nfunction createNodeIterator(node)\r\n{\r\n\treturn document.createNodeIterator(node, NodeFilter.SHOW_TEXT, {\r\n\r\n\t\tacceptNode()\r\n\t\t{\r\n\t\t\treturn NodeFilter.FILTER_ACCEPT;\r\n\t\t}\r\n\r\n\t});\r\n}\r\n","export function handleComponentError(err, component = undefined, data = undefined)\n{\n\tconsole.error(`${component ? `Got a selection error in component ${component}` : \"Got a selection error\"}: ${err.message}`);\n\n\tif (data)\n\t\tconsole.dir(data);\n}\n","export function createElement(tag, props = undefined, content = undefined)\n{\n\tif (tag === \"template\")\n\t\ttag = \"be-template\";\n\n\tif (typeof props !== \"object\" && content === undefined)\n\t{\n\t\tcontent = props;\n\t\tprops = {};\n\t}\n\n\tconst el = document.createElement(tag);\n\n\tif (props.class)\n\t{\n\t\tif (typeof props.class === \"string\")\n\t\t\tel.classList.add(...props.class.split(\" \").filter(t => t.trim() !== \"\"));\n\t\telse\n\t\t\tel.classList.add(...props.class);\n\t}\n\n\tif (props.domProps)\n\t{\n\t\tfor (let prop in props.domProps)\n\t\t{\n\t\t\tconst val = props.domProps[prop];\n\n\t\t\tif (val === undefined)\n\t\t\t\tcontinue;\n\n\t\t\tif (prop === \"innerHTML\")\n\t\t\t\tcontent = val;\n\t\t\telse\n\t\t\t\tel.setAttribute(prop, val);\n\t\t}\n\t}\n\n\tif (props.style)\n\t\tfor (let prop in props.style)\n\t\t\tel.style[prop] = props.style[prop];\n\n\tif (content !== undefined)\n\t{\n\t\tif (typeof content === \"string\")\n\t\t{\n\t\t\tel.innerHTML = content;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let child of content)\n\t\t\t\tel.appendChild(child);\n\t\t}\n\t}\n\n\treturn el;\n}\n\nexport function fixHTMLString(html)\n{\n\treturn html\n\t\t.replace(/v-bind:/g, \":\")\n\t\t.replace(/v-on:/g, \"@\")\n\t\t.replace(/<be-template/g, \"<template\")\n\t\t.replace(/<\\/be-template/g, \"</template\")\n\t\t.replace(/=\"\"/g, \"\");\n}\n","import { swapBlocks } from \"./helper/animation\";\nimport { entriesAreDifferent } from \"./helper/array\";\nimport { placeCaretAtEdge } from \"./helper/selection\";\nimport { defaultFocusOptions } from \"./block\";\nimport { BlockRegistry } from \"./registry\";\nimport { getLatte } from \"./utils\";\nimport { handleComponentError } from \"./helper/error\";\nimport { createElement, fixHTMLString } from \"./create-element\";\n\nlet blockToFocus = undefined;\nlet blocksToUpdateChildren = [];\nlet blocksToUpdateEditor = [];\nlet isTransaction = false;\n\nexport class BlockEntry\n{\n\n\t#hash;\n\t#block;\n\t#editor;\n\t#id;\n\t#depth;\n\t#index;\n\t#children;\n\t#options;\n\t#parent;\n\n\t#node;\n\n\t#isRemoving = false;\n\t#isSelected = false;\n\t#isSwapping = false;\n\n\tget hash()\n\t{\n\t\treturn this.#hash;\n\t}\n\n\tget block()\n\t{\n\t\treturn this.#block;\n\t}\n\n\tget editor()\n\t{\n\t\treturn this.#editor;\n\t}\n\n\tget id()\n\t{\n\t\treturn this.#id;\n\t}\n\n\tget depth()\n\t{\n\t\treturn this.#depth;\n\t}\n\n\tget index()\n\t{\n\t\treturn this.#index;\n\t}\n\n\tget children()\n\t{\n\t\treturn this.#children;\n\t}\n\n\tget options()\n\t{\n\t\treturn this.#options;\n\t}\n\n\tget nextSibbling()\n\t{\n\t\treturn this.getRelative(1);\n\t}\n\n\tget previousSibbling()\n\t{\n\t\treturn this.getRelative(-1);\n\t}\n\n\tget context()\n\t{\n\t\treturn this.#node ? this.#node.context : undefined;\n\t}\n\n\tget element()\n\t{\n\t\treturn this.#node ? this.#node.elm : undefined;\n\t}\n\n\tget parent()\n\t{\n\t\treturn this.#parent;\n\t}\n\n\tget isFirst()\n\t{\n\t\treturn this.#parent ? this.index === 0 : false;\n\t}\n\n\tget isLast()\n\t{\n\t\treturn this.#parent ? this.index === this.#parent.children.length - 1 : false;\n\t}\n\n\tget isRemoving()\n\t{\n\t\treturn this.#isRemoving;\n\t}\n\n\tget isSelected()\n\t{\n\t\treturn this.#block.id !== \"root\" && (this.#isSelected || (this.#block.canHaveChildren && this.#children.filter(c => c.isSelected).length > 0));\n\t}\n\n\tconstructor(editor, index, id, options, children = [], parent = undefined)\n\t{\n\t\tthis.#block = BlockRegistry.findById(id) || BlockRegistry.findById(\"missing\");\n\t\tthis.#editor = editor;\n\t\tthis.#id = id;\n\t\tthis.#depth = parent ? parent.#block.canHaveGroups ? parent.depth : parent.depth + 1 : 0;\n\t\tthis.#index = index;\n\t\tthis.#options = Object.assign({}, this.#block.defaultOptions, options);\n\t\tthis.#parent = parent;\n\n\t\tif (this.#block.canHaveGroups)\n\t\t\tchildren = children.map(g => ({\n\t\t\t\tid: this.#block.groupBlock,\n\t\t\t\tchildren: g\n\t\t\t}));\n\n\t\tif (this.#block.canHaveChildren)\n\t\t\tthis.#children = convertBlocks(this.#editor, children, this);\n\t\telse\n\t\t\tthis.#children = undefined;\n\n\t\tthis.#editor.$on(\"be:reset-block-selection\", () => this.select(false));\n\n\t\tthis.calculateHash();\n\t}\n\n\tcalculateHash()\n\t{\n\t\tthis.#hash = getLatte().api.id();\n\t}\n\n\tdata()\n\t{\n\t\tconst data = {\n\t\t\tid: this.#id,\n\t\t\toptions: this.#options\n\t\t};\n\n\t\tif (this.#block.canHaveGroups)\n\t\t\tdata.children = this.#children.map(c => c.children.map(d => d.data()));\n\t\telse if (this.#block.canHaveChildren)\n\t\t\tdata.children = this.#children.map(c => c.data());\n\n\t\treturn data;\n\t}\n\n\tnextTick(fn)\n\t{\n\t\tif (this.context)\n\t\t\tthis.context.$nextTick(fn);\n\t}\n\n\traf(fn)\n\t{\n\t\tgetLatte().util.dom.raf(fn);\n\t}\n\n\ttransaction(fn)\n\t{\n\t\tisTransaction = true;\n\n\t\tfn();\n\n\t\tisTransaction = false;\n\n\t\twhile (blocksToUpdateEditor.length > 0)\n\t\t\tblocksToUpdateEditor.shift().updateEditor();\n\n\t\twhile (blocksToUpdateChildren.length > 0)\n\t\t\tblocksToUpdateChildren.shift().updateChildren();\n\n\t\tif (blockToFocus)\n\t\t{\n\t\t\tblockToFocus[0].focus(blockToFocus[1], blockToFocus[2]);\n\t\t\tblockToFocus = undefined;\n\t\t}\n\t}\n\n\tfocus(options = defaultFocusOptions, fn = undefined)\n\t{\n\t\tif (isTransaction)\n\t\t\treturn blockToFocus = [this, options, fn];\n\n\t\toptions = Object.assign(defaultFocusOptions, options || {});\n\n\t\tconst withElement = elm =>\n\t\t{\n\t\t\tthis.editor.selection.removeAllRanges();\n\n\t\t\telm.click();\n\t\t\telm.focus();\n\n\t\t\tif (!elm.isContentEditable)\n\t\t\t\treturn;\n\n\t\t\tif (options.select)\n\t\t\t{\n\t\t\t\tif (options.selectAll === false)\n\t\t\t\t\tplaceCaretAtEdge(elm, options.placeAtEnd);\n\t\t\t\telse\n\t\t\t\t\tdocument.execCommand(\"selectAll\");\n\t\t\t}\n\n\t\t\tif (fn)\n\t\t\t\tfn(elm);\n\t\t};\n\n\t\tif (this.element)\n\t\t\treturn withElement(this.element);\n\n\t\tthis.raf(() =>\n\t\t{\n\t\t\tif (!this.element)\n\t\t\t\treturn handleComponentError(new Error(\"Cannot focus, block element is undefined.\"), \"api/focus\", {block: this});\n\n\t\t\twithElement(this.element);\n\t\t});\n\t}\n\n\tgetRelative(dir)\n\t{\n\t\treturn this.#parent.children[this.#index + dir] || undefined;\n\t}\n\n\tinsertBlock(id, index = undefined, options = {}, focusOptions = defaultFocusOptions, parent = undefined)\n\t{\n\t\tthis.insertBlocks([{id, options}], index, focusOptions, true, parent);\n\t}\n\n\tinsertBlocks(spec, index = undefined, focusOptions = defaultFocusOptions, focusLast = true, parent = undefined)\n\t{\n\t\tparent = parent || this.#parent;\n\n\t\tconst blocks = convertBlocks(this.#editor, spec, parent);\n\t\tconst children = parent.children;\n\n\t\tif (index === undefined)\n\t\t\tchildren.push(...blocks);\n\t\telse\n\t\t\tchildren.splice(index, 0, ...blocks);\n\n\t\tparent.setChildren(children, true);\n\n\t\tif (!focusOptions)\n\t\t\treturn;\n\n\t\tblocks[focusLast ? blocks.length - 1 : 0].focus(focusOptions);\n\t}\n\n\trearrange(dir, animate = true)\n\t{\n\t\tif (this.#isRemoving || this.#isSwapping)\n\t\t\treturn;\n\n\t\tthis.#isSwapping = true;\n\n\t\tconst children = this.#parent.children;\n\t\tconst self = children[this.#index];\n\t\tconst other = children[this.#index + dir];\n\t\tconst L = getLatte();\n\n\t\tconst rearrange = () =>\n\t\t{\n\t\t\tchildren.splice(this.#index + dir, 0, children.splice(this.#index, 1)[0]);\n\n\t\t\tthis.#parent.setChildren(children, true);\n\t\t\tthis.nextTick(() => this.focus());\n\n\t\t\tthis.#isSwapping = false;\n\t\t};\n\n\t\tif (!self || !other)\n\t\t\treturn;\n\n\t\tif (!animate)\n\t\t\treturn rearrange();\n\n\t\tconst selfElement = L.util.dom.closest(self.element, \".be-block-mount\");\n\t\tconst otherElement = L.util.dom.closest(other.element, \".be-block-mount\");\n\n\t\tswapBlocks({\n\t\t\tfirstElement: selfElement,\n\t\t\tsecondElement: otherElement,\n\t\t\tscrollingContainer: L.util.dom.closest(selfElement, \".be-content-mount\"),\n\t\t\traf: L.util.dom.raf\n\t\t}, () => rearrange());\n\t}\n\n\tremove(focusSibbling = true)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tthis.#isRemoving = true;\n\n\t\tif (focusSibbling)\n\t\t{\n\t\t\tif (this.previousSibbling)\n\t\t\t\tthis.previousSibbling.focus();\n\t\t\telse if (this.nextSibbling)\n\t\t\t\tthis.nextSibbling.focus();\n\t\t\telse\n\t\t\t\tthis.editor.onEditorClick();\n\t\t}\n\n\t\tconst children = this.#parent.children;\n\t\tchildren.splice(this.#index, 1);\n\n\t\tthis.#parent.setChildren(children, true);\n\t}\n\n\tselect(is = true)\n\t{\n\t\tif (this.#isRemoving || this.#isSelected === is)\n\t\t\treturn;\n\n\t\tthis.#isSelected = is;\n\t\tthis.updateEditor(false, true);\n\t}\n\n\tsetChildren(children, updateIndices = false, fn = undefined)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tthis.#children = children;\n\n\t\tif (updateIndices)\n\t\t\tthis.#children.forEach((child, index) => child.#index = index);\n\n\t\tthis.calculateHash();\n\t\tthis.updateChildren();\n\n\t\tif (fn)\n\t\t\tfn();\n\t}\n\n\tsetOptions(options, fn = undefined)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tif (!entriesAreDifferent(this.#options, options))\n\t\t{\n\t\t\tif (fn)\n\t\t\t\tfn();\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#options = Object.assign({}, this.#options, options);\n\t\tthis.calculateHash();\n\t\tthis.updateEditor();\n\n\t\tif (fn)\n\t\t\tfn();\n\t}\n\n\trender(h)\n\t{\n\t\treturn this.block.render(h, this);\n\t}\n\n\trenderEditor(h)\n\t{\n\t\treturn this.#node = this.block.renderEditor(h, this);\n\t}\n\n\tupdateChildren()\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tif (isTransaction)\n\t\t\treturn blocksToUpdateChildren.push(this);\n\n\t\tif (!this.context)\n\t\t\treturn;\n\n\t\tthis.#editor.onInput();\n\n\t\tconst blocks = this.context.$children.find(c => c.$options.name === \"BEBlocks\");\n\n\t\tif (blocks)\n\t\t\tblocks.updateBlocks();\n\t}\n\n\tupdateEditor(dataUpdate = true, bubble = false)\n\t{\n\t\tif (this.#isRemoving)\n\t\t\treturn;\n\n\t\tif (isTransaction)\n\t\t\treturn blocksToUpdateEditor.push(this);\n\n\t\tif (bubble && this.#parent)\n\t\t\tthis.#parent.updateEditor(dataUpdate, bubble);\n\n\t\tif (dataUpdate)\n\t\t\tthis.#editor.onInput();\n\n\t\tif (this.context)\n\t\t\tthis.context.$forceUpdate();\n\t}\n\n}\n\nexport function convertBlock(editor, index, block, parent = undefined)\n{\n\treturn new BlockEntry(editor, index, block.id, block.options, block.children || [], parent);\n}\n\nexport function convertBlocks(editor, blocks, parent = undefined)\n{\n\treturn blocks.map((block, index) => convertBlock(editor, index, block, parent));\n}\n\nexport function convertToBlocks(editor, data)\n{\n\treturn new BlockEntry(editor, -1, \"root\", {}, data);\n}\n\nexport function convertToData(root)\n{\n\treturn root.children\n\t\t.filter(entry => entry !== undefined)\n\t\t.map(entry => entry.data());\n}\n\nexport function convertToHtml(root)\n{\n\tconst tmp = document.createElement(\"div\");\n\n\trenderChildren(root)\n\t\t.forEach(dom => tmp.appendChild(dom));\n\n\treturn fixHTMLString(tmp.innerHTML);\n}\n\nexport function convertToJson(root)\n{\n\treturn JSON.stringify(convertToData(root));\n}\n\nexport function renderChildren(entry)\n{\n\treturn entry.children\n\t\t.map(child => child.render(createElement))\n\t\t.filter(dom => !!dom);\n}\n","<template>\n\n\t<div class=\"be-block-actions\" @click.stop>\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.rearrange(-1)\" :disabled=\"entry.isFirst\"><i class=\"mdi mdi-arrow-up\"></i></button>\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.rearrange(1)\" :disabled=\"entry.isLast\"><i class=\"mdi mdi-arrow-down\"></i></button>\n\t\t<div class=\"divider divider-vertical\"></div>\n\t\t<button class=\"btn btn-icon btn-sm btn-text btn-dark\" @click=\"entry.remove()\"><i class=\"mdi mdi-delete\"></i></button>\n\t\t<div class=\"divider divider-vertical\"></div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { BlockEntry } from \"./api\";\n\n\texport default {\n\n\t\tname: \"BEBlockActions\",\n\n\t\tprops: {\n\t\t\tentry: {required: true, type: BlockEntry}\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEBlockActions.vue?vue&type=template&id=8061d0a0&\"\nimport script from \"./BEBlockActions.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlockActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-group\"},[_c('div',{staticClass:\"be-settings-header\",on:{\"click\":function($event){_vm.isOpen = !_vm.isOpen}}},[_c('div',{staticClass:\"be-settings-group-label\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(_vm.title)))]),(_vm.depth > -1)?_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Level @0\",_vm.depth)))]):_vm._e()]),_vm._t(\"header\"),_c('i',{staticClass:\"mdi\",class:{'mdi-chevron-down': !_vm.isOpen && _vm.hasBody, 'mdi-chevron-up': _vm.isOpen && _vm.hasBody}})],2),(_vm.isOpen && _vm.hasBody)?_c('div',{staticClass:\"be-settings-body\",class:{'padded': _vm.padded}},[_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"be-settings-group\">\n\t\t<div class=\"be-settings-header\" @click=\"isOpen = !isOpen\">\n\t\t\t<div class=\"be-settings-group-label\">\n\t\t\t\t<span>{{ title | beTranslate }}</span>\n\t\t\t\t<span v-if=\"depth > -1\">{{ \"Level @0\" | beTranslate(depth) }}</span>\n\t\t\t</div>\n\t\t\t<slot name=\"header\"></slot>\n\t\t\t<i class=\"mdi\" :class=\"{'mdi-chevron-down': !isOpen && hasBody, 'mdi-chevron-up': isOpen && hasBody}\"></i>\n\t\t</div>\n\t\t<div class=\"be-settings-body\" :class=\"{'padded': padded}\" v-if=\"isOpen && hasBody\">\n\t\t\t<slot></slot>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { translate } from \"./utils\";\n\n\texport default {\n\n\t\tname: \"BESettingsGroup\",\n\n\t\tfilters: {\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\n\t\t},\n\n\t\tprops: {\n\t\t\tdepth: {default: -1, type: Number},\n\t\t\topened: {default: true, type: Boolean},\n\t\t\tpadded: {default: false, type: Boolean},\n\t\t\ttitle: {default: \"Unknown group\", required: true, type: String}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisOpen: this.opened\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\thasBody()\n\t\t\t{\n\t\t\t\treturn this.$slots.default;\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\topened()\n\t\t\t{\n\t\t\t\tthis.isOpen = this.opened;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BESettingsGroup.vue?vue&type=template&id=4eb13c5a&\"\nimport script from \"./BESettingsGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./BESettingsGroup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import BEBlockActions from \"../BEBlockActions\";\nimport BESettingsGroup from \"../BESettingsGroup\";\n\nexport function blockActions(h, entry)\n{\n\treturn h(BEBlockActions, {props: {entry}, slot: \"header\"});\n}\n\nexport function comboBox(h, title, options, getValue, setValue)\n{\n\treturn h(\"label\", {class: \"be-settings-row flex-column\"}, [\n\t\th(\"span\", title),\n\t\th(\"select\", {class: \"custom-select\", domProps: {value: getValue()}, on: {change: evt => setValue(evt.target.value)}}, options.map(option =>\n\t\t\th(\"option\", {domProps: {value: option.value}}, option.label)\n\t\t))\n\t])\n}\n\nexport function optional(condition, fn, defaultValue = undefined)\n{\n\tif (!condition)\n\t\treturn defaultValue;\n\n\treturn fn();\n}\n\nexport function radioButtons(h, title, getValue, setValue, name, options)\n{\n\treturn h(\"div\", {class: \"be-settings-row flex-column\"}, [\n\t\th(\"span\", title),\n\t\toptions.map(option => h(\"label\", {class: \"d-flex align-items-center my-1 w-100\"}, [\n\t\t\th(\"input\", {\n\t\t\t\tclass: \"radio-button radio-button-primary mr-3\",\n\t\t\t\tdomProps: {\n\t\t\t\t\tchecked: getValue() === option.id,\n\t\t\t\t\ttype: \"radio\",\n\t\t\t\t\tname: name,\n\t\t\t\t\tvalue: option.id\n\t\t\t\t},\n\t\t\t\ton: {\n\t\t\t\t\tclick: () => setValue(option.id)\n\t\t\t\t}\n\t\t\t}),\n\t\t\th(\"span\", {class: \"m-0\"}, option.label)\n\t\t]))\n\t])\n}\n\nexport function rangeField(h, title, getValue, setValue, min = 0, max = 1, step = 0.1)\n{\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\n\t\th(\"span\", title),\n\t\th(\"div\", [\n\t\t\th(\"input\", {\n\t\t\t\tclass: \"custom-range\",\n\t\t\t\tdomProps: {\n\t\t\t\t\tmin,\n\t\t\t\t\tmax,\n\t\t\t\t\tstep,\n\t\t\t\t\tvalue: getValue(),\n\t\t\t\t\ttype: \"range\"\n\t\t\t\t},\n\t\t\t\ton: {\n\t\t\t\t\tinput: evt => setValue(parseInt(evt.target.value))\n\t\t\t\t}\n\t\t\t})\n\t\t])\n\t]);\n}\n\nexport function settingsGroup(h, title, children)\n{\n\treturn h(BESettingsGroup, {props: {title}}, children);\n}\n\nexport function settingsGroupWithDepth(h, depth, title, children)\n{\n\treturn h(BESettingsGroup, {props: {title, depth}}, children);\n}\n\nexport function textField(h, title, getValue, setValue)\n{\n\treturn h(\"label\", {class: \"be-settings-row flex-column\"}, [\n\t\th(\"span\", title),\n\t\th(\"input\", {\n\t\t\tclass: \"form-control\",\n\t\t\tdomProps: {\n\t\t\t\ttype: \"text\",\n\t\t\t\tvalue: getValue()\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tinput: evt => setValue(evt.target.value)\n\t\t\t}\n\t\t})\n\t]);\n}\n\nexport function toggleButton(h, title, getValue, setValue)\n{\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\n\t\th(\"span\", title),\n\t\th(\"input\", {\n\t\t\tclass: \"toggle-button toggle-button-primary\",\n\t\t\tdomProps: {\n\t\t\t\tchecked: getValue(),\n\t\t\t\ttype: \"checkbox\"\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tinput: evt => setValue(evt.target.checked)\n\t\t\t}\n\t\t})\n\t]);\n}\n","import { IconButton, IconToggleButton } from \"./icon-button\";\nimport { optional, textField } from \"./settings\";\nimport { getLatte, translate } from \"../utils\";\n\nexport function commandIconToggleButton(h, executeAndFocus, entry, icon, command)\n{\n\treturn h(IconToggleButton, {\n\t\tprops: {\n\t\t\ticon,\n\t\t\tcan: () => document.queryCommandEnabled(command),\n\t\t\tpress: () => executeAndFocus(entry, () => document.execCommand(command)),\n\t\t\tpressed: () => document.queryCommandState(command)\n\t\t}\n\t});\n}\n\nexport function functionIconButton(h, executeAndFocus, entry, icon, onClick, disabled = false)\n{\n\treturn h(IconButton, {\n\t\tprops: {\n\t\t\ticon,\n\t\t\tdisabled: disabled,\n\t\t\tpress: () => executeAndFocus(entry, onClick)\n\t\t}\n\t});\n}\n\nexport function functionIconToggleButton(h, executeAndFocus, entry, icon, onClick, isPressed)\n{\n\treturn h(IconToggleButton, {\n\t\tprops: {\n\t\t\ticon,\n\t\t\tcan: () => true,\n\t\t\tpress: () => executeAndFocus(entry, onClick),\n\t\t\tpressed: isPressed\n\t\t}\n\t});\n}\n\nexport function button(h, options, fn)\n{\n\tconst classes = [\"btn\", `btn-${options.style || \"contained\"}`];\n\n\tif (options.icon && !options.label)\n\t\tclasses.push(\"btn-icon\");\n\n\tif (options.color)\n\t\tclasses.push(`btn-${options.color}`);\n\n\tif (options.class)\n\t\tclasses.push(options.class);\n\n\tlet params = {\n\t\tattrs: {},\n\t\tclass: classes,\n\t\ton: {click: fn}\n\t};\n\n\tif (options.tooltip)\n\t\tparams.attrs[\"data-tooltip\"] = options.tooltip;\n\n\treturn h(\"button\", params, [\n\t\toptional(options.icon, () => icon(h, options.icon)),\n\t\toptional(options.label, () => h(\"span\", options.label))\n\t]);\n}\n\nexport function divider(h, vertical = false)\n{\n\treturn h(\"div\", {\n\t\tclass: `divider divider-${vertical ? \"vertical\" : \"horizontal\"}`\n\t});\n}\n\nexport function icon(h, icon)\n{\n\treturn h(\"i\", {\n\t\tclass: `mdi mdi-${icon}`\n\t});\n}\n\nexport function optionAdditionalClasses(h, entry)\n{\n\treturn textField(h, translate(\"Additional classes\"), () => entry.options.class, classes => entry.setOptions({class: classes}));\n}\n\nexport function optionButtons(h, title, buttons, getValue, setValue)\n{\n\treturn h(\"div\", {class: \"be-settings-row\"}, [\n\t\th(\"span\", title),\n\t\th(\"div\", {class: \"d-flex my-n1\"}, buttons.map(btn => button(h, {\n\t\t\t...btn,\n\t\t\tclass: \"m-0\",\n\t\t\tcolor: getValue() === btn.value ? \"primary\" : \"dark\",\n\t\t\tstyle: getValue() === btn.value ? \"outline\" : \"text\"\n\t\t}, () => setValue(btn.value))))\n\t]);\n}\n\nexport function optionTextColor(h, entry)\n{\n\treturn h(\"div\", {class: \"be-settings-row flex-column\"}, [\n\t\th(\"span\", translate(\"Color\")),\n\t\th(\"div\", {class: \"be-settings-text-colors\"}, entry.editor.colorPalette.map(color => h(\"button\", {\n\t\t\tattrs: {\"data-tooltip\": translate(color.name)},\n\t\t\tclass: `color ${color.value === entry.options.color ? \"is-active\" : \"\"}`,\n\t\t\tstyle: {color: color.value},\n\t\t\ton: {click: () => entry.setOptions({color: entry.options.color === color.value ? undefined : color.value})}\n\t\t})))\n\t])\n}\n\nexport function optionTextSize(h, entry, min = 0.7, max = 3, step = 0.1)\n{\n\treturn h(\"label\", {class: \"be-settings-row\"}, [\n\t\th(\"span\", translate(\"Size\")),\n\t\th(\"div\", [\n\t\t\th(\"input\", {\n\t\t\t\tclass: \"custom-range\",\n\t\t\t\tdomProps: {min, max, step, value: entry.options.fontSize, type: \"range\"},\n\t\t\t\ton: {\n\t\t\t\t\t\"!mouseup\": () => getLatte().action.dispatch(\"latte:tooltip:hide\"),\n\t\t\t\t\tinput: evt =>\n\t\t\t\t\t{\n\t\t\t\t\t\tconst fontSize = parseFloat(evt.target.value);\n\t\t\t\t\t\tconst latte = getLatte();\n\t\t\t\t\t\tconst {top, left, width} = evt.target.getBoundingClientRect();\n\t\t\t\t\t\tconst p = (fontSize - min) / (max - min);\n\n\t\t\t\t\t\tlatte.action.dispatch(\"latte:tooltip\", {\n\t\t\t\t\t\t\tx: left + (p * (width - 24)) + 12,\n\t\t\t\t\t\t\ty: top,\n\t\t\t\t\t\t\tclasses: [\"tooltip-top\"],\n\t\t\t\t\t\t\tcontent: `${fontSize}rem`,\n\t\t\t\t\t\t\tposition: null\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tentry.setOptions({fontSize});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t])\n\t])\n}\n","import { BlockBase } from \"../block\";\r\nimport { translate } from \"../utils\";\r\nimport { icon } from \"../primitive/element\";\r\n\r\nexport class MissingBlock extends BlockBase\r\n{\r\n\r\n\tget isInline()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget showInInserter()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"missing\", \"\", \"\");\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: \"notice notice-error notice-outline mb-3\"}, [\r\n\t\t\ticon(h, \"alert-circle\"),\r\n\t\t\th(\"div\", {class: \"d-flex flex-column\"}, [\r\n\t\t\t\th(\"strong\", translate(\"Missing block\")),\r\n\t\t\t\th(\"span\", translate(\"Block @0 is missing from the library. It won't be included in the rendered content.\", entry.id))\r\n\t\t\t])\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","var render, staticRenderFns\nimport script from \"./BEBlockMount.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlockMount.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./BEBlocks.vue?vue&type=script&lang=js&\"\nexport * from \"./BEBlocks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-inserter be-inserter-expanded\",on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"mdi mdi-plus-circle-outline\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Add block\")))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",attrs:{\"associate-with\":_vm.assiciatedElement,\"margin-x\":_vm.marginX,\"margin-y\":_vm.marginY},on:{\"close\":_vm.onClose,\"open\":_vm.onOpen}},[_c('div',{staticClass:\"be-inserter be-inserter-popup\"},_vm._l((_vm.blocksCategorized),function(category){return _c('div',{staticClass:\"be-inserter-category\"},[_c('div',{staticClass:\"be-inserter-header\",class:{'is-open': (_vm.currentCategory === category.id)},on:{\"click\":function($event){_vm.currentCategory = category.id}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (category.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(category.name)))]),_c('i',{staticClass:\"mdi\",class:{'mdi-chevron-down': !(_vm.currentCategory === category.id), 'mdi-chevron-up': (_vm.currentCategory === category.id)}})]),(_vm.currentCategory === category.id)?_c('div',{staticClass:\"be-inserter-body\"},[(category.blocks.length > 0)?_vm._l((category.blocks),function(block){return _c('button',{staticClass:\"be-inserter-block\",on:{\"click\":function($event){return _vm.select(block.id)}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (block.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])])}):[_c('div',{staticClass:\"be-inserter-empty\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"There are no blocks in this category.\")))])])]],2):_vm._e()])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<latte-popup ref=\"popup\" :associate-with=\"assiciatedElement\" :margin-x=\"marginX\" :margin-y=\"marginY\" @close=\"onClose\" @open=\"onOpen\">\n\n\t\t<div class=\"be-inserter be-inserter-popup\">\n\t\t\t<div class=\"be-inserter-category\" v-for=\"category of blocksCategorized\">\n\n\t\t\t\t<div class=\"be-inserter-header\" :class=\"{'is-open': (currentCategory === category.id)}\" @click=\"currentCategory = category.id\">\n\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${category.icon}`\"></i>\n\t\t\t\t\t<span>{{ category.name | beTranslate }}</span>\n\t\t\t\t\t<i class=\"mdi\" :class=\"{'mdi-chevron-down': !(currentCategory === category.id), 'mdi-chevron-up': (currentCategory === category.id)}\"></i>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"be-inserter-body\" v-if=\"currentCategory === category.id\">\n\t\t\t\t\t<template v-if=\"category.blocks.length > 0\">\n\n\t\t\t\t\t\t<button class=\"be-inserter-block\" @click=\"select(block.id)\" v-for=\"block of category.blocks\">\n\t\t\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${block.icon}`\"></i>\n\t\t\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\n\t\t\t\t\t\t<div class=\"be-inserter-empty\">\n\t\t\t\t\t\t\t<span>{{ \"There are no blocks in this category.\" | beTranslate }}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</div>\n\n\t</latte-popup>\n\n</template>\n\n<script>\n\n\timport { editorInstance, translate } from \"./utils\";\n\timport { BlockRegistry, CategoryRegistry } from \"./registry\";\n\n\texport default {\n\n\t\tname: \"BEInserterPopup\",\n\n\t\tfilters: {\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tassiciatedElement: undefined,\n\t\t\t\tcurrentCategory: null,\n\t\t\t\teditor: editorInstance(this),\n\t\t\t\tfn: undefined,\n\t\t\t\tisOpen: false,\n\t\t\t\tmarginX: 0,\n\t\t\t\tmarginY: 0\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tblocksCategorized()\n\t\t\t{\n\t\t\t\treturn CategoryRegistry.categories.map(c =>\n\t\t\t\t{\n\t\t\t\t\tc.blocks = BlockRegistry.blocks\n\t\t\t\t\t\t.filter(b => b.category === c.id)\n\t\t\t\t\t\t.sort((a, b) => a.name.localeCompare(b.name));\n\n\t\t\t\t\treturn c;\n\t\t\t\t});\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClose()\n\t\t\t{\n\t\t\t\tthis.assiciatedElement = undefined;\n\t\t\t\tthis.isOpen = false;\n\t\t\t},\n\n\t\t\tonOpen()\n\t\t\t{\n\t\t\t\tthis.currentCategory = this.currentCategory || CategoryRegistry.categories[0].id;\n\t\t\t\tthis.isOpen = true;\n\t\t\t},\n\n\t\t\topen(associateWith, fn, marginX = 0, marginY = 0)\n\t\t\t{\n\t\t\t\tthis.assiciatedElement = associateWith;\n\t\t\t\tthis.fn = fn;\n\t\t\t\tthis.marginX = marginX;\n\t\t\t\tthis.marginY = marginY;\n\t\t\t\tthis.$refs.popup.open();\n\t\t\t},\n\n\t\t\tselect(id)\n\t\t\t{\n\t\t\t\tthis.$refs.popup.close();\n\n\t\t\t\tif (this.fn)\n\t\t\t\t\tthis.fn(id);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterPopup.vue?vue&type=template&id=e5ee7cce&\"\nimport script from \"./BEInserterPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterPopup.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n\t<div class=\"be-inserter be-inserter-expanded\" @click=\"onClick\">\n\t\t<i class=\"mdi mdi-plus-circle-outline\"></i>\n\t\t<span>{{ \"Add block\" | beTranslate }}</span>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { editorInstance, translate } from \"./utils\";\n\timport BEInserterPopup from \"./BEInserterPopup\";\n\n\texport default {\n\n\t\tname: \"BEInserterExpanded\",\n\n\t\tcomponents: {\n\t\t\tBEInserterPopup\n\t\t},\n\n\t\tfilters: {\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick()\n\t\t\t{\n\t\t\t\teditorInstance(this).inserter.open(this.$el.querySelector(\"i.mdi\"), id => this.select(id), -15, 9);\n\t\t\t},\n\n\t\t\tselect(id)\n\t\t\t{\n\t\t\t\tthis.$emit(\"select\", id);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterExpanded.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterExpanded.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterExpanded.vue?vue&type=template&id=645f1b7a&\"\nimport script from \"./BEInserterExpanded.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterExpanded.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-inserter be-inserter-mini\"},[_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",class:{'is-open': _vm.isOpen},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"mdi mdi-plus\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"be-inserter be-inserter-mini\">\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" :class=\"{'is-open': isOpen}\" @click=\"onClick\">\n\t\t\t<i class=\"mdi mdi-plus\"></i>\n\t\t</button>\n\t</div>\n\n</template>\n\n<script>\n\n\timport BEInserterPopup from \"./BEInserterPopup\";\n\timport { editorInstance } from \"./utils\";\n\n\texport default {\n\n\t\tcomponents: {BEInserterPopup},\n\n\t\tname: \"BEInserterMini\",\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: editorInstance(this),\n\t\t\t\tisOpen: false\n\t\t\t};\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick()\n\t\t\t{\n\t\t\t\tthis.editor.inserter.open(this.$el.querySelector(\"i.mdi\"), id => this.select(id), -15);\n\t\t\t},\n\n\t\t\tselect(id)\n\t\t\t{\n\t\t\t\tthis.$emit(\"select\", id);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterMini.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterMini.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterMini.vue?vue&type=template&id=221dca6b&\"\nimport script from \"./BEInserterMini.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterMini.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\n\n\timport BEInserterMini from \"./BEInserterMini\";\n\timport { handleComponentError } from \"./helper/error\";\n\timport { divider, icon } from \"./primitive/element\";\n\timport { getLatte } from \"./utils\";\n\timport { BlockEntry } from \"./api\";\n\n\tconst L = getLatte();\n\n\texport default {\n\n\t\tname: \"BEBlockMount\",\n\n\t\tprops: {\n\t\t\tentry: {required: true, type: BlockEntry}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tisFirst: this.entry.isFirst,\n\t\t\t\tisLast: this.entry.isLast,\n\t\t\t\tisSelected: this.entry.isSelected,\n\t\t\t\th: 0,\n\t\t\t\tw: 0\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.onUpdate();\n\t\t},\n\n\t\trender(h)\n\t\t{\n\t\t\tif (this.entry.parent && this.entry.parent.block.canHaveGroups)\n\t\t\t\treturn this.entry.renderEditor(h);\n\n\t\t\treturn h(\"div\", {\n\t\t\t\tclass: this.classes,\n\t\t\t\tstyle: this.styles,\n\t\t\t\ton: {\n\t\t\t\t\tclick: evt => this.onClick(evt)\n\t\t\t\t}\n\t\t\t}, [\n\t\t\t\tthis.renderInserter(h, this.entry.index === 0, this.entry.index, \"top\"),\n\t\t\t\tthis.renderInserter(h, true, this.entry.index, \"bottom\"),\n\t\t\t\tthis.renderOptions(h),\n\t\t\t\tthis.renderOptionsSide(h),\n\t\t\t\tthis.entry.renderEditor(h)\n\t\t\t]);\n\t\t},\n\n\t\tupdated()\n\t\t{\n\t\t\tthis.onUpdate();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tclasses()\n\t\t\t{\n\t\t\t\tconst classes = [\"be-block-mount\", `be-block-${this.entry.block.id}`, \"be-editing\"];\n\n\t\t\t\tif (this.isSelected)\n\t\t\t\t\tclasses.push(\"is-selected\");\n\n\t\t\t\tif (this.isFirst)\n\t\t\t\t\tclasses.push(\"is-first\");\n\n\t\t\t\tif (this.isLast)\n\t\t\t\t\tclasses.push(\"is-last\");\n\n\t\t\t\treturn classes;\n\t\t\t},\n\n\t\t\tstyles()\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\t\"--editor-rect-h\": `${this.h}px`,\n\t\t\t\t\t\"--editor-rect-w\": `${this.w}px`\n\t\t\t\t};\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonClick()\n\t\t\t{\n\t\t\t\tif (this.entry.isSelected)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.entry.select();\n\t\t\t},\n\n\t\t\tonUpdate()\n\t\t\t{\n\t\t\t\tthis.isFirst = this.entry.isFirst;\n\t\t\t\tthis.isLast = this.entry.isLast;\n\t\t\t\tthis.isSelected = this.entry.isSelected;\n\n\t\t\t\tif (!this.entry.isSelected)\n\t\t\t\t\treturn;\n\n\t\t\t\tconst {height, width} = this.entry.block.calculateSelectionBorder(this.entry);\n\t\t\t\tthis.h = height;\n\t\t\t\tthis.w = width;\n\t\t\t},\n\n\t\t\trenderInserter(h, shouldRender, index, mode)\n\t\t\t{\n\t\t\t\tif (!shouldRender || this.entry.block.id === \"root\")\n\t\t\t\t\treturn undefined;\n\n\t\t\t\treturn h(BEInserterMini, {\n\t\t\t\t\tclass: mode,\n\t\t\t\t\ton: {\n\t\t\t\t\t\tselect: id => this.entry.insertBlock(id, mode === \"top\" ? index : index + 1)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\trenderOptions(h)\n\t\t\t{\n\t\t\t\tconst {depth, isSelected} = this.entry;\n\n\t\t\t\tif (!isSelected)\n\t\t\t\t\treturn undefined;\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\treturn h(\"latte-portal\", {props: {depth, to: `be-settings-pane-${this.entry.editor.uniqueId}`}}, [\n\t\t\t\t\t\tthis.entry.block.renderOptions(h, this.entry)\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\tcatch (err)\n\t\t\t\t{\n\t\t\t\t\thandleComponentError(err, \"BEBlocks/renderOptions\", this.entry);\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trenderOptionsSide(h)\n\t\t\t{\n\t\t\t\tif (!this.entry.isSelected || this.entry.block.canHaveChildren)\n\t\t\t\t\treturn undefined;\n\n\t\t\t\treturn h(\"div\", {class: \"be-options-side\", on: {click: evt => L.util.dom.terminateEvent(evt)}}, [\n\n\t\t\t\t\th(\"button\", {\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\n\t\t\t\t\t\tdomProps: {disabled: this.entry.index === 0},\n\t\t\t\t\t\ton: {click: () => this.entry.rearrange(-1)}\n\t\t\t\t\t}, [icon(h, \"arrow-up\")]),\n\n\t\t\t\t\th(\"button\", {\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\n\t\t\t\t\t\tdomProps: {disabled: this.entry.index === this.entry.parent.children.length - 1},\n\t\t\t\t\t\ton: {click: () => this.entry.rearrange(1)}\n\t\t\t\t\t}, [icon(h, \"arrow-down\")]),\n\n\t\t\t\t\tdivider(h),\n\n\t\t\t\t\th(\"button\", {\n\t\t\t\t\t\tclass: \"btn btn-icon btn-text btn-dark btn-sm\",\n\t\t\t\t\t\ton: {click: () => this.entry.remove()}\n\t\t\t\t\t}, [icon(h, \"delete\")])\n\n\t\t\t\t])\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockMount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlockMount.vue?vue&type=script&lang=js&\"","<script>\n\n\timport { BlockEntry } from \"./api\";\n\timport { getLatte } from \"./utils\";\n\n\timport BEInserterExpanded from \"./BEInserterExpanded\";\n\timport BEBlockMount from \"./BEBlockMount\";\n\n\tconst L = getLatte();\n\n\texport default {\n\n\t\tname: \"BEBlocks\",\n\n\t\tprops: {\n\t\t\tentry: {required: true, type: BlockEntry}\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tblocks: this.entry.children || []\n\t\t\t};\n\t\t},\n\n\t\trender(h)\n\t\t{\n\t\t\treturn h(\n\t\t\t\t\"div\",\n\t\t\t\t{class: \"be-blocks\"},\n\t\t\t\tthis.blocks && this.blocks.length > 0 ? this.renderBlocks(h) : this.renderEmptyInserter(h)\n\t\t\t);\n\t\t},\n\n\t\tmethods: {\n\n\t\t\trenderBlocks(h)\n\t\t\t{\n\t\t\t\treturn this.blocks.map(entry => h(BEBlockMount, {\n\t\t\t\t\tkey: entry.hash,\n\t\t\t\t\tprops: {entry}\n\t\t\t\t}));\n\t\t\t},\n\n\t\t\trenderEmptyInserter(h)\n\t\t\t{\n\t\t\t\treturn [\n\t\t\t\t\th(BEInserterExpanded, {\n\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\tselect: id =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.entry.insertBlock(id, undefined, {}, {}, this.entry);\n\t\t\t\t\t\t\t\tthis.$forceUpdate();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t},\n\n\t\t\tupdateBlocks()\n\t\t\t{\n\t\t\t\tthis.blocks = this.entry.children || [];\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlocks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEBlocks.vue?vue&type=script&lang=js&\"","import { BlockBase } from \"../block\";\nimport BEBlocks from \"../BEBlocks\";\n\nexport class RootBlock extends BlockBase\n{\n\n\tget canHaveChildren()\n\t{\n\t\treturn true;\n\t}\n\n\tget showInInserter()\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"root\", \"\", \"\");\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn h(BEBlocks, {\n\t\t\tprops: {entry}\n\t\t});\n\t}\n\n}\n","import { BlockBase } from \"../block\";\nimport { translate } from \"../utils\";\nimport { blockActions, settingsGroup, textField, toggleButton } from \"../primitive/settings\";\nimport { optionAdditionalClasses, optionButtons } from \"../primitive/element\";\n\nconst buttonSizes = [\n\t{value: \"sm\", icon: \"alpha-s\", tooltip: translate(\"Small\")},\n\t{value: \"md\", icon: \"alpha-m\", tooltip: translate(\"Medium\")},\n\t{value: \"lg\", icon: \"alpha-l\", tooltip: translate(\"Large\")}\n];\n\nconst buttonStyles = [\n\t{value: \"contained\", icon: \"alpha-a-box\", tooltip: translate(\"Solid\")},\n\t{value: \"outline\", icon: \"alpha-a-box-outline\", tooltip: translate(\"Outline\")},\n\t{value: \"text\", icon: \"alpha-a\", tooltip: translate(\"Text\")}\n];\n\nfunction getButtonClasses(options)\n{\n\tconst classes = [\"btn\", `btn-${options.type}`, options.class];\n\n\tif (options.pillButton)\n\t\tclasses.push(\"btn-pill\");\n\n\tif (options.size && options.size !== \"md\")\n\t\tclasses.push(`btn-${options.size}`);\n\n\treturn classes.filter(c => c.trim() !== \"\").join(\" \");\n}\n\nexport class ButtonBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tclass: \"\",\n\t\t\tpillButton: false,\n\t\t\trippleButton: false,\n\t\t\tsize: \"md\",\n\t\t\ttext: translate(\"Button\"),\n\t\t\ttype: \"contained\",\n\t\t\turl: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"A button that can link to an action or url.\";\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"button\", \"link\", \"action\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Button\";\n\t}\n\n\tget isInline()\n\t{\n\t\treturn true;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"button\", \"layout\", \"card-text\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\n\t\t\tclass: getButtonClasses(entry.options),\n\t\t\tdomProps: {href: entry.options.url},\n\t\t\tprops: {as: \"button\"}\n\t\t}, [\n\t\t\th(\"span\", entry.options.text)\n\t\t]);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn h(entry.options.rippleButton ? \"latte-ripple\" : \"button\", {\n\t\t\tclass: getButtonClasses(entry.options),\n\t\t\tprops: {as: \"button\"}\n\t\t}, [\n\t\t\th(\"span\", {\n\t\t\t\tdomProps: {\n\t\t\t\t\tcontentEditable: \"plaintext-only\",\n\t\t\t\t\tinnerHTML: entry.options.text\n\t\t\t\t},\n\t\t\t\ton: {\n\t\t\t\t\tblur: evt => entry.setOptions({text: evt.target.innerText})\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tminWidth: \"18px\"\n\t\t\t\t}\n\t\t\t})\n\t\t]);\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\ttoggleButton(h, translate(\"Ripple\"), () => entry.options.rippleButton, rippleButton => entry.setOptions({rippleButton})),\n\t\t\ttoggleButton(h, translate(\"Pill\"), () => entry.options.pillButton, pillButton => entry.setOptions({pillButton})),\n\t\t\toptionButtons(h, translate(\"Size\"), buttonSizes, () => entry.options.size, size => entry.setOptions({size})),\n\t\t\toptionButtons(h, translate(\"Style\"), buttonStyles, () => entry.options.type, type => entry.setOptions({type})),\n\t\t\ttextField(h, translate(\"URL\"), () => entry.options.url, url => entry.setOptions({url})),\n\t\t\toptionAdditionalClasses(h, entry)\n\t\t]);\n\t}\n\n}\n","import BEBlocks from \"../BEBlocks\";\n\nimport { convertBlock, renderChildren } from \"../api\";\nimport { BlockBase } from \"../block\";\nimport { notNullOrUndefined, translate } from \"../utils\";\nimport { blockActions, optional, rangeField, settingsGroupWithDepth, toggleButton } from \"../primitive/settings\";\nimport { optionAdditionalClasses } from \"../primitive/element\";\nimport { getElementDimensions, querySelector, querySelectorAll } from \"../helper/element\";\nimport { range } from \"../helper/array\";\n\nconst presets = [\n\t{\n\t\tcolumns: 2,\n\t\tclasses: [\n\t\t\t\"col-12 col-lg-4\",\n\t\t\t\"col-12 col-lg-8\"\n\t\t],\n\t\tpreview: [33, 67]\n\t},\n\t{\n\t\tcolumns: 2,\n\t\tclasses: [\n\t\t\t\"col-12 col-lg-8\",\n\t\t\t\"col-12 col-lg-4\"\n\t\t],\n\t\tpreview: [67, 33]\n\t},\n\t{\n\t\tcolumns: 3,\n\t\tclasses: [\n\t\t\t\"col-12 col-lg-3\",\n\t\t\t\"col-12 col-lg-6\",\n\t\t\t\"col-12 col-lg-3\"\n\t\t],\n\t\tpreview: [25, 50, 25]\n\t}\n];\n\nexport function entryChildOrDefault(block, entry, index)\n{\n\tif (entry.children[index])\n\t\treturn entry.children[index];\n\n\treturn convertBlock(entry.editor, index, {id: block.groupBlock, children: []}, entry);\n}\n\nexport class ColumnBlock extends BlockBase\n{\n\n\tget canHaveChildren()\n\t{\n\t\treturn true;\n\t}\n\n\tget description()\n\t{\n\t\treturn \"A single column used in the columns block.\";\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Column\";\n\t}\n\n\tget showInInserter()\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"column\", \"\", \"\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\tconst preset = presets[entry.parent.options.preset] || undefined;\n\n\t\treturn h(\"div\", {class: preset ? preset.classes[entry.index] : \"col-12 col-lg\"}, renderChildren(entry));\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\tconst preset = presets[entry.parent.options.preset] || undefined;\n\n\t\treturn h(BEBlocks, {\n\t\t\tclass: `be-block-column ${preset ? preset.classes[entry.index] : \"col-12 col-lg\"}`,\n\t\t\tprops: {entry}\n\t\t});\n\t}\n\n}\n\nexport class ColumnsBlock extends BlockBase\n{\n\n\tget canHaveChildren()\n\t{\n\t\treturn true;\n\t}\n\n\tget canHaveGroups()\n\t{\n\t\treturn true;\n\t}\n\n\tget groupBlock()\n\t{\n\t\treturn \"column\";\n\t}\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tclass: \"\",\n\t\t\tcolumns: 2,\n\t\t\tgutters: true,\n\t\t\tpreset: -1\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"Displays blocks in a column view.\";\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"column\", \"columns\", \"grid\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Columns\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"columns\", \"layout\", \"view-column\");\n\t}\n\n\tcalculateSelectionBorder(entry)\n\t{\n\t\tconst {dimensions, margin} = getElementDimensions(entry.element);\n\n\t\tlet hgutters = margin.horizontal;\n\t\tlet vgutters = this.isInline ? 0 : margin.vertical;\n\n\t\tlet columns = querySelectorAll(entry.element, \".col-12\");\n\t\tlet columnsLast = columns.map(column => querySelector(column, \".be-block-mount:last-child\")).filter(column => notNullOrUndefined(column));\n\t\tlet lastDimensions = columnsLast.map(l => getElementDimensions(l).margin.bottom);\n\n\t\treturn {\n\t\t\theight: dimensions.height + vgutters - Math.max(0, ...lastDimensions),\n\t\t\twidth: dimensions.width + hgutters\n\t\t};\n\t}\n\n\trender(h, entry)\n\t{\n\t\tconst preset = presets[entry.options.preset] || undefined;\n\t\tconst classes = `row be-block-columns ${entry.options.class} ${entry.options.gutters ? \"\" : \"no-gutters\"}`;\n\t\tconst columns = preset ? preset.columns : entry.options.columns;\n\n\t\trange(0, columns, index =>\n\t\t{\n\t\t\tconst child = entryChildOrDefault(this, entry, index);\n\n\t\t\tif (!entry.children[index])\n\t\t\t\tentry.children.push(child);\n\t\t});\n\n\t\treturn h(\"div\", {class: classes}, renderChildren(entry));\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\tconst preset = presets[entry.options.preset] || undefined;\n\t\tconst classes = `row be-block-columns ${entry.options.class} ${entry.options.gutters ? \"\" : \"no-gutters\"}`;\n\t\tconst columns = preset ? preset.columns : entry.options.columns;\n\n\t\trange(0, columns, index =>\n\t\t{\n\t\t\tconst child = entryChildOrDefault(this, entry, index);\n\n\t\t\tif (!entry.children[index])\n\t\t\t\tentry.children.push(child);\n\t\t});\n\n\t\treturn h(BEBlocks, {\n\t\t\tkey: entry.hash,\n\t\t\tclass: classes,\n\t\t\tprops: {entry}\n\t\t});\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroupWithDepth(h, entry.depth, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\th(\"div\", {class: \"be-settings-row flex-column\"}, [\n\t\t\t\th(\"span\", translate(\"Preset\")),\n\t\t\t\th(\"div\", {class: \"d-flex flex-wrap be-settings-columns-presets\"}, presets.map((preset, index) =>\n\t\t\t\t\th(\"div\", {\n\t\t\t\t\t\t\tclass: `preset ${entry.options.preset === index ? \"is-active\" : \"\"}`,\n\t\t\t\t\t\t\ton: {click: () => entry.setOptions({preset: index === entry.options.preset ? -1 : index})}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tArray(preset.columns)\n\t\t\t\t\t\t\t.fill(undefined)\n\t\t\t\t\t\t\t.map((_, column) => h(\"div\", {class: \"column\", style: {flexGrow: preset.preview[column]}}))\n\t\t\t\t\t)\n\t\t\t\t))\n\t\t\t]),\n\t\t\toptional(entry.options.preset === -1, () => rangeField(h, translate(\"Amount of columns\"), () => entry.options.columns, columns =>\n\t\t\t{\n\t\t\t\tentry.setChildren(entry.children.slice(0, columns));\n\t\t\t\tentry.setOptions({columns});\n\t\t\t}, 2, 6, 1)),\n\t\t\ttoggleButton(h, translate(\"Gutters\"), () => entry.options.gutters, gutters => entry.setOptions({gutters})),\n\t\t\toptionAdditionalClasses(h, entry)\n\t\t]);\n\t}\n\n}\n","let decoder;\n\nexport function decodeEntities(text)\n{\n\tif (typeof text !== \"string\" || text.indexOf(\"&\") === -1)\n\t\treturn text;\n\n\tif (!decoder)\n\t{\n\t\tif (document.implementation && document.implementation.createHTMLDocument)\n\t\t\tdecoder = document.implementation.createHTMLDocument().createElement(\"textarea\");\n\t\telse\n\t\t\tdecoder = document.createElement(\"textarea\");\n\t}\n\n\tdecoder.innerHTML = text;\n\tconst decoded = decoder.textContent;\n\tdecoder.innerHTML = \"\";\n\n\treturn decoded.trim();\n}\n\nexport function removeEmptyDivs(text)\n{\n\treturn text.replace(/<div><\\/div>/g, \"\");\n}\n","import { BlockBase } from \"../block\";\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\nimport { translate } from \"../utils\";\n\nexport class PageBreakBlock extends BlockBase\n{\n\n\tget description()\n\t{\n\t\treturn \"Breaks the page into multiple pages\";\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"page break\", \"break\", \"pages\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Page Break\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"page-break\", \"layout\", \"format-page-break\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn document.createComment(\"page-break\");\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn h(\"div\", {\n\t\t\tattrs: {\n\t\t\t\t\"data-text\": translate(\"Page break\")\n\t\t\t},\n\t\t\tclass: \"be-page-break\"\n\t\t});\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry)\n\t\t]);\n\t}\n\n}\n","import BEBlocks from \"../BEBlocks\";\r\nimport { BlockBase } from \"../block\";\r\nimport { optionAdditionalClasses } from \"../primitive/element\";\r\nimport { blockActions, settingsGroupWithDepth } from \"../primitive/settings\";\r\nimport { renderChildren } from \"../api\";\r\n\r\nexport class WrapperBlock extends BlockBase\r\n{\r\n\r\n\tget canHaveChildren()\r\n\t{\r\n\t\treturn true;\r\n\t}\r\n\r\n\tget defaultOptions()\r\n\t{\r\n\t\treturn {\r\n\t\t\tclass: \"\"\r\n\t\t};\r\n\t}\r\n\r\n\tget description()\r\n\t{\r\n\t\treturn \"Wraps blocks into a wrapper.\";\r\n\t}\r\n\r\n\tget keywords()\r\n\t{\r\n\t\treturn [\"wrapper\"];\r\n\t}\r\n\r\n\tget name()\r\n\t{\r\n\t\treturn \"Wrapper\";\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper(\"wrapper\", \"layout\", \"border-none-variant\");\r\n\t}\r\n\r\n\trender(h, entry)\r\n\t{\r\n\t\treturn h(\"div\", {class: `row be-block-wrapper ${entry.options.class}`}, [\r\n\t\t\th(\"div\", {class: \"col-12\"}, renderChildren(entry))\r\n\t\t]);\r\n\t}\r\n\r\n\trenderEditor(h, entry)\r\n\t{\r\n\t\treturn h(BEBlocks, {\r\n\t\t\tclass: `be-block-wrapper ${entry.options.class}`,\r\n\t\t\tprops: {entry}\r\n\t\t});\r\n\t}\r\n\r\n\trenderOptions(h, entry)\r\n\t{\r\n\t\treturn settingsGroupWithDepth(h, entry.depth, this.name, [\r\n\t\t\tblockActions(h, entry),\r\n\t\t\toptionAdditionalClasses(h, entry)\r\n\t\t]);\r\n\t}\r\n\r\n}\r\n","import { commandIconToggleButton, divider, functionIconButton, functionIconToggleButton } from \"./element\";\nimport { decodeEntities, removeEmptyDivs } from \"../helper/html-entities\";\nimport { atEdge, caretPosition, getRectFromRange, placeCaretAt, placeCaretAtEdge } from \"../helper/selection\";\nimport { optional } from \"./settings\";\nimport { translate } from \"../utils\";\nimport { handleComponentError } from \"../helper/error\";\nimport { BlockRegistry } from \"../registry\";\n\nconst allowAppend = [\"heading\", \"paragraph\"];\nconst defaultFormattingOptions = {\n\tboldItalicUnderline: true,\n\tcreateLinks: true,\n\ttextAlignment: true,\n\ttextIdentation: true\n};\n\nlet canUpdate = true;\nlet lastSelectionRange;\n\nfunction ensureTextNode(elm)\n{\n\tif (elm instanceof Element)\n\t{\n\t\tif (elm.childNodes[0])\n\t\t\treturn elm.childNodes[0];\n\n\t\tconst dummy = document.createTextNode(\"\");\n\t\telm.appendChild(dummy);\n\n\t\treturn dummy;\n\t}\n\n\treturn elm;\n}\n\nfunction executeAndFocus(entry, fn)\n{\n\tentry.focus({select: false}, elm =>\n\t{\n\t\telm.focus();\n\n\t\tentry.editor.selection.setBaseAndExtent(\n\t\t\tlastSelectionRange.startContainer,\n\t\t\tlastSelectionRange.startOffset,\n\t\t\tlastSelectionRange.endContainer,\n\t\t\tlastSelectionRange.endOffset\n\t\t);\n\n\t\tfn();\n\t\tsaveLastSelection();\n\t});\n}\n\nfunction saveLastSelection()\n{\n\tcanUpdate = false;\n\n\tconst current = window.getSelection().getRangeAt(0);\n\tconst range = document.createRange();\n\n\ttry\n\t{\n\t\trange.setStart(ensureTextNode(current.startContainer), current.startOffset);\n\t\trange.setEnd(ensureTextNode(current.endContainer), current.endOffset);\n\n\t\tlastSelectionRange = range;\n\t}\n\tcatch (err)\n\t{\n\t\thandleComponentError(err, \"text/saveLastSelection\", current);\n\t}\n}\n\nexport function getStyles(options)\n{\n\treturn {\n\t\tmarginLeft: options.indent ? `${options.indent}rem` : undefined,\n\t\tcolor: options.color ? options.color : undefined,\n\t\tfontSize: options.fontSize ? `${options.fontSize}rem` : undefined,\n\t\ttextAlign: options.align || undefined\n\t};\n}\n\nexport function onBlur(evt, entry)\n{\n\tif (!canUpdate)\n\t\treturn;\n\n\tentry.editor.inserterList.close();\n\n\tif (entry.isRemoved)\n\t\treturn;\n\n\tremoveEmptyElements(evt);\n\tentry.setOptions({text: evt.target.innerHTML});\n}\n\nexport function onInput(evt, tag, entry)\n{\n\tconst text = evt.target.innerText;\n\n\tentry.updateEditor(false, true);\n\n\tif (tag !== \"p\")\n\t\treturn;\n\n\tconst selection = entry.editor.selection;\n\n\tif (!text.startsWith(\"/\") || selection.focusOffset < text.length)\n\t\treturn entry.editor.inserterList.close();\n\n\tconst searchTerm = text.substr(1).toLowerCase();\n\tconst foundBlocks = BlockRegistry.blocks\n\t\t.filter(entry => entry.keywords.map(keyword => translate(keyword)).find(keyword => keyword.startsWith(searchTerm)))\n\t\t.slice(0, 5)\n\t\t.sort((a, b) => a.name.localeCompare(b.name));\n\n\tentry.editor.inserterList.open(getRectFromRange(selection.getRangeAt(0)), foundBlocks, blockId =>\n\t{\n\t\tentry.remove();\n\t\tentry.insertBlock(blockId, entry.index);\n\t});\n}\n\nexport function onKeyDown(evt, entry)\n{\n\tconst {anchorOffset, focusOffset} = entry.editor.selection;\n\tconst text = evt.target.innerHTML;\n\n\tif (entry.editor.inserterList.isOpen)\n\t\treturn entry.editor.inserterList.handleKeyDown(evt);\n\n\tif (evt.key === \"Enter\" && !evt.shiftKey)\n\t\treturn kdHandleEnterWhenNotShift(evt, text, entry);\n\n\tif (evt.key === \"Backspace\" && text.trim() === \"\")\n\t\treturn kdHandleBackspaceWhenEmpty(evt, entry);\n\n\tif (evt.key === \"Backspace\" && anchorOffset === 0 && focusOffset === 0)\n\t\treturn kdHandleBackspaceWhenAtStart(evt, text, entry);\n\n\tif (evt.key === \"ArrowDown\" && atEdge(evt.target, true, true))\n\t\treturn kdHandleArrowDownAtEnd(evt, entry);\n\n\tif (evt.key === \"ArrowUp\" && atEdge(evt.target, false, true))\n\t\treturn kdHandleArrowUpAtStart(evt, entry);\n\n\tif (evt.key === \"ArrowRight\" && atEdge(evt.target, true))\n\t\treturn kdHandleArrowDownAtEnd(evt, entry);\n\n\tif (evt.key === \"ArrowLeft\" && atEdge(evt.target, false))\n\t\treturn kdHandleArrowUpAtStart(evt, entry);\n}\n\nexport function onPaste(evt, entry)\n{\n\tconst textData = evt.clipboardData.getData(\"Text\");\n\n\tif (!textData.match(/\\r\\n|\\r|\\n/))\n\t\treturn;\n\n\tevt.preventDefault();\n\n\tconst contents = textData\n\t\t.split(/\\r\\n|\\r|\\n/g)\n\t\t.map(paragraph => paragraph.trim())\n\t\t.filter(paragrap => paragrap.length > 0);\n\n\tconst parent = entry.parent;\n\n\tparent.transaction(() =>\n\t{\n\t\tconst blocks = contents.map(text => ({id: \"paragraph\", options: {text}}));\n\t\tparent.insertBlocks(blocks, entry.index, {placeAtEnd: true}, true, parent);\n\t\tentry.remove();\n\t});\n}\n\nexport function render(tag, h, {options})\n{\n\treturn h(tag, {\n\t\tdomProps: {\n\t\t\tinnerHTML: options.text\n\t\t},\n\t\tstyle: getStyles(options)\n\t});\n}\n\nexport function renderEditor(tag, h, entry, placeholder = \"Start writing...\")\n{\n\tcanUpdate = true;\n\n\treturn h(tag, {\n\t\tattrs: {\n\t\t\t\"data-placeholder\": translate(placeholder)\n\t\t},\n\t\tdomProps: {\n\t\t\tcontentEditable: \"true\",\n\t\t\tinnerHTML: removeEmptyDivs(entry.options.text)\n\t\t},\n\t\tstyle: getStyles(entry.options),\n\t\ton: {\n\t\t\tblur: evt => onBlur(evt, entry),\n\t\t\tinput: evt => onInput(evt, tag, entry),\n\t\t\tkeydown: evt => onKeyDown(evt, entry),\n\t\t\tpaste: evt => onPaste(evt, entry)\n\t\t}\n\t});\n}\n\nexport function renderTextFormatToolbar(h, entry, formattingOptions = {})\n{\n\tif (entry.isRemoving)\n\t\treturn undefined;\n\n\tformattingOptions = Object.assign({}, defaultFormattingOptions, formattingOptions);\n\n\treturn h(\"latte-portal\", {props: {to: entry.editor.toolbar.beforePortalId}}, [\n\t\th(\"div\", {class: \"d-flex align-items-center\", on: {mousedown: () => saveLastSelection()}}, [\n\t\t\th(\"div\", {class: \"divider divider-vertical\"}),\n\n\t\t\t...optional(formattingOptions.boldItalicUnderline, () => [\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-bold\", \"bold\"),\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-italic\", \"italic\"),\n\t\t\t\tcommandIconToggleButton(h, executeAndFocus, entry, \"format-underline\", \"underline\")\n\t\t\t], []),\n\n\t\t\tdivider(h, true),\n\n\t\t\t...optional(formattingOptions.textAlignment, () => [\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-left\", () => entry.setOptions({align: \"left\"}), () => entry.options.align === \"left\"),\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-center\", () => entry.setOptions({align: \"center\"}), () => entry.options.align === \"center\"),\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-right\", () => entry.setOptions({align: \"right\"}), () => entry.options.align === \"right\"),\n\t\t\t\tfunctionIconToggleButton(h, executeAndFocus, entry, \"format-align-justify\", () => entry.setOptions({align: \"justify\"}), () => entry.options.align === \"justify\")\n\t\t\t], []),\n\n\t\t\tdivider(h, true),\n\n\t\t\t...optional(formattingOptions.createLinks, () => [\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"link\", () =>\n\t\t\t\t{\n\t\t\t\t})\n\t\t\t], []),\n\n\t\t\tdivider(h, true),\n\n\t\t\t...optional(formattingOptions.textIdentation, () => [\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"format-indent-decrease\", () => entry.setOptions({indent: entry.options.indent - 1}), entry.options.indent === 0),\n\t\t\t\tfunctionIconButton(h, executeAndFocus, entry, \"format-indent-increase\", () => entry.setOptions({indent: entry.options.indent + 1}), entry.options.indent >= 10)\n\t\t\t], [])\n\t\t])\n\t])\n}\n\nexport function removeEmptyElements(evt)\n{\n\tArray.from(evt.target.querySelectorAll(\"br,b:empty,i:empty,p:empty\"))\n\t\t.forEach(br => br.remove());\n}\n\nfunction kdHandleArrowDownAtEnd(evt, entry)\n{\n\tif (!entry.nextSibbling)\n\t\treturn;\n\n\tevt.preventDefault();\n\n\tentry.nextSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, false));\n}\n\nfunction kdHandleArrowUpAtStart(evt, entry)\n{\n\tif (!entry.previousSibbling)\n\t\treturn;\n\n\tevt.preventDefault();\n\n\tentry.previousSibbling.focus({select: false}, elm => placeCaretAtEdge(elm, true));\n}\n\nfunction kdHandleBackspaceWhenAtStart(evt, text, entry)\n{\n\tevt.preventDefault();\n\n\tconst sibbling = entry.previousSibbling;\n\n\tif (!sibbling || allowAppend.indexOf(sibbling.block.id) === -1)\n\t\treturn;\n\n\tplaceCaretAtEdge(sibbling.element, true);\n\n\tconst sibblingText = sibbling.options.text.trim();\n\tconst {anchorOffset} = caretPosition(sibbling.element);\n\tconst offsetAdjustment = (text !== \"\" && sibblingText !== \"\" && !sibblingText.endsWith(\"&nbsp;\")) ? 1 : 0;\n\tconst combinedText = decodeEntities(sibblingText + (offsetAdjustment === 1 ? \" \" : \"\") + text).trim();\n\n\tconst offset = anchorOffset + offsetAdjustment;\n\n\tsibbling.setOptions({text: combinedText});\n\tsibbling.nextTick(() =>\n\t{\n\t\tentry.remove(false);\n\t\tsibbling.nextTick(() => sibbling.focus({}, () => placeCaretAt(sibbling.element, offset)));\n\t});\n}\n\nfunction kdHandleBackspaceWhenEmpty(evt, entry)\n{\n\tevt.preventDefault();\n\n\tconst sibbling = entry.previousSibbling;\n\n\tif (!sibbling)\n\t\treturn;\n\n\tsibbling.focus({select: true, placeAtEnd: true});\n\tentry.remove(false);\n}\n\nfunction kdHandleEnterWhenNotShift(evt, text, entry)\n{\n\tentry.editor.inserterList.close();\n\n\tif (atEdge(evt.target))\n\t{\n\t\tevt.preventDefault();\n\t\tentry.insertBlock(\"paragraph\", entry.index, {}, null);\n\t\tentry.focus({placeAtEnd: false});\n\t}\n\telse if (atEdge(evt.target, true))\n\t{\n\t\tevt.preventDefault();\n\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {text: \"\"}, {});\n\t}\n\telse\n\t{\n\t\tentry.raf(() =>\n\t\t{\n\t\t\tconst childElements = Array.from(evt.target.getElementsByTagName(\"div\"));\n\t\t\tconst newElement = childElements[childElements.length - 1];\n\n\t\t\tif (!newElement)\n\t\t\t\treturn;\n\n\t\t\tconst html = decodeEntities(newElement.innerHTML);\n\t\t\tnewElement.remove();\n\n\t\t\tentry.setOptions({text: decodeEntities(evt.target.innerHTML)});\n\t\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {...entry.options, text: html}, {placeAtEnd: false});\n\t\t});\n\t}\n}\n","import { BlockBase } from \"../block\";\nimport { render, renderEditor } from \"../primitive/text\";\nimport { optionButtons, optionTextColor } from \"../primitive/element\";\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\nimport { translate } from \"../utils\";\n\nconst headerTypes = [\n\t{value: \"h1\", icon: \"format-header-1\", tooltip: translate(\"Header 1\")},\n\t{value: \"h2\", icon: \"format-header-2\", tooltip: translate(\"Header 2\")},\n\t{value: \"h3\", icon: \"format-header-3\", tooltip: translate(\"Header 3\")},\n\t{value: \"h4\", icon: \"format-header-4\", tooltip: translate(\"Header 4\")},\n\t{value: \"h5\", icon: \"format-header-5\", tooltip: translate(\"Header 5\")},\n\t{value: \"h6\", icon: \"format-header-6\", tooltip: translate(\"Header 6\")}\n];\n\nexport class HeadingBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tcolor: undefined,\n\t\t\ttype: \"h3\",\n\t\t\ttext: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"Represents a header text.\"\n\t}\n\n\tget isInline()\n\t{\n\t\treturn true;\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"header\", \"heading\", \"text\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Header\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"heading\", \"text\", \"format-header-1\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn render(entry.options.type, h, entry);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn renderEditor(entry.options.type, h, entry);\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\toptionTextColor(h, entry),\n\t\t\toptionButtons(h, translate(\"Type\"), headerTypes, () => entry.options.type, type => entry.setOptions({type}))\n\t\t]);\n\t}\n\n}\n","import { getStyles, onBlur, onKeyDown as textOnKeyDown, removeEmptyElements } from \"./text\";\nimport { atEdge } from \"../helper/selection\";\nimport { first, last } from \"../helper/array\";\n\nexport function render(h, tag, entry)\n{\n\treturn h(tag, {\n\t\tdomProps: {\n\t\t\tinnerHTML: entry.options.text\n\t\t},\n\t\tstyle: getStyles(entry.options)\n\t});\n}\n\nexport function renderEditor(h, tag, entry)\n{\n\treturn h(tag, {\n\t\tdomProps: {\n\t\t\tcontentEditable: \"true\",\n\t\t\tinnerHTML: entry.options.text\n\t\t},\n\t\ton: {\n\t\t\tblur: evt => onBlur(evt, entry),\n\t\t\tinput: () => entry.updateEditor(false),\n\t\t\tkeydown: evt => onKeyDown(evt, entry)\n\t\t},\n\t\tstyle: getStyles(entry.options)\n\t});\n}\n\nfunction onKeyDown(evt, entry)\n{\n\tconst list = evt.target;\n\tconst items = Array.from(list.getElementsByTagName(\"li\"));\n\n\tconst firstItem = first(items);\n\tconst lastItem = last(items);\n\n\tif (evt.key === \"Enter\")\n\t{\n\t\tremoveEmptyElements(evt);\n\n\t\tif (atEdge(list, true) && lastItem.innerHTML.trim() === \"\")\n\t\t{\n\t\t\tevt.preventDefault();\n\t\t\tlastItem.remove();\n\t\t\tentry.insertBlock(\"paragraph\", entry.index + 1, {text: \" \"}, {placeAtEnd: false});\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif (evt.key === \"Backspace\")\n\t{\n\t\tremoveEmptyElements(evt);\n\n\t\tif (atEdge(list) && items.length === 1 && firstItem.innerHTML.trim() === \"\")\n\t\t{\n\t\t\tevt.preventDefault();\n\t\t\tentry.remove();\n\t\t}\n\n\t\treturn;\n\t}\n\n\ttextOnKeyDown(evt, entry);\n}\n","import { BlockBase } from \"../block\";\nimport { render, renderEditor } from \"../primitive/list\";\nimport { renderTextFormatToolbar } from \"../primitive/text\";\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\n\nexport class OrderedListBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\talign: \"left\",\n\t\t\tcolor: undefined,\n\t\t\tfontSize: 1,\n\t\t\ttext: \"<li></li>\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"An list that is ordered with numbers.\";\n\t}\n\n\tget isInline()\n\t{\n\t\treturn true;\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"list\", \"ordered\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Ordered List\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"ordered-list\", \"text\", \"format-list-numbered\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn render(h, \"ol\", entry);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn renderEditor(h, \"ol\", entry);\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\trenderTextFormatToolbar(h, entry, {textAlignment: false, textIdentation: false}),\n\t\t\toptionTextColor(h, entry),\n\t\t\toptionTextSize(h, entry)\n\t\t]);\n\t}\n\n}\n","import { BlockBase } from \"../block\";\nimport { optionAdditionalClasses, optionTextColor, optionTextSize } from \"../primitive/element\";\nimport { render, renderEditor, renderTextFormatToolbar } from \"../primitive/text\";\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\n\nexport class ParagraphBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\talign: \"left\",\n\t\t\tcolor: undefined,\n\t\t\tfontSize: 1,\n\t\t\tindent: 0,\n\t\t\ttext: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"Represents some text.\"\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"paragraph\", \"text\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Paragraph\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"paragraph\", \"text\", \"format-paragraph\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn render(\"p\", h, entry);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn renderEditor(\"p\", h, entry, \"Start writing or type / to insert a block...\");\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\trenderTextFormatToolbar(h, entry),\n\t\t\toptionTextColor(h, entry),\n\t\t\toptionTextSize(h, entry),\n\t\t\toptionAdditionalClasses(h, entry)\n\t\t]);\n\t}\n\n}\n","import { BlockBase } from \"../block\";\nimport { render, renderEditor } from \"../primitive/list\";\nimport { renderTextFormatToolbar } from \"../primitive/text\";\nimport { optionTextColor, optionTextSize } from \"../primitive/element\";\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\n\nexport class UnorderedListBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\talign: \"left\",\n\t\t\tcolor: undefined,\n\t\t\tfontSize: 1,\n\t\t\ttext: \"<li></li>\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"An list that is not ordered.\";\n\t}\n\n\tget isInline()\n\t{\n\t\treturn true;\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"list\", \"unordered\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Unordered List\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"unordered-list\", \"text\", \"format-list-bulleted\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn render(h, \"ul\", entry);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn renderEditor(h, \"ul\", entry);\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\trenderTextFormatToolbar(h, entry, {textAlignment: false, textIdentation: false}),\n\t\t\toptionTextColor(h, entry),\n\t\t\toptionTextSize(h, entry)\n\t\t]);\n\t}\n\n}\n","import { BlockBase } from \"../block\";\nimport { blockActions, settingsGroup, textField } from \"../primitive/settings\";\nimport { translate } from \"../utils\";\n\nexport class YouTubeEmbedBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tvideoId: \"2TuyT0knklM\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"Embeds a YouTube-video.\";\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"youtube\", \"embed\", \"video\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"YouTube video\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"youtube-embed\", \"embeds\", \"youtube\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\n\t\t\th(\"iframe\", {\n\t\t\t\tdomProps: {\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${entry.options.videoId}`\n\t\t\t\t}\n\t\t\t})\n\t\t]);\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn h(\"div\", {class: \"embed-responsive embed-responsive-16by9 be-block-embed be-block-youtube-embed\"}, [\n\t\t\th(\"iframe\", {\n\t\t\t\tdomProps: {\n\t\t\t\t\tsrc: `https://www.youtube-nocookie.com/embed/${entry.options.videoId}`\n\t\t\t\t}\n\t\t\t})\n\t\t]);\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry),\n\t\t\ttextField(h, translate(\"Video ID\"), () => entry.options.videoId, videoId => entry.setOptions({videoId}))\n\t\t]);\n\t}\n\n}\n","import Vue from \"vue\";\n\nimport { BlockBase } from \"../block\";\nimport { blockActions, settingsGroup } from \"../primitive/settings\";\nimport { getLatte, translate } from \"../utils\";\n\nexport class HtmlBlock extends BlockBase\n{\n\n\tget defaultOptions()\n\t{\n\t\treturn {\n\t\t\tcode: \"\"\n\t\t};\n\t}\n\n\tget description()\n\t{\n\t\treturn \"Allows you to add custom HTML code.\";\n\t}\n\n\tget keywords()\n\t{\n\t\treturn [\"html\", \"custom\", \"code\"];\n\t}\n\n\tget name()\n\t{\n\t\treturn \"Custom HTML\";\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper(\"html\", \"other\", \"language-html5\");\n\t}\n\n\trender(h, entry)\n\t{\n\t\treturn getLatte().util.dom.toDOM(entry.options.code.replace(/\\t/g, \"\").replace(/\\r?\\n|\\r/g, \" \"));\n\t}\n\n\trenderEditor(h, entry)\n\t{\n\t\treturn h(\"latte-tab-container\", {style: {zIndex: \"0\"}}, [\n\t\t\th(\"div\", {class: \"position-relative d-flex align-items-center mb-1\", style: {zIndex: \"1\"}}, [\n\t\t\t\th(\"strong\", translate(this.name)),\n\t\t\t\th(\"latte-tab-bar\", {class: \"ml-auto\"})\n\t\t\t]),\n\t\t\th(\"latte-tab\", {props: {label: translate(\"Visual\")}}, [\n\t\t\t\th(Vue.extend({\n\t\t\t\t\ttemplate: entry.options.code\n\t\t\t\t\t\t.replace(/href=/g, \"data-be-href=\")\n\t\t\t\t\t\t.replace(/data-action=/g, \"data-be-action=\")\n\t\t\t\t}))\n\t\t\t]),\n\t\t\th(\"latte-tab\", {props: {label: translate(\"Code\")}}, [\n\t\t\t\th(\"textarea\", {\n\t\t\t\t\tclass: \"form-control\",\n\t\t\t\t\tdomProps: {\n\t\t\t\t\t\trows: 10,\n\t\t\t\t\t\tvalue: entry.options.code\n\t\t\t\t\t},\n\t\t\t\t\ton: {\n\t\t\t\t\t\tinput: evt => entry.setOptions({code: evt.target.value})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t])\n\t\t]);\n\t}\n\n\trenderOptions(h, entry)\n\t{\n\t\treturn settingsGroup(h, this.name, [\n\t\t\tblockActions(h, entry)\n\t\t]);\n\t}\n\n}\n","import { first } from \"./helper/array\";\nimport * as DefaultBlocks from \"./blocks\";\nimport { defaultCategories } from \"./block\";\n\nexport class BlockRegistry\n{\n\n\tstatic #blocks = [];\n\n\tstatic get blocks()\n\t{\n\t\treturn BlockRegistry.#blocks\n\t\t\t.filter(b => b.showInInserter);\n\t}\n\n\tstatic findById(id)\n\t{\n\t\treturn first(BlockRegistry.#blocks.filter(b => b.id === id));\n\t}\n\n\tstatic register(block)\n\t{\n\t\tBlockRegistry.#blocks.push(block);\n\t}\n\n\tstatic registerDefaults()\n\t{\n\t\tconst defaultBlocks = Object.values(DefaultBlocks);\n\t\tdefaultBlocks.forEach(Block => BlockRegistry.register(new Block()));\n\t}\n\n\tstatic unregister(block)\n\t{\n\t\tBlockRegistry.#blocks = BlockRegistry.#blocks\n\t\t\t.filter(b => b.id !== block.id);\n\t}\n\n}\n\nexport class CategoryRegistry\n{\n\n\tstatic #categories = [];\n\n\tstatic get categories()\n\t{\n\t\treturn CategoryRegistry.#categories;\n\t}\n\n\tstatic register(category)\n\t{\n\t\tCategoryRegistry.#categories.push(category);\n\t}\n\n\tstatic registerDefaults()\n\t{\n\t\tdefaultCategories.forEach(cat => CategoryRegistry.register(cat));\n\t}\n\n\tstatic unregister(category)\n\t{\n\t\tCategoryRegistry.#categories = CategoryRegistry.#categories\n\t\t\t.filter(c => c.id !== category.id);\n\t}\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-editor\",attrs:{\"spellcheck\":\"false\"}},[_c('div',{staticClass:\"be-content-pane\",on:{\"!click\":function($event){return _vm.onEditorClick($event)}}},[_c('BEToolbar',{ref:\"toolbar\",scopedSlots:_vm._u([{key:\"before\",fn:function(){return [_vm._t(\"toolbar-before\")]},proxy:true},{key:\"after\",fn:function(){return [(false)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Last update: \"+_vm._s(_vm.moment(_vm.lastUpdate).format(\"HH:mm:ss.SSSS\"))+\" (\"+_vm._s(_vm.updateCount)+\")\")]):_vm._e(),_vm._t(\"toolbar-after\")]},proxy:true}],null,true)}),_c('div',{staticClass:\"be-content-mount\"},[_c('div',{staticClass:\"be-content-wrapper be-editing\"},[(_vm.content)?_c('BEBlockMount',{attrs:{\"entry\":_vm.content}}):_vm._e()],1)])],1),_c('BEInserterList',{ref:\"inserterList\"}),_c('BEInserterPopup',{ref:\"inserter\"}),_c('BESettingsPane',{scopedSlots:_vm._u([{key:\"before\",fn:function(api){return [_vm._t(\"settings-pane-before\",null,null,api)]}},{key:\"after\",fn:function(api){return [_vm._t(\"settings-pane-after\",null,null,api)]}}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('latte-popup',{ref:\"popup\",staticClass:\"be-inserter be-inserter-list\",attrs:{\"animate-transform\":false,\"margin-x\":-27,\"margin-y\":15}},[(_vm.blocks.length > 0)?_c('nav',{staticClass:\"nav nav-list\"},[_vm._l((_vm.blocks),function(block,index){return [_c('latte-ripple',{staticClass:\"nav-link\",class:{'is-active': _vm.selectedIndex === index},attrs:{\"as\":\"button\"},on:{\"mousedown\":function($event){return _vm.select(block.id)}}},[_c('i',{staticClass:\"mdi\",class:(\"mdi-\" + (block.icon))}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(block.name)))])])]})],2):_c('div',{staticClass:\"p-3 text-center\",staticStyle:{\"max-width\":\"240px\"}},[_c('i',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"No blocks found matching your search term.\")))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<latte-popup class=\"be-inserter be-inserter-list\" ref=\"popup\" :animate-transform=\"false\" :margin-x=\"-27\" :margin-y=\"15\">\n\t\t<nav class=\"nav nav-list\" v-if=\"blocks.length > 0\">\n\n\t\t\t<template v-for=\"(block, index) of blocks\">\n\n\t\t\t\t<latte-ripple as=\"button\" class=\"nav-link\" :class=\"{'is-active': selectedIndex === index}\" @mousedown=\"select(block.id)\">\n\t\t\t\t\t<i class=\"mdi\" :class=\"`mdi-${block.icon}`\"></i>\n\t\t\t\t\t<span>{{ block.name | beTranslate }}</span>\n\t\t\t\t</latte-ripple>\n\n\t\t\t</template>\n\n\t\t</nav>\n\t\t<div class=\"p-3 text-center\" style=\"max-width: 240px\" v-else>\n\n\t\t\t<i>{{ \"No blocks found matching your search term.\" | beTranslate }}</i>\n\n\t\t</div>\n\t</latte-popup>\n\n</template>\n\n<script>\n\n\timport { translate } from \"./utils\";\n\n\texport default {\n\n\t\tname: \"BEInserterList\",\n\n\t\tfilters: {\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tblocks: [],\n\t\t\t\tfn: undefined,\n\t\t\t\tselectedIndex: 0\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tisOpen()\n\t\t\t{\n\t\t\t\treturn this.popup.isOpen;\n\t\t\t},\n\n\t\t\tpopup()\n\t\t\t{\n\t\t\t\treturn this.$refs.popup;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tclose()\n\t\t\t{\n\t\t\t\tif (!this.isOpen)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.popup.close();\n\t\t\t},\n\n\t\t\thandleKeyDown(evt)\n\t\t\t{\n\t\t\t\tswitch (evt.key)\n\t\t\t\t{\n\t\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t\tthis.selectedIndex = (this.selectedIndex + 1) % this.blocks.length;\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t\tthis.selectedIndex = this.selectedIndex === 0 ? this.blocks.length - 1 : this.selectedIndex - 1;\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"Enter\":\n\t\t\t\t\tcase \"Tab\":\n\t\t\t\t\t\tif (this.blocks.length > 0)\n\t\t\t\t\t\t\tthis.select(this.blocks[this.selectedIndex].id);\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\topen(rect, blocks, fn)\n\t\t\t{\n\t\t\t\tthis.blocks = blocks;\n\t\t\t\tthis.fn = fn;\n\t\t\t\tthis.selectedIndex = 0;\n\t\t\t\tthis.popup.rect = rect;\n\t\t\t\tthis.popup.open();\n\t\t\t},\n\n\t\t\tselect(id)\n\t\t\t{\n\t\t\t\tif (this.fn)\n\t\t\t\t\tthis.fn(id);\n\n\t\t\t\tthis.close();\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEInserterList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEInserterList.vue?vue&type=template&id=0176000b&\"\nimport script from \"./BEInserterList.vue?vue&type=script&lang=js&\"\nexport * from \"./BEInserterList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"be-settings-pane\"},[_vm._t(\"before\",null,null,{blockSettingsShown: _vm.portalHasPassengers}),[(_vm.portalHasPassengers)?_c('div',{staticClass:\"panel-header\"},[_c('span',{staticClass:\"panel-title\"},[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Block settings\")))])]):_vm._e(),_c('latte-portal-target',{ref:\"portal\",attrs:{\"name\":_vm.uniqueId,\"multiple\":\"\"}})],_vm._t(\"after\",null,null,{blockSettingsShown: _vm.portalHasPassengers})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"be-settings-pane\">\n\t\t<slot name=\"before\" v-bind=\"{blockSettingsShown: portalHasPassengers}\"></slot>\n\n\t\t<template>\n\t\t\t<div class=\"panel-header\" v-if=\"portalHasPassengers\">\n\t\t\t\t<span class=\"panel-title\">{{ \"Block settings\" | beTranslate }}</span>\n\t\t\t</div>\n\t\t\t<latte-portal-target ref=\"portal\" :name=\"uniqueId\" multiple></latte-portal-target>\n\t\t</template>\n\n\t\t<slot name=\"after\" v-bind=\"{blockSettingsShown: portalHasPassengers}\"></slot>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { editorInstance, translate } from \"./utils\";\n\n\texport default {\n\n\t\tname: \"BESettingsPane\",\n\n\t\tfilters: {\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: editorInstance(this),\n\t\t\t\tisInitialized: false\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tthis.isInitialized = true;\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tportalHasPassengers()\n\t\t\t{\n\t\t\t\tif (!this.isInitialized || !this.$refs.portal)\n\t\t\t\t\treturn false;\n\n\t\t\t\treturn this.$refs.portal.passengers.length > 0;\n\t\t\t},\n\n\t\t\tuniqueId()\n\t\t\t{\n\t\t\t\treturn `be-settings-pane-${this.editor.uniqueId}`;\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsPane.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BESettingsPane.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BESettingsPane.vue?vue&type=template&id=1b0eea53&\"\nimport script from \"./BESettingsPane.vue?vue&type=script&lang=js&\"\nexport * from \"./BESettingsPane.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel-header be-toolbar\"},[_c('span'),_c('button',{staticClass:\"btn btn-outline btn-primary\",on:{\"click\":_vm.onInserterClick}},[_c('i',{staticClass:\"mdi mdi-plus-circle\"}),_c('span',[_vm._v(_vm._s(_vm._f(\"beTranslate\")(\"Insert\")))])]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('View code')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-code-tags\"})]),_c('div',{staticClass:\"divider divider-vertical\"}),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('Undo')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-undo\"})]),_c('button',{staticClass:\"btn btn-icon btn-text btn-dark\",attrs:{\"data-tooltip\":_vm._f(\"beTranslate\")('Redo')},on:{\"click\":_vm.notImplemented}},[_c('i',{staticClass:\"mdi mdi-redo\"})]),_c('latte-portal-target',{staticClass:\"d-flex align-items-center\",attrs:{\"name\":_vm.beforePortalId,\"multiple\":\"\"}}),_vm._t(\"before\"),_c('div',{staticClass:\"mx-auto\"}),_c('latte-portal-target',{staticClass:\"d-flex align-items-center\",attrs:{\"name\":_vm.afterPortalId,\"multiple\":\"\"}}),_vm._t(\"after\"),_c('span')],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"panel-header be-toolbar\">\n\t\t<span></span>\n\n\t\t<button class=\"btn btn-outline btn-primary\" @click=\"onInserterClick\"><i class=\"mdi mdi-plus-circle\"></i><span>{{ \"Insert\" | beTranslate }}</span></button>\n\n\t\t<div class=\"divider divider-vertical\"></div>\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'View code' | beTranslate\"><i class=\"mdi mdi-code-tags\"></i></button>\n\n\t\t<div class=\"divider divider-vertical\"></div>\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'Undo' | beTranslate\"><i class=\"mdi mdi-undo\"></i></button>\n\t\t<button class=\"btn btn-icon btn-text btn-dark\" @click=\"notImplemented\" :data-tooltip=\"'Redo' | beTranslate\"><i class=\"mdi mdi-redo\"></i></button>\n\n\t\t<latte-portal-target class=\"d-flex align-items-center\" :name=\"beforePortalId\" multiple></latte-portal-target>\n\t\t<slot name=\"before\"></slot>\n\n\t\t<div class=\"mx-auto\"></div>\n\n\t\t<latte-portal-target class=\"d-flex align-items-center\" :name=\"afterPortalId\" multiple></latte-portal-target>\n\t\t<slot name=\"after\"></slot>\n\n\t\t<span></span>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { editorInstance, getLatte, translate } from \"./utils\";\n\timport BEInserterPopup from \"./BEInserterPopup\";\n\n\tconst L = getLatte();\n\n\texport default {\n\n\t\tcomponents: {\n\t\t\tBEInserterPopup\n\t\t},\n\n\t\tfilters: {\n\t\t\tbeTranslate: (text, ...params) => translate(text, ...params)\n\t\t},\n\n\t\tname: \"BEToolbar\",\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\teditor: editorInstance(this)\n\t\t\t};\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tafterPortalId()\n\t\t\t{\n\t\t\t\treturn `${this.editor.uniqueId}-toolbar-after`;\n\t\t\t},\n\n\t\t\tbeforePortalId()\n\t\t\t{\n\t\t\t\treturn `${this.editor.uniqueId}-toolbar-before`;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tnotImplemented()\n\t\t\t{\n\t\t\t\tL.ui.message.alert(\"Notice\", \"This feature is not yet implemented.\");\n\t\t\t},\n\n\t\t\tonInserterClick(evt)\n\t\t\t{\n\t\t\t\tconst el = L.util.dom.closest(evt.target, \".btn\").querySelector(\"i.mdi\");\n\n\t\t\t\tthis.editor.inserter.open(el, id => this.editor.content.insertBlock(id, undefined, {}, {}, this.editor.content), -15, 12);\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEToolbar.vue?vue&type=template&id=372ad12c&\"\nimport script from \"./BEToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./BEToolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\n\t<div class=\"be-editor\" spellcheck=\"false\">\n\n\t\t<div class=\"be-content-pane\" @click.capture=\"onEditorClick\">\n\t\t\t<BEToolbar ref=\"toolbar\">\n\t\t\t\t<template #before>\n\t\t\t\t\t<slot name=\"toolbar-before\"></slot>\n\t\t\t\t</template>\n\t\t\t\t<template #after>\n\t\t\t\t\t<span class=\"text-muted\" v-if=\"false\">Last update: {{ moment(lastUpdate).format(\"HH:mm:ss.SSSS\") }} ({{ updateCount }})</span>\n\t\t\t\t\t<slot name=\"toolbar-after\"></slot>\n\t\t\t\t</template>\n\t\t\t</BEToolbar>\n\n\t\t\t<div class=\"be-content-mount\">\n\t\t\t\t<div class=\"be-content-wrapper be-editing\">\n\t\t\t\t\t<BEBlockMount :entry=\"content\" v-if=\"content\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<BEInserterList ref=\"inserterList\"/>\n\t\t<BEInserterPopup ref=\"inserter\"/>\n\n\t\t<BESettingsPane>\n\t\t\t<template #before=\"api\">\n\t\t\t\t<slot name=\"settings-pane-before\" v-bind=\"api\"></slot>\n\t\t\t</template>\n\t\t\t<template #after=\"api\">\n\t\t\t\t<slot name=\"settings-pane-after\" v-bind=\"api\"></slot>\n\t\t\t</template>\n\t\t</BESettingsPane>\n\n\t</div>\n\n</template>\n\n<script>\n\n\timport { getLatte } from \"./utils\";\n\n\timport BEBlocks from \"./BEBlocks\";\n\timport BEBlockMount from \"./BEBlockMount\";\n\timport BEInserterExpanded from \"./BEInserterExpanded\";\n\timport BEInserterList from \"./BEInserterList\";\n\timport BEInserterPopup from \"./BEInserterPopup\";\n\timport BESettingsPane from \"./BESettingsPane\";\n\timport BEToolbar from \"./BEToolbar\";\n\n\timport { convertToBlocks, convertToData } from \"./api\";\n\n\tconst L = getLatte();\n\tconst defaultColorPalette = [\n\t\t{name: \"Primary\", value: \"rgb(var(--color-primary))\"},\n\t\t{name: \"Black\", value: \"rgb(0, 0, 0)\"},\n\t\t{name: \"White\", value: \"rgb(255, 255, 255)\"},\n\t\t{name: \"Chili\", value: \"rgb(194, 24, 7)\"},\n\t\t{name: \"Ginger\", value: \"rgb(247, 54, 43)\"},\n\t\t{name: \"Pineapple\", value: \"rgb(255, 173, 0)\"},\n\t\t{name: \"Lemon\", value: \"rgb(245, 214, 0)\"},\n\t\t{name: \"Lime\", value: \"rgb(110, 204, 84)\"},\n\t\t{name: \"Fern\", value: \"rgb(79, 121, 66)\"},\n\t\t{name: \"Elderflower\", value: \"rgb(74, 204, 207)\"},\n\t\t{name: \"Cream Soda\", value: \"rgb(0, 171, 255)\"},\n\t\t{name: \"Sapphire\", value: \"rgb(24, 103, 192)\"},\n\t\t{name: \"Blackberry\", value: \"rgb(69, 56, 140)\"},\n\t\t{name: \"Grape\", value: \"rgb(102, 61, 166)\"},\n\t\t{name: \"Blueberry\", value: \"rgb(143, 120, 232)\"},\n\t\t{name: \"Tropical\", value: \"rgb(204, 120, 209)\"},\n\t\t{name: \"Bubble Gum\", value: \"rgb(247, 140, 191)\"},\n\t\t{name: \"Raspberry\", value: \"rgb(252, 0, 122)\"},\n\t\t{name: \"Hibiscus\", value: \"rgb(180, 55, 87)\"},\n\t\t{name: \"Tortilla\", value: \"rgb(153, 121, 80)\"},\n\t\t{name: \"Flint\", value: \"rgb(126, 123, 158)\"},\n\t\t{name: \"Slate\", value: \"rgb(63, 59, 84)\"}\n\t];\n\tconst testBlocks = [\n\t\t{\n\t\t\tid: \"columns\",\n\t\t\tchildren: [\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tid: \"youtube-embed\",\n\t\t\t\t\t\toptions: {}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: \"heading\",\n\t\t\t\t\t\toptions: {type: \"h4\", text: \"Gavin DeGraw - Soldier\"}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: \"paragraph\",\n\t\t\t\t\t\toptions: {text: \"Nice music from YouTube.\"}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tid: \"heading\",\n\t\t\t\t\t\toptions: {type: \"h4\", text: \"Related videos\"}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t],\n\t\t\toptions: {\n\t\t\t\tpreset: 1\n\t\t\t}\n\t\t}\n\t];\n\n\texport default {\n\n\t\tname: \"BEEditor\",\n\n\t\tcomponents: {\n\t\t\tBEBlockMount,\n\t\t\tBEBlocks,\n\t\t\tBEInserterExpanded,\n\t\t\tBEInserterList,\n\t\t\tBEInserterPopup,\n\t\t\tBESettingsPane,\n\t\t\tBEToolbar\n\t\t},\n\n\t\tprops: {\n\t\t\tcolorPalette: {default: () => defaultColorPalette, type: Array},\n\t\t\tvalue: {default: () => testBlocks, type: Array}\n\t\t},\n\n\t\tdestroyed()\n\t\t{\n\t\t\tdocument.removeEventListener(\"selectionchange\", this.onSelectionChanged);\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tlastUpdate: Date.now(),\n\t\t\t\tupdateCount: 0,\n\t\t\t\tuniqueId: L.api.id(),\n\t\t\t\tcontent: undefined,\n\t\t\t\tselection: window.getSelection()\n\t\t\t};\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tdocument.addEventListener(\"selectionchange\", this.onSelectionChanged, {passive: true});\n\t\t\tdocument.execCommand(\"defaultParagraphSeparator\", false, \"div\");\n\n\t\t\tthis.onValueChanged();\n\t\t},\n\n\t\tcomputed: {\n\n\t\t\tinserter()\n\t\t\t{\n\t\t\t\treturn this.$refs.inserter;\n\t\t\t},\n\n\t\t\tinserterList()\n\t\t\t{\n\t\t\t\treturn this.$refs.inserterList;\n\t\t\t},\n\n\t\t\ttoolbar()\n\t\t\t{\n\t\t\t\treturn this.$refs.toolbar;\n\t\t\t}\n\n\t\t},\n\n\t\tmethods: {\n\n\t\t\tonEditorClick(evt = undefined)\n\t\t\t{\n\t\t\t\tif (evt && L.util.dom.closest(evt.target, \".be-options-side\") !== null)\n\t\t\t\t\treturn;\n\n\t\t\t\tif (evt && L.util.dom.closest(evt.target, \".be-toolbar\") !== null)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.$emit(\"be:reset-block-selection\");\n\t\t\t},\n\n\t\t\tonInput()\n\t\t\t{\n\t\t\t\tthis.$emit(\"be:content-ready\", this.content);\n\t\t\t\tthis.$emit(\"change\", convertToData(this.content));\n\t\t\t\tthis.lastUpdate = Date.now();\n\t\t\t\tthis.updateCount++;\n\t\t\t},\n\n\t\t\tonSelectionChanged()\n\t\t\t{\n\t\t\t\t/** @var {*} anchorElement */\n\t\t\t\tconst anchorElement = this.selection.anchorNode;\n\n\t\t\t\tif (L.util.dom.closest(anchorElement, this.$el) === null)\n\t\t\t\t\treturn;\n\n\t\t\t\tthis.$emit(\"be:selection-changed\", this.selection);\n\t\t\t},\n\n\t\t\tonValueChanged()\n\t\t\t{\n\t\t\t\tthis.content = convertToBlocks(this, this.value);\n\t\t\t\tthis.$emit(\"be:content-ready\");\n\t\t\t}\n\n\t\t},\n\n\t\twatch: {\n\n\t\t\tvalue()\n\t\t\t{\n\t\t\t\tthis.content = undefined;\n\t\t\t\tthis.$nextTick(() => this.onValueChanged());\n\t\t\t}\n\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BEEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BEEditor.vue?vue&type=template&id=fca5de20&\"\nimport script from \"./BEEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./BEEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { BlockRegistry, CategoryRegistry } from \"./registry\";\nimport \"./scss/index.scss\";\n\nexport { default as BEEditor } from \"./BEEditor.vue\";\n\nBlockRegistry.registerDefaults();\nCategoryRegistry.registerDefaults();\n\n","<!--\n  - Copyright (c) 2019 - Bas Milius <bas@mili.us>\n  -\n  - This file is part of the Latte UI package.\n  -\n  - For the full copyright and license information, please view the\n  - LICENSE file that was distributed with this source code.\n  -->\n\n<template>\n\n\t<div class=\"panel radius-none\" style=\"height: calc(100vh - 60px)\">\n\t\t<BEEditor v-model=\"content\">\n\t\t\t<template #settings-pane-after=\"{ blockSettingsShown }\">\n\t\t\t\t<template v-if=\"!blockSettingsShown\">\n\t\t\t\t\t<div class=\"panel-header\"><span class=\"panel-title\">Page settings</span></div>\n\t\t\t\t\t<BESettingsGroup title=\"General\" :padded=\"true\">\n\t\t\t\t\t\tThis panel was added with a slot.\n\t\t\t\t\t</BESettingsGroup>\n\t\t\t\t\t<BESettingsGroup title=\"View\" :opened=\"false\" :padded=\"true\">\n\t\t\t\t\t\tThis panel was also added with a slot.\n\t\t\t\t\t</BESettingsGroup>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</BEEditor>\n\t</div>\n\n</template>\n\n<script>\n\n\timport { BEEditor } from \"../../../block-editor/src\";\n\n\timport BESettingsGroup from \"../../../block-editor/src/BESettingsGroup\";\n\n\texport default {\n\n\t\tcomponents: {\n\t\t\tBESettingsGroup,\n\t\t\tBEEditor\n\t\t},\n\n\t\tdata()\n\t\t{\n\t\t\treturn {\n\t\t\t\tcontent: [{\"id\": \"heading\", \"options\": {\"color\": \"rgb(247, 54, 43)\", \"type\": \"h1\", \"text\": \"This is my amazing page!\"}},\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec in lorem eget est commodo vulputate eu quis ipsum. Nam dictum quis dui eget cursus. Phasellus tellus sapien, auctor et cursus eget, tempus ut justo. Donec placerat scelerisque nibh, eu consectetur elit imperdiet eu. Curabitur id ligula quis eros ullamcorper elementum. Fusce diam nibh, porttitor vel sagittis et, hendrerit in mauris. Nam elementum nibh in ipsum tempus, non semper lorem fringilla. In turpis dolor, venenatis lobortis malesuada non, posuere tempor tortor. Cras interdum mauris ut lorem volutpat, sit amet varius ex scelerisque.&nbsp;Suspendisse quam urna, varius ut pretium quis, lacinia a eros. Duis non nisi eu neque luctus ultricies et vel lectus.&nbsp;\"}},\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"right\", \"color\": \"rgb(126, 123, 158)\", \"fontSize\": 1.35, \"indent\": 10, \"text\": \"<i>\\\"Aenean varius pretium tortor eu porttitor. Vivamus finibus sagittis tellus, sit amet porta tortor tempor ac. Aenean ac mauris lobortis ipsum feugiat volutpat nec sit amet ex.\\\"</i>\"}},\n\t\t\t\t\t{\"id\": \"button\", \"options\": {\"class\": \"mx-auto mb-3\", \"pillButton\": false, \"rippleButton\": true, \"size\": \"lg\", \"text\": \"My awesome button\", \"type\": \"outline\", \"url\": \"\"}},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": \"columns\", \"options\": {\"class\": \"mb-3\", \"columns\": 2, \"gutters\": true, \"preset\": 1}, \"children\": [[{\"id\": \"youtube-embed\", \"options\": {\"videoId\": \"2TuyT0knklM\"}}], [{\"id\": \"heading\", \"options\": {\"type\": \"h5\", \"text\": \"Gavin DeGraw - Soldier\"}},\n\t\t\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Phasellus commodo, lacus non viverra imperdiet, libero orci lacinia velit, sit amet malesuada dui diam eu lectus. Sed maximus eu orci ut condimentum.&nbsp;\"}},\n\t\t\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Vivamus auctor sapien nisl, varius interdum libero malesuada sit amet. Integer vulputate facilisis urna id sollicitudin.\"}}]]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"id\": \"paragraph\",\n\t\t\t\t\t\t\"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Integer ac vestibulum dolor, et euismod sem. Vivamus volutpat, lectus eget vulputate eleifend, nibh quam aliquet lorem, quis efficitur neque magna ac elit. Vestibulum ac risus eu ligula auctor cursus. Curabitur purus enim, accumsan nec magna vel, ornare sagittis nisi. Pellentesque libero lorem, rhoncus placerat mauris et, vehicula tempor turpis. Duis nec luctus metus. Maecenas consequat libero id nulla pharetra luctus. Donec ultricies tincidunt tincidunt. Suspendisse sollicitudin lacus nunc, sed ultricies tellus efficitur nec. Phasellus eget sem nec enim molestie venenatis nec ut tortor. Aliquam dictum tempus neque, at luctus elit mollis sed. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Sed pellentesque, metus pharetra auctor luctus, sem nunc mattis purus, at mattis turpis mauris nec dolor. Curabitur cursus enim non libero sodales tristique.\"}\n\t\t\t\t\t},\n\t\t\t\t\t{\"id\": \"paragraph\", \"options\": {\"align\": \"left\", \"fontSize\": 1, \"indent\": 0, \"text\": \"Aliquam urna sapien, gravida eget cursus at, fringilla eu metus. In sapien odio, gravida hendrerit iaculis id, sodales sit amet nibh. Nunc nec efficitur diam. Fusce sagittis at nibh eget tristique. Integer elit felis, consequat nec fermentum ut, dignissim sit amet purus. Ut aliquam imperdiet faucibus. Etiam maximus mauris id sem aliquam, vel posuere leo viverra. Nulla eleifend leo in sapien cursus, congue mollis nunc ultrices.\"}}\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\n\t\tdestroyed()\n\t\t{\n\t\t\tdocument.body.style.removeProperty(\"overflow\");\n\t\t},\n\n\t\tmounted()\n\t\t{\n\t\t\tdocument.body.style.setProperty(\"overflow\", \"hidden\");\n\t\t}\n\n\t}\n\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockEditor.vue?vue&type=template&id=78fdd886&\"\nimport script from \"./BlockEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require('../../es/object/get-prototype-of');\n","module.exports = require(\"core-js-pure/features/object/set-prototype-of\");","require('../../modules/es.object.create');\nvar path = require('../../internals/path');\n\nvar Object = path.Object;\n\nmodule.exports = function create(P, D) {\n  return Object.create(P, D);\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.github.io/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak, true, true);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","var typedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.github.io/ecma262/#sec-typedarray-objects\ntypedArrayConstructor('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","require('../../modules/es.object.get-prototype-of');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.getPrototypeOf;\n","module.exports = require(\"core-js-pure/features/object/create\");","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","module.exports = require('../../es/object/create');\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common, IS_MAP, IS_WEAK) {\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (get) {\n  return function Map() { return get(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong, true);\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseFloat = global.parseFloat;\nvar FORCED = 1 / nativeParseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = nativeParseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : nativeParseFloat;\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.3.3.3 WeakMap.prototype.get(key)\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // 23.3.3.5 WeakMap.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // 23.4.3.1 WeakSet.prototype.add(value)\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","require('../../modules/es.object.set-prototype-of');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.setPrototypeOf;\n","'use strict';\nvar $ = require('../internals/export');\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('startsWith') }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","module.exports = require('../../es/object/set-prototype-of');\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: sloppyArrayMethod('some') }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n"],"sourceRoot":""}